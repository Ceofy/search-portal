{"version":3,"sources":["assets/images/cytoscape-logo-mono-light.svg","assets/images/zoom-logo.svg","assets/images/zoom-logo-mono.svg","assets/images/ndex-logo-mono-light.svg","components/NDExSignInModal/assets/images/google-logo.svg","components/NDExSignInModal/assets/images/google-logo-disabled.svg","assets/images/github.svg","assets/images/search-logo.svg","assets/images/ucsd-logo.svg","assets/images/cytoscape-logo-mono-dark.svg","assets/images/nrnb-logo-mono-dark.svg","assets/images/wp-logo-mono-dark.svg","assets/images/ideker-logo-mono-dark.svg","actions/search.js","actions/uiState.js","actions/network.js","actions/source.js","actions/cyrest.js","actions/ndexSave.js","components/GeneList/index.jsx","components/InputPanel/index.jsx","components/Results/HoverTab.jsx","components/Results/Empty.jsx","components/AppShell/MessageSnackbar.jsx","components/Results/CytoscapeViewer/Warning.jsx","components/Results/CytoscapeViewer/LayoutSettings.js","components/Results/CytoscapeViewer/index.jsx","components/LoadingPanel/index.jsx","components/Results/Ndex/NetworkViewer.jsx","components/Results/TableBrowser/attribute-util.js","components/Results/TableBrowser/camel-case-util.js","components/Results/TableBrowser/strip-scripts-util.js","components/Results/TableBrowser/ExpandPanel.jsx","components/Results/TableBrowser/NetworkProperties.jsx","components/Results/TableBrowser/GeneAnnotationList.jsx","components/Results/TableBrowser/NodeProperties.jsx","components/Results/TableBrowser/EdgeProperties.jsx","components/Results/TableBrowser/TableBrowserPanel.jsx","components/Results/TableBrowser/index.jsx","api/apiConstants.js","api/cyrest.js","sagas/cyRestStatusSaga.js","components/Results/Ndex/OpenInCytoscapeButton.jsx","components/Results/Ndex/ResetZoomButton.jsx","components/Results/Ndex/Highlighter.jsx","components/Results/Ndex/OpenInNDExButton.jsx","components/NDExSave/index.jsx","components/NDExSignInModal/assets/config.js","components/NDExSignInModal/index.jsx","components/Results/Ndex/OpenOriginalNetworkButton.jsx","components/Results/Ndex/NetworkToolbar.jsx","components/Results/Ndex/NetworkView.jsx","components/Results/Ndex/SortPanel.jsx","components/Results/Ndex/NetworkList.jsx","components/Results/Ndex/index.jsx","components/Results/TabContent.jsx","components/Results/index.jsx","components/AppShell/GeneTextBox.jsx","components/AppShell/TitleBar.jsx","components/SettingsPanel/index.jsx","components/AppShell/index.jsx","components/HomePanel/index.jsx","containers/MainContainer/index.jsx","components/TopPage/SearchTextBox.jsx","components/TopPage/Footer.jsx","components/TopPage/StartPanel.jsx","components/TopPage/index.jsx","containers/TopPageContainer/index.jsx","App.js","serviceWorker.js","reducers/search.js","reducers/uiState.js","reducers/network.js","reducers/source.js","reducers/cyrest.js","reducers/ndexSave.js","reducers/index.js","api/ndex.js","api/mygene.js","api/search.js","sagas/ndexSaga.js","sagas/cyRestSaga.js","api/ndexSave.js","sagas/ndexSaveSaga.js","index.js","analytics.js","assets/images/ndex-logo.svg","assets/images/cytoscape-logo.svg"],"names":["module","exports","SET_QUERY","CLEAR_QUERY","SEARCH_STARTED","SEARCH_SUCCEEDED","SEARCH_FAILED","SET_SEARCH_RESULT","FETCH_RESULT_STARTED","FETCH_RESULT_SUCCEEDED","FETCH_RESULT_FAILED","CLEAR_ALL","SET_SELECTED_GENES","CLEAR_SELECTED_GENES","SET_SEARCH_RESULT_ORDER","SET_ACTUAL_RESULTS","setQuery","createAction","clearQuery","searchStarted","searchSucceeded","searchFailed","setSearchResult","fetchResultStarted","fetchResultSucceeded","fetchResultFailed","clearAll","setSelectedGenes","clearSelectedGenes","setSearchResultOrder","setActualResults","SET_SETTINGS_OPEN","setSettingsOpen","SET_CYTOSCAPE_STATUS","setCytoscapeStatus","SET_SERVICES_LIST_OPEN","setServicesListOpen","SET_HIGHLIGHTS","setHighlights","SET_SELECTED_SOURCE","setSelectedSource","SET_SORT_ORDER","setSortOrder","NETWORK_FETCH_STARTED","NETWORK_FETCH_SUCCEEDED","NETWORK_FETCH_FAILED","NETWORK_CLEAR","SELECT_NODES","UNSELECT_NODES","SELECT_EDGES","UNSELECT_EDGES","DESELECT_ALL","CHANGE_TAB","CHANGE_LIST_INDEX","FIT_NETWORK_VIEW","SET_ANNOTATIONS","SET_LAYOUT","SET_LAYOUTS","networkFetchStarted","networkFetchSucceeded","networkFetchFailed","networkClear","selectNodes","unselectNodes","selectEdges","unselectEdges","deselectAll","changeTab","changeListIndex","fitNetworkView","setAnnotations","setLayout","setLayouts","FIND_SOURCE_STARTED","FIND_SOURCE_SUCCEEDED","FIND_SOURCE_FAILED","SET_CURRENT_SOURCE","findSourceStarted","findSourceSucceeded","findSourceFailed","setCurrentSource","IMPORT_NETWORK_STARTED","IMPORT_NETWORK_SUCCEEDED","IMPORT_NETWORK_FAILED","importNetworkStarted","importNetworkSucceeded","importNetworkFailed","SET_PORT","setPort","FETCH_AVAILABLE","SET_AVAILABLE","fetchAvailable","setAvailable","START_CYREST_POLLING","STOP_CYREST_POLLING","startCyRestPolling","stopCyRestPolling","SET_NDEX_MODAL_OPEN","setNDExModalOpen","SET_PROFILE","setProfile","CREDENTIALS_SIGN_ON","credentialsSignOn","GOOGLE_SIGN_ON","googleSignOn","SAVE_TO_NDEX","saveToNDEx","SET_NETWORK_URL","setNetworkUrl","SET_ERROR_MESSAGE","setErrorMessage","buttonStyle","padding","borderRadius","height","borderWidth","backgroundColor","selectedButtonStyle","selectedChipStyle","margin","toggleButtonGroupStyle","ToggleButton","withStyles","label","MuiToggleButton","getChip","value","isValid","props","hitSets","color","found","has","symbol","Chip","avatar","Avatar","variant","key","selected","style","clickable","GeneList","results","search","hits","network","hitGenes","Set","handleChange","event","newAlignment","selectedGenes","searchActions","className","geneList","genes","matched","unmatched","values","push","matchedSorted","sort","reverse","unmatchedSorted","sorted","List","map","geneValue","ListItem","ToggleButtonGroup","exclusive","onChange","InputPanel","HoverTab","Hover","theme","root","opacity","Tab","Empty","Typography","message","MessageSnackbar","handleClose","reason","setOpen","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","ContentProps","id","action","IconButton","aria-label","onClick","logo","button","display","marginLeft","marginRight","position","top","outer","justifyContent","alignItems","inner","marginTop","width","classes","useState","state","setState","setMessage","uuid","length","cyrest","available","isLoadingNetwork","lastResponse","cycleId","console","log","type","currentId","setTimeout","Fragment","Tooltip","title","placement","aria-haspopup","handleImportNetwork","alt","src","cytoLogo","align","CONCENTRIC_LAYOUT","name","minNodeSpacing","animate","COSE_LAYOUT","nodeRepulsion","node","nodeOverlap","idealEdgeLength","edge","fit","Cytoscape","use","CyCanvas","cyInstance","annotationRenderer","CxToCyCanvas","CxToJs","utils","CyNetworkUtils","MemoCytoscapeViewer","React","memo","highlights","uiState","originalCX","cyjs","cloneDeep","elements","originalElements","PRESET_LAYOUT","positions","_private","data","filter","elem","toString","layout","undefined","useMemo","networkAttr","entry","networkAttributes","firstEntry","annotationEntry","attr","n","nice","rawCXtoNiceCX","Promise","resolve","reject","drawAnnotationsFromNiceCX","drawBackground","then","networkActions","useEffect","on","e","warn","selectEdge","edges","$","forEach","element","selectNode","nodes","removeClass","this","source","target","addClass","isLayout","targets","zoom","center","eles","duration","nodeCount","edgeCount","resize","stop","background","stylesheet","cy","oldProps","newProps","annotations","isEqual","LoadingPanel","CircularProgress","size","NetworkViewer","isFetching","actualResults","resized","findAttributes","attrType","len","camelCaseToTitleCase","camelCaseString","slice","result","replace","trim","charAt","toUpperCase","stripScripts","ExpandPanel","defaultExpanded","divider","borderTop","Math","random","ListItemText","primary","summary","Collapse","in","timeout","unmountOnExit","component","disablePadding","details","index","useStyles","makeStyles","container","overflow","boxSizing","paddingLeft","paddingTop","lessPadding","noPadding","paddingBottom","extractContent","modifiedText","v","Array","isArray","join","extractTitle","formatPrimary","startsWith","endsWith","parse","formatContext","splitResults","split","item","NetworkProperties","context","content","leftDisplayItems","properties","contributors","wikiPathways","indraGO","networkInformation","rightDisplayItems","attributes","displayed","selectedSource","newContent","latin","english","newTitle","splice","rightDisplay","list","currentEntry","secondaryString","primaryString","leftDisplay","keyId","sizes","gutterSize","GENE_CARDS_URL","GeneAnnotationList","handleClick","tag","curState","getListItem","geneEntry","description","_id","disableGutters","ListItemAvatar","inline","href","search_results","geneSymbol","get","Component","linkIcon","nested","spacing","unit","wideList","table","tableLayout","icon","weidth","MemoNodeProperties","selectedNodes","nodeData","aliasList","setDefaultExpanded","entityProperties","nodeProperties","displayItems","a","b","topDisplay","geneAnnotation","inset","aliases","represents","prefix","add","aliasLinks","alias","displayCol1","displayCol2","colSpan","valign","findNode","nodeId","nodeArray","isNaN","returnNode","MemoEdgeProperties","selectedEdges","nodeList","edgeProperties","aScore","bScore","aSource","aTarget","bSource","bTarget","listPadding","sourceSymbol","targetSymbol","queryList","includes","prevProps","subtitle","minHeight","TabContent","nodeAttributes","i","JSON","r","d","geneName","po","concat","DISABLED_STYLE","TableBrowserPanel","tableDisplayTab","Tabs","newValue","MemoTableBrowser","BASE_URL","SERVICE_SERVER_URL","status","cyRESTPort","fetch","CYREST_BASE_URL","method","importNetwork","payload","importNetworkUrl","headers","Accept","body","stringify","_fetchCyRESTAvailable","_cyRestStatusSaga","delay","currentConnectionState","call","put","take","race","all","BootstrapButton","borderColor","fade","Button","buttonIcon","minWidth","cyrestActions","disabled","disableFocusListener","logoDisabled","disabledLogo","textAlign","lignHeight","highlight","evt","uiStateActions","ndexSaveActions","NDExSave","cx","token","networkUrl","ndexSave","profile","authorization","DialogContentText","DialogActions","config","NDEX_USER_VALIDATION","googleClientId","GoogleSignOn","onFailure","err","error","onError","googleSSO","onSuccess","clsName","GoogleLogo","GoogleLogoDisabled","clientId","render","renderProps","buttonText","CredentialsSignOn","handleCredentialsSignOn","button_cls","onSubmit","FormControl","TextField","placeholder","required","autoComplete","NDExSignIn","handleError","onLoginSuccess","DialogTitle","DialogContent","Grid","xs","Paper","NDExSignInModal","onLogout","preventDefault","handleOnSuccess","resp","Dialog","ndexModal","aria-labelledby","image","errorMessage","handleOpen","url","window","fontSize","toolbar","paddingRight","grow","flexGrow","menuButton","breakpoints","up","shape","palette","common","white","searchIcon","pointerEvents","inputRoot","inputInput","transition","transitions","create","buttons","border","openIcon","formControl","input","focused","notchedOutline","other","networkName","inputLabel","useRef","labelWidth","setLabelWidth","current","offsetWidth","menuItems","layouts","setValue","noWrap","InputLabel","ref","htmlFor","Select","OutlinedInput","MenuItem","DEFAULT_RATIO","NetworkView","setResize","direction","onDragEnd","BootstrapInput","textColor","InputBase","formStyle","left","marginBottom","divStyle","borderBottom","typeStyle","selectStyle","SortPanel","sortPValueOn","setSortPValueOn","displayEmpty","networkAvatar","menuItem","menuText","secondary","plot","sortFunction","sortOrder","PValue","first","handleFetch","networkUUID","handleListItemClick","enrichmentStyle","selectedIndex","listIndex","MenuList","renderNetworkListItem","titleStyle","lineHeight","wordBreak","subtitleStyle","infoStyle","Ndex","sourceUUID","jobId","updateHistory","searchResults","sourceName","history","querySize","networkEntry","imageURL","ListItemIcon","pVal","toExponential","pv","rowSpan","parent_network_nodes","parent_network_edges","sourceId","TAB_LABELS","getSourceName","sources","idx","findResult","resultArray","currentResult","tabs","others","setSelectedTabIndex","selectedSourceName","EXAMPLES","examples","flex","iconButton","geneTextRef","anchorEl","query","queryGenes","menuOpen","Boolean","loadCSS","document","querySelector","handleSearch","sourceNames","elevation","currentTarget","transformOrigin","example","Divider","getElementById","select","execCommand","Icon","classNames","onKeyDown","textTransform","TitleBar","handleMenu","isSettingsOpen","handleHomeButton","AppBar","appBar","appBarShift","Toolbar","homeLogo","textBox","openLink","NDEX_URL","HELP_URL","hide","easing","sharp","leavingScreen","easeOut","enteringScreen","whiteSpace","withTheme","SettingsPanel","handleServicesItemClick","servicesListOpen","handleDrawerClose","isOpen","Drawer","drawer","anchor","paper","drawerPaper","sourceEntry","version","text","LINKS","link","github","flexShrink","drawerHeader","mixins","contentShift","cyrestport","URLSearchParams","location","CssBaseline","children","HomePanel","onpopstate","onBackButtonEvent","withRouter","connect","dispatch","bindActionCreators","sourceActions","listen","pathname","ReactGA","set","page","pageview","feedbackURL","searchButtonEl","handleExample","exampleIdx","autoFocus","searchLogo","Link","underline","CY_URL","UCSD_URL","Footer","ndexLogo","cyLogo","ucsdLogo","StartPanel","queryString","isSearching","flexDirection","ndex","TopPage","Top","App","hostname","match","EMPTY_STATE","searchStatus","resultList","handleActions","singleResult","cx2js","vs","selector","css","fadedNode","fadedEdge","activeObject","isLayoutComplete","convertCx2cyjs","Error","getBackGround","niceCX","attributeNameMap","elementsObj","cyElementsFromNiceCX","cyStyleFromNiceCX","newStyle","styleUpdater","updatedNodes","adjustLayout","checkLayout","vps","p","upperQuery","gene","isFetchingSource","currentSource","port","isFetchingAvailable","isPollingAvailable","rootReducer","combineReducers","fetchNetwork","fetchUrl","searchGenes","MYGENE_BASE_URL","getSource","mode","response","ok","catch","checkStatus","getResult","resultUrl","URL","searchParams","append","postQuery","sourceList","queryObject","header","Headers","rootSaga","watchSearch","watchSearchResult","fetchSource","API_CALL_INTERVAL","takeLatest","cySearchApi","sourceJson","geneListString","myGeneApi","geneRes","searchRes","geneJson","resultLocation","parts","filtered","filterGenes","uniqueGeneMap","notFound","sleep","ms","finishedSourceNames","statusRes","statusJson","progress","resultRes","json","finishCount","params","api","orderedSources","Map","notfound","cyrestSaga","watchImportNetwork","getCyRESTPort","addNumberVerification","aspect","patchedCX","numberVerification","longNumber","responseJson","ndexValidation","ndexSaveSaga","watchGoogleSignOn","watchCredentialsSignOn","watchSaveToNDEx","tokenObj","token_type","id_token","profileObj","imageUrl","Authorization","user","basicAuthSignIn","accountName","pwd","password","auth","btoa","firstName","responseText","networkURL","initialize","gaOptions","siteSpeedSampleRate","EventActions","SetQuery","OpenInCytoscape","NetworkSelected","handleEvent","eventType","category","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","next","run","cyRestSaga","cyRestStatusSaga","basename","process","exact","path","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3f2037a7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cytoscape-logo-mono-light.5b5f28e2.svg\";","module.exports = __webpack_public_path__ + \"static/media/zoom-logo.55a0b3a1.svg\";","module.exports = __webpack_public_path__ + \"static/media/zoom-logo-mono.1cd5bbee.svg\";","module.exports = __webpack_public_path__ + \"static/media/ndex-logo-mono-light.b9de38dc.svg\";","module.exports = __webpack_public_path__ + \"static/media/google-logo.c21ca9d1.svg\";","module.exports = __webpack_public_path__ + \"static/media/google-logo-disabled.02062f61.svg\";","module.exports = __webpack_public_path__ + \"static/media/github.617870e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/search-logo.19dae5a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/ucsd-logo.5838f23e.svg\";","module.exports = __webpack_public_path__ + \"static/media/cytoscape-logo-mono-dark.72d0e13b.svg\";","module.exports = __webpack_public_path__ + \"static/media/nrnb-logo-mono-dark.5a41574a.svg\";","module.exports = __webpack_public_path__ + \"static/media/wp-logo-mono-dark.1183f75b.svg\";","module.exports = __webpack_public_path__ + \"static/media/ideker-logo-mono-dark.5722eed3.svg\";","import { createAction } from \"redux-actions\"\n\nexport const SET_QUERY = \"SET_QUERY\"\nexport const CLEAR_QUERY = \"CLEAR_QUERY\"\n\nexport const SEARCH_STARTED = \"SEARCH_STARTED\"\nexport const SEARCH_SUCCEEDED = \"SEARCH_SUCCEEDED\"\nexport const SEARCH_FAILED = \"SEARCH_FAILED\"\n\nexport const SET_SEARCH_RESULT = \"SET_SEARCH_RESULT\"\n\nexport const FETCH_RESULT_STARTED = \"FETCH_RESULT_STARTED\"\nexport const FETCH_RESULT_SUCCEEDED = \"FETCH_RESULT_SUCCEEDED\"\nexport const FETCH_RESULT_FAILED = \"FETCH_RESULT_FAILED\"\n\nexport const CLEAR_ALL = \"CLEAR_ALL\"\n\nexport const SET_SELECTED_GENES = \"SET_SELECTED_GENES\"\nexport const CLEAR_SELECTED_GENES = \"CLEAR_SELECTED_GENES\"\n\nexport const SET_SEARCH_RESULT_ORDER = \"SET_SEARCH_RESULT_ORDER\"\nexport const SET_ACTUAL_RESULTS = \"SET_ACUTAL_RESULTS\"\n\nexport const setQuery = createAction(SET_QUERY)\nexport const clearQuery = createAction(CLEAR_QUERY)\n\n// For sending Job\nexport const searchStarted = createAction(SEARCH_STARTED)\nexport const searchSucceeded = createAction(SEARCH_SUCCEEDED)\nexport const searchFailed = createAction(SEARCH_FAILED)\n\nexport const setSearchResult = createAction(SET_SEARCH_RESULT)\n\n// For getting result\nexport const fetchResultStarted = createAction(FETCH_RESULT_STARTED)\nexport const fetchResultSucceeded = createAction(FETCH_RESULT_SUCCEEDED)\nexport const fetchResultFailed = createAction(FETCH_RESULT_FAILED)\n\nexport const clearAll = createAction(CLEAR_ALL)\n\nexport const setSelectedGenes = createAction(SET_SELECTED_GENES)\nexport const clearSelectedGenes = createAction(CLEAR_SELECTED_GENES)\n\nexport const setSearchResultOrder = createAction(SET_SEARCH_RESULT_ORDER)\nexport const setActualResults = createAction(SET_ACTUAL_RESULTS)","import { createAction } from \"redux-actions\"\n\n\n/**\n * Global state for the application UI\n *\n * @type {string}\n */\nexport const SET_SETTINGS_OPEN = \"SET_SETTINGS_OPEN\"\nexport const setSettingsOpen = createAction(SET_SETTINGS_OPEN)\n\nexport const SET_CYTOSCAPE_STATUS = \"SET_CYTOSCAPE_STATUS\"\nexport const setCytoscapeStatus = createAction(SET_CYTOSCAPE_STATUS)\n\nexport const SET_SERVICES_LIST_OPEN = \"SET_SERVICES_LIST_OPEN\"\nexport const setServicesListOpen = createAction(SET_SERVICES_LIST_OPEN)\n\nexport const SET_HIGHLIGHTS = \"SET_HIGHLIGHTS\"\nexport const setHighlights = createAction(SET_HIGHLIGHTS)\n\n// Selected tab\nexport const SET_SELECTED_SOURCE = \"SET_SELECTED_SOURCE\"\nexport const setSelectedSource = createAction(SET_SELECTED_SOURCE)\n\n// Sort settings\nexport const SET_SORT_ORDER = \"SET_SORT_ORDER\"\nexport const setSortOrder = createAction(SET_SORT_ORDER)\n","import { createAction } from \"redux-actions\"\n\nexport const NETWORK_FETCH_STARTED = \"NETWORK_FETCH_STARTED\"\nexport const NETWORK_FETCH_SUCCEEDED = \"NETWORK_FETCH_SUCCEEDED\"\nexport const NETWORK_FETCH_FAILED = \"NETWORK_FETCH_FAILED\"\n\nexport const NETWORK_CLEAR = \"NETWORK_CLEAR\"\n\nexport const SELECT_NODES = \"SELECT_NODES\"\nexport const UNSELECT_NODES = \"UNSELECT_NODES\"\nexport const SELECT_EDGES = \"SELECT_EDGES\"\nexport const UNSELECT_EDGES = \"UNSELECT_EDGES\"\nexport const DESELECT_ALL = \"DESELECT_ALL\"\nexport const CHANGE_TAB = \"CHANGE_TAB\"\nexport const CHANGE_LIST_INDEX = \"CHANGE_LIST_INDEX\"\n\nexport const FIT_NETWORK_VIEW = \"FIT_NETWORK_VIEW\"\nexport const SET_ANNOTATIONS = \"SET_ANNOTATIONS\"\nexport const SET_LAYOUT = \"SET_LAYOUT\"\nexport const SET_LAYOUTS = \"SET_LAYOUTS\"\n\nexport const networkFetchStarted = createAction(NETWORK_FETCH_STARTED)\nexport const networkFetchSucceeded = createAction(NETWORK_FETCH_SUCCEEDED)\nexport const networkFetchFailed = createAction(NETWORK_FETCH_FAILED)\n\nexport const networkClear = createAction(NETWORK_CLEAR)\n\n// Object selection in the network window\nexport const selectNodes = createAction(SELECT_NODES)\nexport const unselectNodes = createAction(UNSELECT_NODES)\nexport const selectEdges = createAction(SELECT_EDGES)\nexport const unselectEdges = createAction(UNSELECT_EDGES)\nexport const deselectAll = createAction(DESELECT_ALL)\nexport const changeTab = createAction(CHANGE_TAB)\nexport const changeListIndex = createAction(CHANGE_LIST_INDEX)\n\nexport const fitNetworkView = createAction(FIT_NETWORK_VIEW)\nexport const setAnnotations = createAction(SET_ANNOTATIONS)\nexport const setLayout = createAction(SET_LAYOUT)\nexport const setLayouts = createAction(SET_LAYOUTS)","import { createAction } from \"redux-actions\"\n\nexport const FIND_SOURCE_STARTED = \"FIND_SOURCE_STARTED\"\nexport const FIND_SOURCE_SUCCEEDED = \"FIND_SOURCE_SUCCEEDED\"\nexport const FIND_SOURCE_FAILED = \"FIND_SOURCE_FAILED\"\nexport const SET_CURRENT_SOURCE = \"SET_CURRENT_SOURCE\"\n\nexport const findSourceStarted = createAction(FIND_SOURCE_STARTED)\nexport const findSourceSucceeded = createAction(FIND_SOURCE_SUCCEEDED)\nexport const findSourceFailed = createAction(FIND_SOURCE_FAILED)\nexport const setCurrentSource = createAction(SET_CURRENT_SOURCE)\n","import { createAction } from \"redux-actions\"\n\nexport const IMPORT_NETWORK_STARTED = \"IMPORT_NETWORK_STARTED\"\nexport const IMPORT_NETWORK_SUCCEEDED = \"IMPORT_NETWORK_SUCCEEDED\"\nexport const IMPORT_NETWORK_FAILED = \"IMPORT_NETWORK_FAILED\"\n\nexport const importNetworkStarted = createAction(IMPORT_NETWORK_STARTED)\nexport const importNetworkSucceeded = createAction(IMPORT_NETWORK_SUCCEEDED)\nexport const importNetworkFailed = createAction(IMPORT_NETWORK_FAILED)\n\nexport const SET_PORT = \"SET_PORT\"\nexport const setPort = createAction(SET_PORT)\n\nexport const FETCH_AVAILABLE = \"FETCH_AVAILABLE\"\nexport const SET_AVAILABLE = \"SET_AVAILABLE\"\n\nexport const fetchAvailable = createAction(FETCH_AVAILABLE)\nexport const setAvailable = createAction(SET_AVAILABLE)\n\nexport const START_CYREST_POLLING = \"START_CYREST_POLLING\"\nexport const STOP_CYREST_POLLING = \"STOP_CYREST_POLLING\"\n\nexport const startCyRestPolling = createAction(START_CYREST_POLLING)\nexport const stopCyRestPolling = createAction(STOP_CYREST_POLLING)","import { createAction } from \"redux-actions\"\n\n/**\n * State for ndexSave UI\n *\n * @type {string}\n */\nexport const SET_NDEX_MODAL_OPEN = \"SET_NDEX_MODAL_OPEN\"\nexport const setNDExModalOpen = createAction(SET_NDEX_MODAL_OPEN)\n\nexport const SET_PROFILE = \"SET_PROFILE\"\nexport const setProfile = createAction(SET_PROFILE)\n\nexport const CREDENTIALS_SIGN_ON = \"CREDENTIALS_SIGN_ON\"\nexport const credentialsSignOn = createAction(CREDENTIALS_SIGN_ON)\n\nexport const GOOGLE_SIGN_ON = \"GOOGLE_SIGN_ON\"\nexport const googleSignOn = createAction(GOOGLE_SIGN_ON)\n\nexport const SAVE_TO_NDEX = \"SAVE_TO_NDEX\"\nexport const saveToNDEx = createAction(SAVE_TO_NDEX)\n\nexport const SET_NETWORK_URL = \"SET_NETWORK_URL\"\nexport const setNetworkUrl = createAction(SET_NETWORK_URL)\n\nexport const SET_ERROR_MESSAGE = \"SET_ERROR_MESSAGE\"\nexport const setErrorMessage = createAction(SET_ERROR_MESSAGE)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/styles\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport Chip from \"@material-ui/core/Chip\"\nimport CheckIcon from \"@material-ui/icons/Check\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport MuiToggleButton from \"@material-ui/lab/ToggleButton\"\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\"\n\nconst buttonStyle = {\n  padding: \"0\",\n  borderRadius: \"20px\",\n  height: \"32px\",\n  borderWidth: \"0\",\n  backgroundColor: \"#FFFFFF\"\n}\n\nconst selectedButtonStyle = {\n  padding: \"0\",\n  borderRadius: \"20px\",\n  height: \"32px\",\n  borderWidth: \"0\",\n  backgroundColor: \"rgb(252, 235, 242)\"\n}\n\nconst selectedChipStyle = {\n  margin: \"0\",\n  borderRadius: \"20px\"\n}\n\nconst toggleButtonGroupStyle = {\n  backgroundColor: \"transparent\"\n}\n\nconst ToggleButton = withStyles({\n  label: {\n    backgroundColor: \"transparent\"\n  }\n})(MuiToggleButton)\n\nconst GeneList = props => {\n  const results = props.search.results\n  const hits = props.network.hitGenes\n  const hitSets = new Set(hits)\n\n  const handleChange = (event, newAlignment) => {\n    if (newAlignment === props.search.selectedGenes[0]) {\n      props.searchActions.clearSelectedGenes()\n    } else {\n      props.searchActions.setSelectedGenes(newAlignment)\n    }\n  }\n\n  if (!results) {\n    return <div className=\"gene-list-wrapper\" />\n  }\n\n  const geneList = results.genes\n  if (!geneList) {\n    return <div className=\"gene-list-wrapper\" />\n  }\n\n  const matched = []\n  const unmatched = []\n\n  for (let value of geneList.values()) {\n    if (hitSets.has(value.symbol)) {\n      matched.push(value)\n    } else {\n      unmatched.push(value)\n    }\n  }\n\n  const matchedSorted = matched.sort().reverse()\n  const unmatchedSorted = unmatched.sort().reverse()\n  const sorted = [...matchedSorted, ...unmatchedSorted]\n\n  return (\n    <div className=\"gene-list-wrapper\">\n      <List>\n        {sorted.map(geneValue => (\n          <ListItem key={geneValue.symbol}>\n            <ToggleButtonGroup\n              value={props.search.selectedGenes}\n              exclusive\n              onChange={handleChange}\n              style={toggleButtonGroupStyle}\n            >\n              <ToggleButton\n                value={geneValue.symbol}\n                style={\n                  hitSets.has(geneValue.symbol) &&\n                  props.search.selectedGenes[0] === geneValue.symbol\n                    ? selectedButtonStyle\n                    : buttonStyle\n                }\n              >\n                {getChip(geneValue, true, props, hitSets)}\n              </ToggleButton>\n            </ToggleButtonGroup>\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  )\n}\n\nconst getChip = (value, isValid, props, hitSets) => {\n  let color = \"default\"\n  let found = false\n  if (hitSets.has(value.symbol)) {\n    color = \"secondary\"\n    found = true\n  }\n\n  if (isValid) {\n    return (\n      <Chip\n        avatar={<Avatar>{found ? <CheckIcon /> : \"-\"}</Avatar>}\n        label={value.symbol}\n        variant=\"outlined\"\n        color={color}\n        key={value.symbol}\n        selected\n        style={selectedChipStyle}\n        clickable={true}\n      />\n    )\n  } else {\n    return (\n      <Chip\n        avatar={<Avatar>G</Avatar>}\n        label={\"INVALID: \" + value}\n        key={value}\n        clickable={true}\n      />\n    )\n  }\n}\n\nexport default GeneList\n","import React from \"react\"\nimport \"./style.css\"\n\nimport GeneList from \"../GeneList\"\n\n/**\n * Top page for the application\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst InputPanel = props => (\n  <div className=\"input-container\">\n    <div className=\"input-wrapper\">\n      <div className={\"gene-list-title\"}>\n        Query Genes\n      </div>\n      <GeneList {...props}/>\n    </div>\n  </div>\n)\n\nexport default InputPanel\n","import React from \"react\"\nimport Tab from \"@material-ui/core/Tab\"\nimport { withStyles } from \"@material-ui/core/styles\"\n\nconst HoverTab = props =>\n{\n  const Hover = withStyles(theme => ({\n    root: {\n      \"&:hover\": {\n        backgroundColor: props.backgroundColor,\n        opacity: 1,\n      }\n    }\n  }))(props => <Tab {...props} />)\n  return <Hover {...props}/>\n}\n\nexport default HoverTab","import React from \"react\"\nimport { Typography } from \"@material-ui/core\"\n\nimport \"./style.css\"\n\n/**\n * Default panel when user start searching\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst Empty = props => (\n  <div className=\"results-container\">\n    <div className=\"message\">\n      <Typography variant=\"h3\">{props.message}</Typography>\n    </div>\n  </div>\n)\n\nexport default Empty\n","import React, { useState } from \"react\"\nimport Snackbar from \"@material-ui/core/Snackbar\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\nconst MessageSnackbar = props => {\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return\n    }\n    props.setOpen(false)\n  }\n\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: props.vertical,\n        horizontal: props.horizontal\n      }}\n      open={props.open}\n      autoHideDuration={props.autoHideDuration || null}\n      onClose={handleClose}\n      ContentProps={{\n        \"aria-describedby\": \"message-id\"\n      }}\n      message={<span id=\"message-id\">{props.message}</span>}\n      action={[\n        <IconButton\n          color=\"inherit\"\n          key=\"close\"\n          aria-label=\"Close\"\n          onClick={props.handleClose || handleClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ]}\n    />\n  )\n}\n\nexport default MessageSnackbar\n","import React, { useState } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport cytoLogo from \"../../../assets/images/cytoscape-logo.svg\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport MessageSnackbar from \"../../AppShell/MessageSnackbar.jsx\"\n\nimport Tooltip from \"@material-ui/core/Tooltip\"\nimport IconButton from \"@material-ui/core/IconButton\"\n\nimport \"./style.css\"\n\nconst styles = theme => ({\n  logo: {},\n  button: {\n    height: \"50%\",\n    display: \"block\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    position: \"relative\",\n    top: \"15%\"\n  },\n  outer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  inner: {\n    position: \"relative\",\n    marginTop: \"15%\",\n    width: \"100%\"\n  }\n})\n\nconst Warning = props => {\n  const { classes } = props\n\n  const [open, setOpen] = useState(false)\n  const [state, setState] = useState(\"dormant\")\n  const [message, setMessage] = useState(null)\n\n  const handleClick = () => {\n    props.handleImportNetwork()\n  }\n\n  if (\n    props.network.uuid &&\n    props.network.uuid.length > 0 &&\n    props.cyrest.available\n  ) {\n    //Snackbar\n    const isLoadingNetwork = props.cyrest.isLoadingNetwork\n    const lastResponse = props.cyrest.lastResponse\n\n    let cycleId = 0\n    console.log(\"cycleId: \" + cycleId)\n    console.log(\"state: \" + state)\n\n    if (state === \"dormant\" && isLoadingNetwork) {\n      setMessage(\"Opening network in Cytoscape Desktop . . .\")\n      setState(\"openLoading\")\n      if (!open) {\n        setOpen(true)\n      }\n    }\n    if (\n      (state === \"openLoading\" || state === \"closeLoading\") &&\n      lastResponse != null\n    ) {\n      setState(\"openResult\")\n      if (lastResponse.type === \"IMPORT_NETWORK_SUCCEEDED\") {\n        setMessage(\"Network opened in Cytoscape Desktop!\")\n      } else {\n        setMessage(\"Network failed to open in Cytoscape Desktop\")\n      }\n      if (!open) {\n        setOpen(true)\n      }\n    }\n    if (state === \"openResult\" && !open) {\n      setOpen(true)\n    }\n    if (state === \"openResult\" && open) {\n      let currentId = cycleId\n      setTimeout(() => {\n        if (state === \"openResult\" && currentId === cycleId) {\n          setState(\"dormant\")\n          cycleId++\n          setOpen(false)\n        }\n      }, 6000)\n    }\n\n    const handleClose = (event, reason) => {\n      console.log(\"click\")\n      if (state === \"openLoading\") {\n        console.log(\"openLoading to closeLoading\")\n        setState(\"closeLoading\")\n      } else if (state === \"openResult\") {\n        console.log(\"openResult to dormant\")\n        setState(\"dormant\")\n        cycleId++\n      }\n      setOpen(false)\n      console.log(\"open: \" + open)\n    }\n\n    return (\n      <React.Fragment>\n        <Tooltip title=\"Open in cytoscape\" placement=\"bottom\">\n          <IconButton\n            className={classes.button}\n            aria-haspopup=\"true\"\n            color=\"default\"\n            onClick={handleClick}\n          >\n            <img alt=\"Cytoscape logo\" src={cytoLogo} className={classes.logo} />\n            <Typography variant=\"subtitle2\" color=\"textSecondary\">\n              Network is too big for interactive view. <br />\n              Click to open in Cytoscape Desktop.\n            </Typography>\n          </IconButton>\n        </Tooltip>\n        <MessageSnackbar\n          open={open}\n          setOpen={setOpen}\n          message={message}\n          setMessage={setMessage}\n          autoHideDuration={null}\n          horizontal={\"right\"}\n          vertical={\"bottom\"}\n          handleClose={handleClose}\n        />\n      </React.Fragment>\n    )\n  } else {\n    return (\n      <div className={classes.outer}>\n        <div className={classes.inner}>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\" align=\"center\">\n            Network is too big for interactive view. <br />\n            Please open Cytoscape Desktop to view.\n          </Typography>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withStyles(styles)(Warning)\n","export const PRESET_LAYOUT = {\n  name: \"preset\",\n  padding: 6,\n  animate: false,\n  positions: function(node) {\n    const x = node[0]._private.position.x * 0\n    const y = node[0]._private.position.y * 0\n    console.log(\"HEY\")\n    return {\n      x: x,//node[0]._private.position.x,\n      y: y//node[0]._private.position.y\n    }\n  }\n}\n\nexport const CONCENTRIC_LAYOUT = {\n  name: \"concentric\",\n  padding: 6,\n  minNodeSpacing: 100,\n  animate: false\n}\n\nexport const COSE_LAYOUT = {\n  name: \"cose\",\n  padding: 6,\n  nodeRepulsion: function(node) {\n    return 10080000\n  },\n  nodeOverlap: 400000,\n  idealEdgeLength: function(edge) {\n    return 10\n  },\n  animate: false,\n  fit: false\n}\n","import React, { useEffect, useMemo, useState } from \"react\"\nimport CytoscapeComponent from \"react-cytoscapejs\"\nimport { CxToJs, CyNetworkUtils } from \"cytoscape-cx2js\"\nimport Cytoscape from \"cytoscape\"\nimport CyCanvas from \"cytoscape-canvas\"\nimport { CxToCyCanvas } from \"cyannotation-cx2js\"\nimport Warning from \"./Warning\"\nimport { CONCENTRIC_LAYOUT, COSE_LAYOUT, /*PRESET_LAYOUT*/ } from \"./LayoutSettings\"\nimport { isEqual, cloneDeep } from \"lodash\"\n\nimport \"./style.css\"\n\nexport const MAX_NETWORK_SIZE = 5000\n\n// For supporting visual annotation\nCytoscape.use(CyCanvas)\n\n// This is the global instance of Cytoscape.js\nlet cyInstance = null\n\n// For annotation rendering\nconst annotationRenderer = new CxToCyCanvas(CxToJs)\nconst utils = new CyNetworkUtils()\n\n// This is the network attributes storing graphical annotations.\nconst ANNOTATION_TAG = \"__Annotations\"\n\n// Default network background color\nconst DEF_BG_COLOR = \"#FFFFFF\"\n\n\n/**\n *\n * Simple wrapper for cytoscape.js react component\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst CytoscapeViewer = props => {\n  const { highlights } = props.uiState\n  const { fit, originalCX } = props.network\n  const cyjs = props.network.network\n  const [originalElements, setOriginalElements] = useState(cyjs ? cloneDeep(cyjs.elements) : null)\n\n  const PRESET_LAYOUT = {\n    name: \"preset\",\n    padding: 6,\n    animate: false,\n    positions: function(node) {\n      const id = node[0]._private.data.id\n      const analog = originalElements.filter(elem => {\n        return elem.data.id.toString() === id.toString()\n      })\n      const position = analog[0].position\n      return position\n    }\n  }\n  const [layout, setLayout] = useState(PRESET_LAYOUT)\n\n  // Use default color if this property is not available.\n  let backgroundColor = props.network.backgroundColor\n  if (backgroundColor === null || backgroundColor === undefined) {\n    backgroundColor = DEF_BG_COLOR\n  }\n\n  let niceCX = useMemo(() => {\n    if (originalCX && layout.name === \"preset\") {\n      const networkAttr = originalCX.filter(\n        entry => entry.networkAttributes !== undefined\n      )\n\n      if (networkAttr !== undefined) {\n        const firstEntry = networkAttr[0]\n        if (\n          firstEntry === undefined ||\n          firstEntry.networkAttributes === undefined\n        ) {\n          return\n        }\n\n        const netAttrArray = firstEntry.networkAttributes\n        const annotationEntry = netAttrArray.filter(\n          attr => attr.n === ANNOTATION_TAG\n        )\n        if (annotationEntry.length !== 0 && cyInstance) {\n          const nice = utils.rawCXtoNiceCX(originalCX)\n          console.log(\n            \"* Registering annotation renderer for this niceCX:\",\n            annotationEntry\n          )\n          new Promise(function(resolve, reject) {\n            annotationRenderer.drawAnnotationsFromNiceCX(cyInstance, nice)\n            annotationRenderer.drawBackground(cyInstance, backgroundColor)\n            resolve()\n          }).then(() => {\n            props.networkActions.setAnnotations(true)\n          })\n          return nice\n        }\n      }\n    }\n    return null\n  }, [originalCX, cyInstance, layout])\n\n  /*\n    Node/Edge Selections\n   */\n  useEffect(() => {\n    // Event handler can be set only when Cytoscape.js instance is available.\n    if (cyInstance === undefined || cyInstance === null) {\n      return\n    }\n\n    // Background tapped: Remove selection\n    // (This is the standard Cytosape UX)\n    cyInstance.on(\"tap\", function() {\n      try {\n        props.networkActions.unselectEdges()\n        props.networkActions.unselectNodes()\n      } catch (e) {\n        console.warn(e)\n      }\n    })\n\n    const selectEdge = () => {\n      setTimeout(() => {\n        const edges = []\n        const selectedEdges = cyInstance.$(\"edge:selected\")\n        selectedEdges.forEach(element => {\n          edges.push(element.data())\n        })\n        if (edges.length === 0) {\n          props.networkActions.unselectEdges()\n        } else {\n          props.networkActions.selectEdges(edges)\n        }\n      }, 1)\n    }\n\n    const selectNode = () => {\n      setTimeout(() => {\n        const nodes = []\n        const selectedNodes = cyInstance.$(\"node:selected\")\n        selectedNodes.forEach(element => {\n          if (element.data().name !== \"\") {\n            nodes.push(element.data())\n          }\n        })\n        if (nodes.length === 0) {\n          props.networkActions.unselectNodes()\n        } else {\n          props.networkActions.selectNodes(nodes)\n        }\n      }, 1)\n    }\n\n    cyInstance.on(\"tap\", \"node\", function() {\n      try {\n        cyInstance.nodes().removeClass(\"connected\")\n      } catch (e) {\n        console.warn(e)\n      }\n      selectNode()\n    })\n\n    cyInstance.on(\"tap\", \"edge\", function() {\n      try {\n        cyInstance.nodes().removeClass(\"connected\")\n        const selected = this.data()\n        const { source, target } = selected\n        cyInstance.$(\"#\" + source + \", #\" + target).addClass(\"connected\")\n      } catch (e) {\n        console.warn(e)\n      }\n      selectEdge()\n    })\n\n    cyInstance.on(\"boxend\", function(event) {\n      selectEdge()\n      selectNode()\n    })\n\n    // Reset the UI state (highlight)\n    if (highlights) {\n      cyInstance.elements().addClass(\"faded\")\n      const query = cyInstance.filter(\"node[querynode = \\\"true\\\"]\")\n      query.addClass(\"highlight\")\n    } else {\n      cyInstance\n        .elements()\n        .removeClass(\"faded\")\n        .removeClass(\"highlight\")\n    }\n\n    //Layout\n    const isLayoutAvailable = cyjs.isLayout\n    if (isLayoutAvailable) {\n      props.networkActions.setLayouts([\"Preset\", \"Cose\", \"Concentric\"])\n      props.networkActions.setLayout(\"Preset\")\n      setLayout(PRESET_LAYOUT)\n    } else {\n      props.networkActions.setLayouts([\"Cose\", \"Concentric\"])\n      if (cyjs.elements.length < 500) {\n        props.networkActions.setLayout(\"Cose\")\n        setLayout(COSE_LAYOUT)\n      } else {\n        props.networkActions.setLayout(\"Concentric\")\n        setLayout(CONCENTRIC_LAYOUT)\n      }\n    }\n\n    return () => {\n      console.log(\"Network viewer unmounted\")\n    }\n\n\n  }, [])\n\n  useEffect(() => {\n    if (cyInstance === undefined || cyInstance === null) {\n      return\n    }\n\n    const targets = props.search.selectedGenes\n    if (targets === null || targets === undefined) {\n      return\n    }\n\n    const selected = cyInstance.elements(\"node[name = \\\"\" + targets[0] + \"\\\"]\")\n\n    if (selected.length !== 0) {\n      cyInstance.animate(\n        {\n          zoom: 2,\n          center: {\n            eles: selected[0]\n          }\n        },\n        {\n          duration: 500\n        }\n      )\n    }\n\n    if (targets.length === 0) {\n      cyInstance.animate(\n        {\n          fit: {\n            eles: cyInstance.elements(),\n            padding: 6\n          }\n        },\n        {\n          duration: 500\n        }\n      )\n    }\n  }, [props.search.selectedGenes])\n\n  useEffect(() => {\n    if (cyInstance === undefined || cyInstance === null) {\n      return\n    }\n    if (fit) {\n      cyInstance.animate(\n        {\n          fit: {\n            eles: cyInstance.elements(),\n            padding: 6\n          }\n        },\n        {\n          duration: 500\n        }\n      )\n      props.networkActions.fitNetworkView(false)\n    }\n  }, [fit])\n\n  useEffect(() => {    \n    switch (props.network.layout) {\n    case \"Preset\":\n      setLayout(PRESET_LAYOUT)\n      break\n    case \"Cose\":\n      setLayout(COSE_LAYOUT)\n      break\n    case \"Concentric\":\n      setLayout(CONCENTRIC_LAYOUT)\n      break\n    }\n  }, [props.network.layout])\n\n  // Check network size and show warning if it's too big for this renderer\n  const numObjects = props.network.nodeCount + props.network.edgeCount\n  if (numObjects > MAX_NETWORK_SIZE) {\n    return <Warning {...props} />\n  }\n\n  // Render actual network\n  if (cyjs === null || cyjs === undefined) {\n    return null\n  }\n\n  // Network background should be set via CSS.\n  const networkAreaStyle = {\n    width: \"100%\",\n    height: \"100%\",\n    background: \"rgba(0,0,0,0)\"\n  }\n\n  \n\n  if (cyInstance !== null) {\n    cyInstance.resize()\n\n    if (layout === COSE_LAYOUT || layout === CONCENTRIC_LAYOUT) {\n      layout.stop = () => {\n        //setTimeout(() => {\n        cyInstance.animate(\n          {\n            fit: {\n              eles: cyInstance.elements(),\n              padding: 6\n            }\n          },\n          {\n            duration: 0\n          }\n        )\n        //}, 0)\n      }\n    }\n\n    if (highlights) {\n      cyInstance.elements().addClass(\"faded\")\n      const query = cyInstance.filter(\"node[querynode = \\\"true\\\"]\")\n      query.addClass(\"highlight\")\n    } else {\n      cyInstance\n        .elements()\n        .removeClass(\"faded\")\n        .removeClass(\"highlight\")\n    }\n  }\n\n\n  return (\n    <CytoscapeComponent\n      elements={cyjs.elements}\n      layout={layout}\n      style={networkAreaStyle}\n      stylesheet={cyjs.style}\n      cy={cy => {\n        cyInstance = cy\n      }}\n    />\n  )\n}\n\nconst MemoCytoscapeViewer = React.memo(CytoscapeViewer, (oldProps, newProps) => {\n  if (newProps.network.annotations) {\n    newProps.networkActions.setAnnotations(false)\n    return false\n  }\n  return oldProps.network.fit === newProps.network.fit &&\n    oldProps.network.layout === newProps.network.layout &&\n    oldProps.uiState.highlights === newProps.uiState.highlights &&\n    isEqual(oldProps.search.selectedGenes, newProps.search.selectedGenes)\n})\n\nexport default MemoCytoscapeViewer\n","import React from \"react\"\nimport \"./style.css\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport Typography from \"@material-ui/core/Typography\"\n\nconst LoadingPanel = props => (\n  <div className=\"loading-container\" style={{backgroundColor: props.color}}>\n    <Typography className=\"loading-title\" variant={\"h5\"} color=\"primary\">\n      {props.title}\n    </Typography>\n    <Typography className=\"loading-message\" variant=\"subtitle1\" color=\"initial\">\n      {props.message}\n    </Typography>\n    <CircularProgress size={100} />\n  </div>\n)\n\nexport default LoadingPanel\n","import React from \"react\"\nimport \"./style.css\"\nimport MemoCytoscapeViewer from \"../CytoscapeViewer\"\nimport LoadingPanel from \"../../LoadingPanel\"\n\nconst NetworkViewer = props => {\n  if (props.network.isFetching) {\n    return (\n      <div className=\"network-view\">\n        <LoadingPanel title=\"Loading Network...\" color=\"#FFFFFF\" />\n      </div>\n    )\n  } else if (props.search.actualResults.length === 0) {\n    return <div className=\"network-view\" />\n  } else {\n    return (\n      <div className=\"network-view\">\n        {props.network.isFetching ? (\n          <LoadingPanel title=\"Loading Network...\" color=\"#FFFFFF\" />\n        ) : (\n          <MemoCytoscapeViewer resized={props.resized} {...props} />\n        )}\n      </div>\n    )\n  }\n}\n\nexport default NetworkViewer\n","// List attributes starts with this prefix.\nconst LIST_PREFIX = \"list_of_\"\n\nexport const getListNodeAttr = (originalCX, nodeId) => {\n  const nodeAttr = findAttributes(originalCX, \"nodeAttributes\")\n  const listAttr = nodeAttr.filter(\n    attr => attr.d.startsWith(LIST_PREFIX) && attr.po.toString() === nodeId\n  )\n\n  return getAttrMap(listAttr)\n}\n\nexport const getListNetworkAttr = originalCX => {\n  const networkAttr = findAttributes(originalCX, \"networkAttributes\")\n  const listAttr = networkAttr.filter(attr => attr.d.startsWith(LIST_PREFIX))\n\n  return getAttrMap(listAttr)\n}\n\nconst getAttrMap = attrs => {\n  const listAttrMap = {}\n  attrs.forEach(attr => {\n    listAttrMap[attr.n] = attr.v\n  })\n\n  return listAttrMap\n}\n\nexport const findAttributes = (originalCX, attrType) => {\n  let len = originalCX.length\n  let attr = null\n\n  while (len--) {\n    const entry = originalCX[len]\n    if (entry[attrType]) {\n      attr = entry[attrType]\n      break\n    }\n  }\n\n  return attr\n}\n","export const camelCaseToTitleCase = camelCaseString => {\n  if (\n    camelCaseString.slice(0, 4) === \"http\" ||\n    camelCaseString.slice(0, 5) === \"Prov:\"\n  ) {\n    return camelCaseString\n  }\n  let result = camelCaseString\n    .replace(/([a-z])([A-Z][a-z])/g, \"$1 $2\")\n    .replace(/([A-Z][a-z])([A-Z])/g, \"$1 $2\")\n    .replace(/([a-z])([A-Z]+[a-z])/g, \"$1 $2\")\n    .replace(/([A-Z]+)([A-Z][a-z][a-z])/g, \"$1 $2\")\n    .replace(/([a-z]+)([A-Z]+)/g, \"$1 $2\")\n    .replace(/([A-Z]+)([A-Z][a-rt-z][a-z]*)/g, \"$1 $2\")\n    .replace(/([0-9])([A-Z][a-z]+)/g, \"$1 $2\")\n    .replace(/([0-9]{2,})([A-Z]{2,})/g, \"$1 $2\")\n    .trim()\n  result = result.charAt(0).toUpperCase() + result.slice(1)\n  result = result\n    .replace(\"Wiki Pathways\", \"WikiPathways\")\n    .replace(\"Wikipathways\", \"WikiPathways\")\n    .replace(\"Sbo \", \"SBO \")\n    .replace(\"Ncipid\", \"NCI PID\")\n    .replace(\"Cptac\", \"CPTAC\")\n    .replace(\"Hpmi\", \"HPMI\")\n    .replace(\"Ccmi\", \"CCMI\")\n    .replace(\"Tcga\", \"TCGA\")\n    .replace(\"Querynode\", \"Query Node\")\n  return result\n}\n","export const stripScripts = entry => {\n  return entry\n    .toString()\n    .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script\\ *>/gi, \"\")\n}","import React from \"react\"\n\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport ExpandLess from \"@material-ui/icons/ExpandLess\"\nimport ExpandMore from \"@material-ui/icons/ExpandMore\"\nimport List from \"@material-ui/core/List\"\n\nexport default function ExpandPanel(props) {\n  const [open, setOpen] = React.useState(props.defaultExpanded)\n  let style\n\n  function handleClick() {\n    setOpen(!open)\n  }\n\n  if (props.divider) {\n    style = {\n      borderTop: \"1px solid #EFEFEF\"\n    }\n  } else {\n    style = {}\n  }\n\n  return (\n    <React.Fragment>\n      <ListItem button onClick={handleClick} key={Math.random()} style={style}>\n        <ListItemText primary={props.summary} />\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <List component=\"div\" disablePadding>\n          <ListItem>\n            <ListItemText primary={props.details} />\n          </ListItem>\n        </List>\n      </Collapse>\n    </React.Fragment>\n  )\n}\n","import React from \"react\"\nimport Split from \"react-split\"\n\nimport { makeStyles } from \"@material-ui/styles\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport Typography from \"@material-ui/core/Typography\"\nimport List from \"@material-ui/core/List\"\n\nimport { camelCaseToTitleCase } from \"./camel-case-util\"\nimport { stripScripts } from \"./strip-scripts-util\"\nimport { findAttributes } from \"./attribute-util\"\n\nimport Linkify from \"linkifyjs/react\"\nimport parse from \"html-react-parser\"\nimport ExpandPanel from \"./ExpandPanel\"\n\nlet index = 0\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    padding: \"0.2em\",\n    backgroundColor: \"#FFFFFF\",\n    overflow: \"auto\",\n    height: \"100%\",\n    boxSizing: \"content-box\"\n  },\n  padding: {\n    paddingLeft: \"1em\",\n    paddingTop: \"0.75em\"\n  },\n  lessPadding: {\n    paddingTop: \"2.49px\"\n  },\n  noPadding: {\n    paddingTop: \"0\",\n    paddingBottom: \"0\"\n  }\n}))\n\nconst NetworkProperties = props => {\n  index = 0\n  const originalCX = props.network.originalCX\n  const context = props.context\n  const classes = useStyles()\n\n  //Find network props\n  let networkAttr = findAttributes(originalCX, \"networkAttributes\")\n  if (networkAttr === null) {\n    return\n  }\n\n  //What to display\n  const leftDisplayItems = [\"Name\", \"Description\", \"Methods\", \"Reference\", \"@context\"]\n  const properties = [\"Organism\", \"Cell\", \"Disease\"]\n  const contributors = [\"Author\", \"Reviewers\", \"Rights Holder\", \"Rights\"]\n  const wikiPathways = [\n    \"WikiPathways ID\",\n    \"WikiPathways Version\",\n    \"WikiPathways IRI\"\n  ]\n  const indraGO = [\n    \"GO Hierarchy\",\n    \"GO ID\"\n  ]\n  const networkInformation = [\"Version\", \"Network Type\", \"Labels\"]\n  const rightDisplayItems = [\n    properties,\n    contributors,\n    wikiPathways,\n    indraGO,\n    networkInformation\n  ]\n\n  //Filter properties\n  const attributes = []\n  let content\n  let title\n  networkAttr.forEach(element => {\n    content = extractContent(element)\n    title = extractTitle(element)\n    if (!title.startsWith(\"__\") && content != null && content !== \"\") {\n      if (\n        title === \"Description\" &&\n        (props.uiState.selectedSource === \"interactome-ppi\" ||\n        props.uiState.selectedSource === \"interactome-association\")\n      ) {\n        const newTitle = \"Description of parent network\"\n        leftDisplayItems.splice(1, 0, newTitle)\n        attributes.push({\n          title: newTitle,\n          content: content, //TODO\n          displayed: false\n        })\n      } else if (title === \"Organism\") {\n        const [latin, english] = content.split(\"(\")\n        let newContent\n        if (english == null) {\n          newContent = \"<em>\" + latin.trim() + \"</em>\"\n        } else {\n          newContent = \"<em>\" + latin.trim() + \"</em>\" + \" (\" + english\n        }\n        attributes.push({\n          title: \"Organism\",\n          content: newContent,\n          displayed: false\n        })\n      } else if (title === \"GO hierarchy\") {\n        attributes.push({\n          title: \"GO Hierarchy\",\n          content: content,\n          displayed: false\n        })\n      } else if (title === \"GO ID\") {\n        const id = content.split(\":\")[1]\n        if (id != undefined) {\n          attributes.push({\n            title: \"GO ID\",\n            content: \n              \"<a href=\\\"http://identifiers.org/GO:\" + id + \"\\\">\" + content + \"</a>\",\n            displayed: false\n          })\n        } else {\n          attributes.push({\n            title: \"GO ID\",\n            content: content,\n            displayed: false\n          })\n        }\n      } else {\n        attributes.push({\n          title: camelCaseToTitleCase(title),\n          content: content,\n          displayed: false\n        })\n      }\n    } else if (title === \"Name\") {\n      attributes.push({\n        title: title,\n        content: \"Untitled\",\n        displayed: false\n      })\n    }\n  })\n\n  //Right side of display\n  const rightDisplay = []\n  rightDisplayItems.forEach(list => {\n    let primaryString = \"\"\n    let currentEntry\n    list.forEach(element => {\n      currentEntry = attributes.filter(entry => {\n        return entry.title === element\n      })[0]\n      if (currentEntry != null) {\n        primaryString +=\n          currentEntry.title + \": \" + currentEntry.content + \"<br>\"\n        currentEntry.displayed = true\n      }\n    })\n    let secondaryString\n    switch (list) {\n    case properties:\n      secondaryString = \"Properties\"\n      break\n    case contributors:\n      secondaryString = \"Contributors\"\n      break\n    case wikiPathways:\n      secondaryString = \"WikiPathways\"\n      break\n    case indraGO:\n      secondaryString = \"Gene Ontology\"\n      break\n    case networkInformation:\n      secondaryString = \"Network Information\"\n      break\n    }\n    primaryString = formatPrimary(primaryString)\n    if (primaryString !== \"\") {\n      rightDisplay.push(\n        <ListItem key={index++} className={classes.noPadding}>\n          <ListItemText\n            primary={\n              <React.Fragment>\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  {secondaryString}\n                </Typography>\n                <div>\n                  <Typography variant=\"body2\">{primaryString}</Typography>\n                </div>\n              </React.Fragment>\n            }\n          />\n        </ListItem>\n      )\n    }\n  })\n\n  //Left side of display\n  const leftDisplay = []\n  let currentEntry\n  let primaryString\n  let secondaryString\n  leftDisplayItems.forEach(element => {\n    currentEntry = attributes.filter(entry => {\n      return entry.title === element\n    })[0]\n    if (currentEntry != null) {\n      if (element === \"@context\") {\n        primaryString = formatContext(currentEntry.content)\n        currentEntry.displayed = true\n        const summary = (\n          <Typography component=\"span\" variant=\"body2\">\n            Click to view the namespaces associated with this network\n          </Typography>\n        )\n        const details = <Typography variant=\"body2\">{primaryString}</Typography>\n        leftDisplay.push(\n          <React.Fragment key={index}>\n            <div className={classes.padding}>\n              <Typography\n                component=\"span\"\n                variant=\"caption\"\n                color=\"textSecondary\"\n              >\n                @context\n              </Typography>\n            </div>\n            <ExpandPanel\n              summary={summary}\n              details={details}\n              defaultExpanded={false}\n              keyId={index++}\n              divider={false}\n            />\n          </React.Fragment>\n        )\n      } else {\n        primaryString = formatPrimary(currentEntry.content)\n        secondaryString = element\n        currentEntry.displayed = true\n        leftDisplay.push(\n          <ListItem key={index++} className={classes.noPadding}>\n            <ListItemText\n              primary={\n                <React.Fragment>\n                  <Typography\n                    component=\"span\"\n                    variant=\"caption\"\n                    color=\"textSecondary\"\n                  >\n                    {secondaryString}\n                  </Typography>\n                  <div>\n                    <Typography component=\"span\" variant=\"body2\">\n                      {primaryString}\n                    </Typography>\n                  </div>\n                </React.Fragment>\n              }\n            />\n          </ListItem>\n        )\n      }\n    }\n  })\n  attributes.forEach(entry => {\n    if (!entry.displayed) {\n      primaryString = formatPrimary(entry.content)\n      secondaryString = entry.title\n      entry.displayed = true\n      leftDisplay.push(\n        <ListItem key={index++} className={classes.noPadding}>\n          <ListItemText\n            primary={\n              <React.Fragment>\n                <Typography\n                  component=\"span\"\n                  variant=\"caption\"\n                  color=\"textSecondary\"\n                >\n                  {secondaryString}\n                </Typography>\n                <div>\n                  <Typography component=\"span\" variant=\"body2\">\n                    {primaryString}\n                  </Typography>\n                </div>\n              </React.Fragment>\n            }\n          />\n        </ListItem>\n      )\n    }\n  })\n\n  //Display panes\n  return (\n    <Split sizes={[70, 30]} gutterSize={7} className=\"network-info\">\n      <div className={\"network-info-panel\"}>\n        <List className={classes.lessPadding}>{leftDisplay}</List>\n      </div>\n      <div className={\"network-info-panel\"}>\n        <List className={classes.lessPadding}>{rightDisplay}</List>\n      </div>\n    </Split>\n  )\n}\n\nconst extractContent = entry => {\n  let modifiedText = entry.v\n  if (Array.isArray(entry.v)) {\n    modifiedText = entry.v.join(\", \")\n  }\n  return stripScripts(modifiedText.trim())\n}\n\nconst extractTitle = entry => {\n  let modifiedText\n  if (entry.n != null) {\n    modifiedText = entry.n.charAt(0).toUpperCase() + entry.n.slice(1)\n  } else {\n    modifiedText = \"\"\n  }\n  return stripScripts(modifiedText.trim())\n}\n\nconst formatPrimary = entry => {\n  if (entry === \"\") {\n    return entry\n  }\n  let modifiedText = entry\n    .replace(/<\\/?p\\/?>/gi, \"<br>\")\n    .replace(/(<\\/?br\\/?>)+/gi, \"<br>\")\n    .replace(/(\\n)+/gi, \"\\n\")\n    .replace(/<a\\s+href=/gi, \"<a target=\\\"_blank\\\" href=\")\n    .trim()\n  if (modifiedText.startsWith(\"<br>\")) {\n    modifiedText = modifiedText.slice(4, modifiedText.length - 1)\n  }\n  if (modifiedText.endsWith(\"<br>\")) {\n    modifiedText = modifiedText.slice(0, modifiedText.length - 4)\n  }\n  modifiedText = modifiedText.charAt(0).toUpperCase() + modifiedText.slice(1)\n  modifiedText = parse(modifiedText)\n  return (\n    <Linkify key={Math.random().toString()}>{modifiedText}</Linkify>\n  )\n}\n\nconst formatContext = entry => {\n  const elements = entry.split(\",\")\n  let splitResults\n  let result = \"<table><tbody>\"\n  elements.forEach(item => {\n    splitResults = item.split(\"\\\"\")\n    result +=\n      \"<tr><td>\" +\n      splitResults[1] +\n      \"</td><td>\" +\n      splitResults[3] +\n      \"</td></tr>\"\n  })\n  result += \"</tbody></table>\"\n  return formatPrimary(result)\n}\n\n\nexport default NetworkProperties\n","import React from \"react\"\n\nimport { withStyles } from \"@material-ui/core/styles\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport Typography from \"@material-ui/core/Typography\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport LinkIcon from \"@material-ui/icons/Launch\"\nimport Tooltip from \"@material-ui/core/Tooltip\"\nimport CheckIcon from \"@material-ui/icons/Check\"\n\nimport { camelCaseToTitleCase } from \"./camel-case-util.js\"\nimport \"./style.css\"\n\n\n\n// For external link\n\nconst GENE_CARDS_URL = \"https://www.genecards.org/cgi-bin/carddisp.pl?gene=\"\n\nconst styles = theme => ({\n  inline: {\n    display: \"inline\"\n  },\n  title: {\n    marginLeft: \"0.5em\",\n    marginTop: \"0.3em\"\n  },\n  description: {\n    marginLeft: \"1em\",\n    marginTop: \"0.3em\"\n  },\n  matched: {\n    backgroundColor: \"#C51162\"\n  },\n  unmatched: {\n    backgroundColor: \"red\"\n  },\n  linkIcon: {\n    paddingLeft: \"1em\"\n  },\n  nested: {\n    paddingLeft: theme.spacing.unit * 4\n  }\n})\n\nclass GeneAnnotationList extends React.Component {\n  state = {}\n\n  handleClick = id => {\n    const tag = \"pw_\" + id\n    const curState = this.state[tag]\n\n    if (curState === undefined || curState == null) {\n      this.setState(state => ({ [tag]: true }))\n    } else {\n      this.setState(state => ({ [tag]: !curState }))\n    }\n  }\n\n  render() {\n    const { classes } = this.props\n\n    const results = this.props.search_results\n\n    if (!results) {\n      return <div className=\"gene-list-wrapper\" />\n    }\n\n    const geneList = results.genes\n\n    if (!geneList) {\n      return <div className=\"gene-list-wrapper\" />\n    }\n\n    const symbol = this.props.geneSymbol.toUpperCase()\n\n    return this.getListItem(geneList.get(symbol), classes)\n  }\n\n  getListItem = (geneEntry, classes) => {\n    if (geneEntry === null || geneEntry === undefined) {\n      return null\n    }\n\n    let description = geneEntry.summary\n    return (\n      <ListItem\n        alignItems=\"flex-start\"\n        key={geneEntry._id}\n        onClick={e => this.handleClick(geneEntry._id)}\n        disableGutters={true}\n        style={{padding: \"0\"}}\n      >\n        <ListItemAvatar>\n          <Avatar className={classes.matched}>\n            <CheckIcon />\n          </Avatar>\n        </ListItemAvatar>\n\n        <ListItemText\n          primary={\n            <table>\n              <tbody>\n                <tr style={{marginLeft: \"-1\"}}>\n                  <td style={{padding: \"0\"}}>\n                    <div>\n                      <Typography component=\"span\" variant=\"body2\" >\n                        {geneEntry.symbol}\n                      </Typography>\n                    </div>\n                    <div>\n                      <Typography\n                        component=\"span\"\n                        className={classes.inline}\n                        variant=\"caption\"\n                        color='textSecondary'\n                      >\n                        {camelCaseToTitleCase(geneEntry.name)}\n                      </Typography>\n                    </div>\n                    <div>\n                      <Typography variant=\"body2\" color='textPrimary'>\n                        {description}\n                      </Typography>\n                    </div>\n                  </td>\n                  <td>\n                    <Tooltip title=\"Open in GeneCards\" placement=\"bottom\">\n                      <IconButton\n                        aria-label=\"Link to GeneCards\"\n                        href={GENE_CARDS_URL + geneEntry.symbol}\n                        target=\"_blank\"\n                      >\n                        <LinkIcon />\n                      </IconButton>\n                    </Tooltip>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          }\n        />\n      </ListItem>\n    )\n  }    \n} \n\nexport default withStyles(styles)(GeneAnnotationList)","import React, { useState } from \"react\"\nimport Linkify from \"linkifyjs/react\"\nimport parse from \"html-react-parser\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/styles\"\nimport { camelCaseToTitleCase } from \"./camel-case-util.js\"\nimport { stripScripts } from \"./strip-scripts-util.js\"\nimport GeneAnnotationList from \"./GeneAnnotationList\"\nimport ExpandPanel from \"./ExpandPanel\"\nimport { isEqual } from \"lodash\"\nimport { Icon } from \"@material-ui/core\"\nimport CheckIcon from \"@material-ui/icons/Check\"\nimport Avatar from \"@material-ui/core/Avatar\"\n\n\n\n\nconst useStyles = makeStyles(theme => ({\n  noPadding: {\n    paddingTop: \"0\",\n    paddingBottom: \"0\"\n  },\n  center: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    display: \"flex\",\n    width: \"100%\"\n  },\n  wideList: {\n    marginTop: \"0\",\n    width: \"100%\",\n    padding: \"0\"\n  },\n  table: {\n    width: \"100%\",\n    tableLayout: \"fixed\"\n  },\n  matched: {\n    marginLeft: \"0.5em\",\n    backgroundColor: \"#C51162\",\n    height: \"1em\",\n    width: \"1em\"\n  },\n  icon: {\n    height: \"0.5em\",\n    weidth: \"0.5em\"\n  }\n}))\n\nlet index = 0\n\nconst NodeProperties = props => {\n  const classes = useStyles()\n\n  let nodes\n  if (props.network.selectedNodes.length === 0) {\n    nodes = props.network.network.elements\n      .filter((elem) => {\n        return elem.data.id[0] !== \"e\"\n      })\n      .map(node => {\n        return node.data\n      })\n      .filter(nodeData => {\n        return nodeData.name != null && nodeData.name != \"\" \n      })\n  } else {\n    nodes = props.network.selectedNodes\n  }\n\n  const context = props.context\n  const aliasList = props.aliasList\n\n  const [defaultExpanded, setDefaultExpanded] = useState(true)\n\n  const entityProperties = [\"Name\", \"Type\", \"ID\", \"HGNC\", \"Ensembl\", \"Alias\"]\n\n  const nodeProperties = [\n    \"Height\",\n    \"Width\",\n    \"Shape\",\n    \"Is GPML Shape\",\n    \"Color\",\n    \"Fill Color\",\n    \"Transparent\",\n    \"Border Thickness\",\n    \"Border Style\",\n    \"Label Size\",\n    \"Label Font\",\n    \"Node Id\"\n  ]\n\n  const displayItems = [entityProperties, nodeProperties]\n\n  nodes.sort((a, b) => {\n    if (a.name.toUpperCase() > b.name.toUpperCase()) {\n      return 1\n    } else {\n      return -1\n    }\n  })\n\n  const topDisplay = []\n  nodes.forEach(node => {\n    //Filter properties\n    const attributes = []\n    let content\n    let title\n    let geneAnnotation = null\n    let inset = false\n    let aliases = new Set(aliasList[node.name])\n    \n    //Add gene annotation\n    if (\n      props.search.results != null &&\n      props.search.results.genes.get(node.name) != null\n    ) {\n      inset = true\n      geneAnnotation = (\n        <List className={classes.noPadding}>\n          <GeneAnnotationList\n            {...props}\n            search_results={props.search.results}\n            geneSymbol={node.name}\n          />\n        </List>\n      )\n    }\n\n    //Add represents\n    if (node.name in props.represents) {\n      const [prefix, id] = props.represents[node.name].split(\":\")\n      if (id != undefined) {\n        if (prefix in context) {\n          attributes.push({\n            title: \"ID\",\n            content:\n                  \"<a href=\\\"\" + context[prefix] + id + \"\\\">\" + props.represents[node.name] + \"</a>\",\n            displayed: false\n          })\n        } else {\n          attributes.push({\n            title: \"ID\",\n            content:\n                  \"<a href=\\\"\" + \"http://identifiers.org/\" + prefix + \"/\" + id + \"\\\">\" + props.represents[node.name] + \"</a>\",\n            displayed: false\n          })\n        }\n      }\n    } else if (props.represents[node.name] != undefined) {\n      attributes.push({\n        title: \"ID\",\n        content: props.represents[node.name],\n        displayed: false\n      })\n    }\n\n    for (let key in node) {\n      content = extractContent(node[key])\n      title = extractTitle(key)\n      if (\n        !title.startsWith(\"__\") &&\n        content != null &&\n        content !== \"null\" &&\n        content !== \"\"\n      ) {\n        if (title === \"aliases\" || title === \"alias\") {\n          aliases.add(content)\n        } else if (title === \"id\") {\n          attributes.push({\n            title: \"Node Id\",\n            content: content,\n            displayed: false\n          })\n        } else if (title !== \"query\") {\n          const [prefix, id] = content.split(\":\")\n          if (prefix in context && id != undefined) {\n            attributes.push({\n              title: camelCaseToTitleCase(title),\n              content:\n                \"<a href=\\\"\" + context[prefix] + id + \"\\\">\" + content + \"</a>\",\n              displayed: false\n            })\n          } else if (prefix === \"hgnc.symbol\") {\n            attributes.push({\n              title: camelCaseToTitleCase(title),\n              content:\n                \"<a href=\\\"http://identifiers.org/hgnc/\"  + id + \"\\\">\" + content + \"</a>\",\n              displayed: false\n            })\n          } else {\n            attributes.push({\n              title: camelCaseToTitleCase(title),\n              content: content,\n              displayed: false\n            })\n          }\n        }\n      }\n    }\n\n    //Handle aliases\n    let aliasLinks = \"\"\n    aliases.forEach(alias => {\n      const [prefix, id] = alias.split(\":\")\n      if (prefix in context) {\n        aliasLinks += \"<a href=\\\"\" + context[prefix] + id + \"\\\">\\t\" + alias + \"</a><br/>\"\n      } else {\n        aliasLinks += \"<a href=\\\"\" + \"http://identifiers.org/\" + prefix + \"/\" + id + \"\\\">\\t\" + alias + \"</a><br/>\"\n      }\n    })\n    if (aliases.size > 1) {\n      attributes.push({\n        title: \"Alias\",\n        content: \"<div style=\\\"padding-left:1em;\\\">\" + aliasLinks + \"</div>\",\n        displayed: false\n      })\n    } else if (aliases.size === 1) {\n      attributes.push({\n        title: \"Alias\",\n        content: aliasLinks,\n        displayed: false\n      })\n    }\n        \n    const displayCol1 = []\n    const displayCol2 = []\n    let primaryString\n    let secondaryString\n    displayItems.forEach(list => {\n      primaryString = \"\"\n      let currentEntry\n      list.forEach(element => {\n        currentEntry = attributes.filter(entry => {\n          return entry.title === element\n        })[0]\n        if (currentEntry != null && currentEntry.content != null) {\n          primaryString +=\n            currentEntry.title + \": \" + currentEntry.content + \"<br>\"\n          currentEntry.displayed = true\n        }\n      })\n      primaryString = formatPrimary(primaryString)\n      if (primaryString !== \"\") {\n        switch (list) {\n        case entityProperties:\n          secondaryString = \"Entity Properties\"\n          displayCol1.push(\n            <ListItem key={index++} className={classes.noPadding} disableGutters={true}>\n              <ListItemText\n                inset={inset}\n                primary={\n                  <React.Fragment>\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                      {secondaryString}\n                    </Typography>\n                    <div>\n                      <Typography variant=\"body2\">{primaryString}</Typography>\n                    </div>\n                  </React.Fragment>\n                }\n              />\n            </ListItem>\n          )\n          break\n        case nodeProperties:\n          secondaryString = \"Node Properties\"\n          displayCol2.push(\n            <ListItem\n              key={index++}\n              className={classes.noPadding}\n              disableGutters={true}\n            >\n              <ListItemText\n                primary={\n                  <React.Fragment>\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                      {secondaryString}\n                    </Typography>\n                    <div>\n                      <Typography variant=\"body2\">{primaryString}</Typography>\n                    </div>\n                  </React.Fragment>\n                }\n              />\n            </ListItem>\n          )\n          break\n        }\n      }\n    })\n\n    primaryString = \"\"\n    attributes.forEach(entry => {\n      if (!entry.displayed) {\n        primaryString += entry.title + \": \" + entry.content + \"<br>\"\n        entry.displayed = true\n      }\n    })\n    primaryString = formatPrimary(primaryString)\n    secondaryString = \"Additional properties\"\n\n    if (primaryString !== \"\") {\n      displayCol1.push(\n        <ListItem key={index++} className={classes.noPadding} disableGutters={true}>\n          <ListItemText\n            inset={inset}\n            primary={\n              <React.Fragment>\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  {secondaryString}\n                </Typography>\n                <div>\n                  <Typography variant=\"body2\">{primaryString}</Typography>\n                </div>\n              </React.Fragment>\n            }\n          />\n        </ListItem>\n      )\n    }\n\n    const summary = (\n      <Typography variant=\"body2\">\n        <table>\n          <tbody>\n            <tr>\n              <td>\n                {node.name}\n              </td>\n              {inset ? (\n                <td>\n                  <Avatar className={classes.matched}>\n                    <CheckIcon className={classes.icon}/>\n                  </Avatar>\n                </td>) : null}\n            </tr>\n          </tbody>\n        </table>\n      </Typography>\n    )\n    const details = (\n      <table className={classes.table}>\n        <tbody>\n          <tr>\n            <td colSpan=\"2\" valign=\"top\">\n              {geneAnnotation}\n            </td>\n          </tr>\n          <tr>\n            <td valign={\"top\"}>{displayCol1}</td>\n            <td valign={\"top\"}>{displayCol2}</td>\n          </tr>\n        </tbody>\n      </table>\n    )\n    topDisplay.push(\n      <ExpandPanel\n        summary={summary}\n        details={details}\n        defaultExpanded={defaultExpanded}\n        key={node.id + index++}\n        divider={true}\n      />\n    )\n  })\n\n  //Don't return nothing\n  if (topDisplay.length === 0) {\n    return (\n      <div className={\"outer-rectangle\"}>\n        <div className={classes.center}>\n          <Typography color=\"textSecondary\" variant=\"subtitle1\">\n            Select a node to view node properties\n          </Typography>\n        </div>\n      </div>\n    )\n  } else if (topDisplay.length === 1) {\n    if (!defaultExpanded) {\n      setDefaultExpanded(true)\n    }\n    return (\n      <div className={\"outer-rectangle\"}>\n        <div className={\"inner-rectangle\"}>\n          <List className={classes.noPadding}>{topDisplay}</List>\n        </div>\n      </div>\n    )\n  } else {\n    if (defaultExpanded) {\n      setDefaultExpanded(false)\n    }\n    return (\n      <div className={\"outer-rectangle\"}>\n        <div className={\"inner-rectangle\"}>\n          <div>\n            <List className={classes.noPadding}>{topDisplay}</List>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst extractContent = entry => {\n  if (entry == null) {\n    return \"\"\n  }\n  return stripScripts(entry)\n}\n\nconst extractTitle = entry => {\n  if (entry == null) {\n    return \"\"\n  }\n  return stripScripts(entry)\n}\n\nconst formatPrimary = entry => {\n  if (entry === \"\") {\n    return entry\n  }\n  let modifiedText = entry\n    .replace(/<\\/?p\\/?>/gi, \"<br>\")\n    .replace(/(<\\/?br\\/?>)+/gi, \"<br>\")\n    .replace(/(\\n)+/gi, \"\\n\")\n    .replace(/<a\\s+href=/gi, \"<a target=\\\"_blank\\\" href=\")\n    .trim()\n  if (modifiedText.startsWith(\"<br>\")) {\n    modifiedText = modifiedText.slice(4, modifiedText.length - 1)\n  }\n  if (modifiedText.endsWith(\"<br>\")) {\n    modifiedText = modifiedText.slice(0, modifiedText.length - 4)\n  }\n  modifiedText = parse(modifiedText)\n  return (\n    <Linkify key={\"link\" + index++}>\n      {modifiedText}\n    </Linkify>\n  )\n}\n\n//Necessary because otherwise open list items will collapse every time \"SET_AVAILABLE\" happens\nconst MemoNodeProperties = React.memo(NodeProperties, (oldProps, newProps) => {\n  return isEqual(oldProps.network.selectedNodes, newProps.network.selectedNodes)\n})\n\nexport default MemoNodeProperties\n","import React, { useState } from \"react\"\nimport Linkify from \"linkifyjs/react\"\nimport parse from \"html-react-parser\"\nimport { isEqual } from \"lodash\"\n\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/styles\"\nimport ExpandPanel from \"./ExpandPanel\"\nimport CheckIcon from \"@material-ui/icons/Check\"\nimport Avatar from \"@material-ui/core/Avatar\"\n\nimport { camelCaseToTitleCase } from \"./camel-case-util.js\"\nimport { stripScripts } from \"./strip-scripts-util.js\"\n\nlet index = 0\n\nconst useStyles = makeStyles(theme => ({\n  noPadding: {\n    paddingTop: \"0\",\n    paddingBottom: \"0\"\n  },\n  center: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    display: \"flex\",\n    width: \"100%\"\n  },\n  wideList: {\n    marginTop: \"0\",\n    width: \"100%\",\n    padding: \"0\"\n  },\n  table: {\n    width: \"100%\",\n    tableLayout: \"fixed\"\n  },\n  matched: {\n    backgroundColor: \"#C51162\",\n    height: \"1em\",\n    width: \"1em\"\n  },\n  icon: {\n    height: \"0.5em\",\n    weidth: \"0.5em\"\n  }\n}))\n\nconst EdgeProperties = props => {\n  const classes = useStyles()\n  let edges\n  if (props.network.selectedEdges.length === 0) {\n    edges = props.network.network.elements\n      .filter((elem) => {\n        return elem.data.id[0] === \"e\"\n      })\n      .map(elem => {\n        return elem.data\n      })\n  } else {\n    edges = props.network.selectedEdges\n  }\n\n  const nodes = props.nodeList\n  const context = props.context\n  const [defaultExpanded, setDefaultExpanded] = useState(true)\n\n  const entityProperties = [\n    \"Source\",\n    \"Target\",\n    \"Type\",\n    \"SBO Type\",\n    \"Interaction\",\n    \"Throughput\",\n    \"Location\",\n    \"Citation\"\n  ]\n\n  const edgeProperties = [\n    \"Start Arrow\",\n    \"End Arrow\",\n    \"Connector Type\",\n    \"Line Thickness\",\n    \"Line Style\",\n    \"Color\",\n    \"Edge Id\"\n  ]\n\n  const displayItems = [entityProperties, edgeProperties]\n\n  edges.sort((a, b) => {\n    let aScore = 0\n    let bScore = 0\n    const aSource = findNode(a.source, nodes)\n    const aTarget = findNode(a.target, nodes)\n    const bSource = findNode(b.source, nodes)\n    const bTarget = findNode(b.target, nodes)\n    if (aSource !== \"\") {\n      aScore++\n    }\n    if (aTarget !== \"\") {\n      aScore++\n    }\n    if (bSource !== \"\") {\n      bScore++\n    }\n    if (bTarget !== \"\") {\n      bScore++\n    }\n    if (bScore - aScore !== 0) {\n      return bScore - aScore\n    } else if (aSource === \"\") {\n      return 1\n    } else if (bSource === \"\") {\n      return -1\n    }\n\n    if (aSource.toUpperCase() > bSource.toUpperCase()) {\n      return 1\n    } else if (aSource.toUpperCase() < bSource.toUpperCase()) {\n      return -1\n    } else if (aTarget.toUpperCase() > bTarget.toUpperCase()) {\n      return 1\n    } else {\n      return -1\n    }\n  })\n\n  const topDisplay = []\n  edges.forEach(edge => {\n    //Filter properties\n    const attributes = []\n    let content\n    let title\n    let source\n    let target\n    for (let key in edge) {\n      content = extractContent(edge[key])\n      title = extractTitle(key)\n      if (\n        !title.startsWith(\"__\") &&\n        content != null &&\n        content !== \"null\" &&\n        content !== \"\"\n      ) {\n        if (title === \"source\") {\n          source = findNode(content, nodes)\n          attributes.push({\n            title: \"Source\",\n            content: source,\n            displayed: false\n          })\n        } else if (title === \"target\") {\n          target = findNode(content, nodes)\n          attributes.push({\n            title: \"Target\",\n            content: target,\n            displayed: false\n          })\n        } else if (title === \"id\") {\n          attributes.push({\n            title: \"Edge Id\",\n            content, content,\n            displayed: false\n          })\n        } else if (title === \"sboType\") {\n          const id = content.split(\":\")[1]\n          attributes.push({\n            title: \"SBO Type\",\n            content:\n              \"<a href=\\\"\" + \"http://identifiers.org/SBO:\" + id + \"\\\">\" + content + \"</a>\"\n          })\n        } else {\n          const [prefix, id] = content.split(\":\")\n          if (prefix in context && id != undefined) {\n            attributes.push({\n              title: camelCaseToTitleCase(title),\n              content: \n                \"<a href=\\\"\" + context[prefix] + id + \"\\\">\" + content + \"</a>\",\n              displayed: false\n            })\n          } else {\n            attributes.push({\n              title: camelCaseToTitleCase(title),\n              content: content,\n              displayed: false\n            })\n          }\n        }\n      }\n    }\n\n    const displayCol1 = []\n    const displayCol2 = []\n    let primaryString\n    let secondaryString\n    displayItems.forEach(list => {\n      primaryString = \"\"\n      let currentEntry\n      list.forEach(element => {\n        currentEntry = attributes.filter(entry => {\n          return entry.title === element\n        })[0]\n        if (currentEntry != null && currentEntry.content != null) {\n          primaryString +=\n            currentEntry.title + \": \" + currentEntry.content + \"<br>\"\n          currentEntry.displayed = true\n        }\n      })\n      primaryString = formatPrimary(primaryString)\n      if (primaryString !== \"\") {\n        switch (list) {\n        case entityProperties:\n          secondaryString = \"Entity Properties\"\n          displayCol1.push(\n            <ListItem key={Math.random()} className={classes.noPadding}>\n              <ListItemText\n                inset={false}\n                primary={\n                  <React.Fragment>\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                      {secondaryString}\n                    </Typography>\n                    <div>\n                      <Typography variant=\"body2\">{primaryString}</Typography>\n                    </div>\n                  </React.Fragment>\n                }\n              />\n            </ListItem>\n          )\n          break\n        case edgeProperties:\n          secondaryString = \"Edge Properties\"\n          displayCol2.push(\n            <ListItem\n              key={Math.random()}\n              className={classes.listPadding}\n              disableGutters={true}\n            >\n              <ListItemText\n                primary={\n                  <React.Fragment>\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                      {secondaryString}\n                    </Typography>\n                    <div>\n                      <Typography variant=\"body2\">{primaryString}</Typography>\n                    </div>\n                  </React.Fragment>\n                }\n              />\n            </ListItem>\n          )\n          break\n        }\n      }\n    })\n\n    primaryString = \"\"\n    attributes.forEach(entry => {\n      if (!entry.displayed) {\n        primaryString += entry.title + \": \" + entry.content + \"<br>\"\n        entry.displayed = true\n      }\n    })\n    primaryString = formatPrimary(primaryString)\n    secondaryString = \"Additional properties\"\n\n    if (primaryString !== \"\") {\n      displayCol1.push(\n        <ListItem key={index++} className={classes.noPadding}>\n          <ListItemText\n            inset={false}\n            primary={\n              <React.Fragment>\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  {secondaryString}\n                </Typography>\n                <div>\n                  <Typography variant=\"body2\">{primaryString}</Typography>\n                </div>\n              </React.Fragment>\n            }\n          />\n        </ListItem>\n      )\n    }\n\n    //Create summary\n    let sourceSymbol = source\n    let targetSymbol = target\n    if (props.search.queryList.includes(source.toUpperCase())) {\n      sourceSymbol = (\n        <React.Fragment>\n          <td>\n            {source}\n          </td>\n          <td>\n            <Avatar className={classes.matched}>\n              <CheckIcon className={classes.icon}/>\n            </Avatar>\n          </td>\n        </React.Fragment>\n      )\n    }\n\n    if (props.search.queryList.includes(target.toUpperCase())) {\n      targetSymbol = (\n        <React.Fragment>\n          <td>\n            {target}\n          </td>\n          <td>\n            <Avatar className={classes.matched}>\n              <CheckIcon className={classes.icon}/>\n            </Avatar>\n          </td>\n\n        </React.Fragment>\n      )\n    }\n\n    const summary = (\n      <Typography variant=\"body2\">\n        <table>\n          <tbody>\n            <tr>\n              {sourceSymbol}\n              <td>\n                {\" ➝ \"}\n              </td>\n              {targetSymbol}\n            </tr>\n          </tbody>\n        </table>\n      </Typography>\n    )\n    const details = (\n      <table className={classes.table}>\n        <tbody>\n          <tr>\n            <td valign={\"top\"}>{displayCol1}</td>\n            <td valign={\"top\"}>{displayCol2}</td>\n          </tr>\n        </tbody>\n      </table>\n    )\n    topDisplay.push(\n      <ExpandPanel\n        summary={summary}\n        details={details}\n        defaultExpanded={defaultExpanded}\n        key={index++}\n        divider={true}\n      />\n    )\n  })\n\n  //Don't return nothing\n  if (topDisplay.length === 0) {\n    return (\n      <div className={\"outer-rectangle\"}>\n        <div className={classes.center}>\n          <Typography variant=\"subtitle1\" color=\"textSecondary\">\n            Select an edge to view edge properties\n          </Typography>\n        </div>\n      </div>\n    )\n  } else if (topDisplay.length === 1) {\n    if (!defaultExpanded) {\n      setDefaultExpanded(true)\n    }\n    return (\n      <div className={\"outer-rectangle\"}>\n        <div className={\"inner-rectangle\"}>\n          <List className={classes.noPadding}>{topDisplay}</List>\n        </div>\n      </div>\n    )\n  } else {\n    if (defaultExpanded) {\n      setDefaultExpanded(false)\n    }\n    return (\n      <div className={\"outer-rectangle\"}>\n        <div className={\"inner-rectangle\"}>\n          <div>\n            <List className={classes.noPadding}>{topDisplay}</List>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst extractContent = entry => {\n  if (entry == null) {\n    return \"\"\n  }\n  return stripScripts(entry)\n}\n\nconst extractTitle = entry => {\n  if (entry == null) {\n    return \"\"\n  }\n  return stripScripts(entry)\n}\n\nconst formatPrimary = entry => {\n  if (entry === \"\") {\n    return entry\n  }\n  let modifiedText = entry\n    .replace(/<\\/?p\\/?>/gi, \"<br>\")\n    .replace(/(<\\/?br\\/?>)+/gi, \"<br>\")\n    .replace(/(\\n)+/gi, \"\\n\")\n    .replace(/<a\\s+href=/gi, \"<a target=\\\"_blank\\\" href=\")\n    .trim()\n  if (modifiedText.startsWith(\"<br>\")) {\n    modifiedText = modifiedText.slice(4, modifiedText.length - 1)\n  }\n  if (modifiedText.endsWith(\"<br>\")) {\n    modifiedText = modifiedText.slice(0, modifiedText.length - 4)\n  }\n  modifiedText = parse(camelCaseToTitleCase(modifiedText))\n  return (\n    <Linkify key={\"link:\" + index++}>\n      {modifiedText}\n    </Linkify>\n  )\n}\n\nconst findNode = (nodeId, nodeArray) => {\n  if (isNaN(nodeId) || nodeId === \"\") {\n    return nodeId\n  }\n  const returnNode = nodeArray.filter(\n    item => item[\"@id\"].toString() === nodeId.toString()\n  )[0]\n\n  if (returnNode != null) {\n    return returnNode.n\n  } else {\n    return \"\"\n  }\n}\n\n//Necessary because otherwise open list items will collapse every time \"SET_AVAILABLE\" happens\nconst MemoEdgeProperties = React.memo(EdgeProperties, (prevProps, newProps) => {\n  return isEqual(prevProps.network.selectedEdges, newProps.network.selectedEdges)\n})\n\nexport default MemoEdgeProperties\n","import React from \"react\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport HoverTab from \"../HoverTab\"\nimport { makeStyles, withStyles } from \"@material-ui/styles\"\n\nimport { findAttributes } from \"./attribute-util\"\n\nimport NetworkProperties from \"./NetworkProperties\"\nimport MemoNodeProperties from \"./NodeProperties\"\nimport MemoEdgeProperties from \"./EdgeProperties\"\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    padding: \"0.2em\",\n    backgroundColor: \"#FFFFFF\",\n    overflow: \"auto\"\n  },\n  list: {},\n  subtitle: {\n    marginLeft: \"1em\",\n    marginTop: \"0.5em\"\n  },\n  root: {\n    minHeight: 0\n  }\n}))\n\nconst backgroundColor = \"rgb(220, 220, 220)\"\n\nconst TabContent = props => {\n  const { value } = props\n\n  //Find @context\n  let context = {}\n  let networkAttr = findAttributes(\n    props.network.originalCX,\n    \"networkAttributes\"\n  )\n  if (networkAttr != null) {\n    for (let i = 0; i < networkAttr.length; i++) {\n      if (networkAttr[i].n === \"@context\") {\n        context = JSON.parse(networkAttr[i].v)\n      }\n    }\n  }\n\n  //Find nodelist and nodeAttributes\n  let nodeList\n  let nodeAttributes\n  for (let i = 0; i < props.network.originalCX.length; i++) {\n    if (props.network.originalCX[i].nodes != null) {\n      nodeList = props.network.originalCX[i].nodes\n      if (nodeAttributes != undefined) {\n        break\n      }\n    }\n    if (props.network.originalCX[i].nodeAttributes != null) {\n      nodeAttributes = props.network.originalCX[i].nodeAttributes\n      if (nodeList != undefined) {\n        break\n      }\n    }\n  }\n\n  const represents = {}\n  const aliasList = {}\n  if (nodeList != null) {\n    //Find represents\n    for (let i = 0; i < nodeList.length; i++) {\n      if (nodeList[i].r != null) {\n        represents[nodeList[i].n] = nodeList[i].r\n      }\n    }\n    //Find aliasList\n    if (nodeAttributes != null) {\n      for (let i = 0; i < nodeAttributes.length; i++) {\n        if (nodeAttributes[i].n = \"alias\" && nodeAttributes[i].d === \"list_of_string\") {\n          const geneName = nodeList.filter(node => (node[\"@id\"] === nodeAttributes[i].po))[0].n\n          if (geneName != null) {\n            if (aliasList[geneName] == null) {\n              aliasList[geneName] = nodeAttributes[i].v\n            } else {\n              aliasList[geneName] = aliasList[geneName].concat(nodeAttributes[i].v)\n            }\n          }\n        }\n      }\n    }\n  }  \n\n  if (value === 0) {\n    return <NetworkProperties context={context} {...props} />\n  } else if (value === 1) {\n    return <MemoNodeProperties context={context} represents={represents} aliasList={aliasList} {...props} />\n  } else {\n    return <MemoEdgeProperties context={context} nodeList={nodeList} {...props} />\n  }\n}\n\nconst DISABLED_STYLE = {\n  width: \"100%\"\n}\n\nconst TableBrowserPanel = props => {\n  //const network = props.network\n  const classes = useStyles()\n  let value = props.network.tableDisplayTab\n  const originalCX = props.network.originalCX\n  if (originalCX === null) {\n    return <div style={DISABLED_STYLE} />\n  }\n\n  function handleChange(event, newValue) {\n    props.networkActions.changeTab(newValue)\n  }\n\n  //Get current tab selection\n  return (\n    <div className=\"table-browser-panel\">\n      <Tabs value={value} onChange={handleChange} className={classes.root}>\n        <HoverTab\n          className={classes.root}\n          key={\"network-tab\"}\n          label={\"Network\"}\n          backgroundColor={backgroundColor}\n        />\n        <HoverTab className={classes.root} key={\"nodes-tab\"} label={\"Nodes\"} backgroundColor={backgroundColor}/>\n        <HoverTab className={classes.root} key={\"edges-tab\"} label={\"Edges\"} backgroundColor={backgroundColor}/>\n      </Tabs>\n      <TabContent value={value} {...props} />\n    </div>\n  )\n}\n\nexport default TableBrowserPanel\n\n","import React from \"react\"\n\nimport MemoTableBrowserPanel from \"./TableBrowserPanel\"\n\nconst DISABLED_STYLE = {\n  width: \"100%\"\n}\n\n/**\n *\n * Basic property viewer for nodes and edges\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst TableBrowser = props => {\n  if (\n    props.network.originalCX === null ||\n    props.search.actualResults.length === 0\n  ) {\n    return <div style={DISABLED_STYLE} />\n  }\n\n  return (\n    <div className={\"table-browser\"}>\n      <MemoTableBrowserPanel {...props} />\n    </div>\n  )\n}\n\nconst MemoTableBrowser = TableBrowser /*React.memo(TableBrowser, (prevProps, newProps) => {\n  return isEqual(prevProps.network.isFetching, newProps.network.isFetching)\n})*/\n\nexport default MemoTableBrowser\n","export const METHOD_POST = \"POST\"\nexport const METHOD_GET = \"GET\"\n\n// Primary\n//export const BASE_URL = 'http://test.ndexbio.org/integratedsearch/'\n// export const BASE_URL = 'http://dev.ndexbio.org:8290/'\n// export const BASE_URL = 'http://secret.ndexbio.org:9080/'\n\n// Server URL\nexport const SERVICE_SERVER_URL = \"http://dev.ndexbio.org/\"\n// Its endpoint\nexport const BASE_URL = SERVICE_SERVER_URL + \"integratedsearch/\"\n","import { METHOD_GET, METHOD_POST } from \"./apiConstants\"\n\nconst CYREST_BASE_URL = \"http://127.0.0.1\"\n\nconst status = cyRESTPort => {\n  const statusUrl = CYREST_BASE_URL + \":\" + cyRESTPort + \"/v1\"\n\n  return fetch(statusUrl, {\n    method: METHOD_GET\n  })\n}\n\nconst cyNDExStatus = cyRESTPort => {\n  const cyNDExStatusUrl =\n    CYREST_BASE_URL + \":\" + cyRESTPort + \"/cyndex2/v1/status\"\n\n  return fetch(cyNDExStatusUrl, {\n    method: METHOD_GET\n  })\n}\n\nconst importNetwork = (cyRESTPort, payload) => {\n  const importNetworkUrl =\n    CYREST_BASE_URL + \":\" + cyRESTPort + \"/cyndex2/v1/networks/cx\"\n  console.log(\"Calling CyREST POST:\", importNetworkUrl)\n\n  return fetch(importNetworkUrl, {\n    method: METHOD_POST,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(payload)\n  })\n}\n\nconst cyndex2Networks = (cyRESTPort, method, suid, payload) => {\n  const currentNetworkUrl =\n    CYREST_BASE_URL + \":\" + cyRESTPort + \"/cyndex2/v1/networks/\" + suid\n  console.log(\"Calling CyREST getNetwork:\", currentNetworkUrl, method, payload)\n  return fetch(currentNetworkUrl, {\n    method: method,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: payload\n  })\n}\n\nexport { status, cyNDExStatus, importNetwork, cyndex2Networks }\n","import { call, put, all, take, race } from \"redux-saga/effects\"\n\nimport {\n  SET_AVAILABLE,\n  START_CYREST_POLLING,\n  STOP_CYREST_POLLING\n} from \"../actions/cyrest\"\n\nimport * as cyrest from \"../api/cyrest\"\n\nfunction delay(duration) {\n  const promise = new Promise(resolve => {\n    setTimeout(() => resolve(true), duration)\n  })\n  return promise\n}\n\nexport function* _fetchCyRESTAvailable(action) {\n  // This is for avoiding too many unnecessary state updates.\n  let currentConnectionState = false\n\n  while (true) {\n    try {\n      yield call(cyrest.status, 1234)\n\n      if (currentConnectionState !== true) {\n        yield put({ type: SET_AVAILABLE, payload: true })\n      }\n    } catch (e) {\n      if (currentConnectionState === true) {\n        yield put({ type: SET_AVAILABLE, payload: false })\n      }\n    }\n    yield call(delay, 20000)\n  }\n}\n\nexport function* _cyRestStatusSaga() {\n  while (true) {\n    const data = yield take(START_CYREST_POLLING)\n    yield race([call(_fetchCyRESTAvailable), take(STOP_CYREST_POLLING)])\n  }\n}\n\nexport default function* root() {\n  yield all([_cyRestStatusSaga()])\n}\n","import React, { useState, useEffect } from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport logo from \"../../../assets/images/cytoscape-logo.svg\"\nimport logoDisabled from \"../../../assets/images/cytoscape-logo-mono-light.svg\"\nimport { withStyles } from \"@material-ui/core\"\nimport Tooltip from \"@material-ui/core/Tooltip\"\n//import {fade} from \"./color-manipulator-util\"\nimport { fade } from \"@material-ui/core/styles/colorManipulator\"\nimport {_fetchCyRESTAvailable} from \"../../../sagas/cyRestStatusSaga\"\n\n\nimport MessageSnackbar from \"../../AppShell/MessageSnackbar.jsx\"\n\nconst BootstrapButton = withStyles({\n  root: {\n    marginLeft: \"0.5em\",\n    borderColor: \"#EA9123\",\n    \"&:active\": {\n      borderColor: \"#EA9123\"\n    },\n    \"&:hover\": {\n      backgroundColor: fade(\"#EA9123\", 0.08)\n    }\n  }\n})(Button)\n\nconst styles = theme => ({\n  buttonIcon: {\n    height: \"2em\"\n  },\n  button: {\n    height: \"3em\",\n    width: \"4.3em\",\n    minWidth: \"4.3em\"\n  }\n})\n\nconst OpenInCytoscapeButton = props => {\n  useEffect(() => {\n    props.cyrestActions.startCyRestPolling()\n    return () => {\n      props.cyrestActions.stopCyRestPolling()\n    }\n  }, [])\n\n  const { classes } = props\n\n  const disabled =\n    !(props.network.uuid && props.network.uuid.length > 0) ||\n    !props.cyrest.available\n\n  const handleClick = () => {\n    props.handleImportNetwork()\n  }\n\n  //Snackbar\n  const isLoadingNetwork = props.cyrest.isLoadingNetwork\n  const lastResponse = props.cyrest.lastResponse\n\n  const [open, setOpen] = useState(false)\n  const [state, setState] = useState(\"dormant\")\n  const [message, setMessage] = useState(null)\n  let cycleId = 0\n  //console.log(\"cycleId: \" + cycleId);\n  //console.log(\"state: \" + state);\n\n  if (state === \"dormant\" && isLoadingNetwork) {\n    setMessage(\"Opening network in Cytoscape Desktop . . .\")\n    setState(\"openLoading\")\n    if (!open) {\n      setOpen(true)\n    }\n  }\n  if (\n    (state === \"openLoading\" || state === \"closeLoading\") &&\n    lastResponse != null\n  ) {\n    setState(\"openResult\")\n    if (lastResponse.type === \"IMPORT_NETWORK_SUCCEEDED\") {\n      setMessage(\"Network opened in Cytoscape Desktop!\")\n    } else {\n      setMessage(\"Network failed to open in Cytoscape Desktop\")\n    }\n    if (!open) {\n      setOpen(true)\n    }\n  }\n  if (state === \"openResult\" && !open) {\n    setOpen(true)\n  }\n  if (state === \"openResult\" && open) {\n    let currentId = cycleId\n    setTimeout(() => {\n      if (state === \"openResult\" && currentId === cycleId) {\n        setState(\"dormant\")\n        cycleId++\n        setOpen(false)\n      }\n    }, 6000)\n  }\n\n  const handleClose = (event, reason) => {\n    console.log(\"click\")\n    if (state === \"openLoading\") {\n      setState(\"closeLoading\")\n    } else if (state === \"openResult\") {\n      setState(\"dormant\")\n      cycleId++\n    }\n    setOpen(false)\n  }\n\n  return (\n    <React.Fragment>\n      <Tooltip\n        disableFocusListener\n        title=\"Open this network in Cytoscape Desktop\"\n        placement=\"bottom\"\n      >\n        <div>\n          <BootstrapButton\n            className={classes.button}\n            variant=\"outlined\"\n            disabled={disabled}\n            onClick={handleClick}\n          >\n            <img\n              alt=\"Cytoscape logo\"\n              src={disabled ? logoDisabled : logo}\n              className={classes.buttonIcon}\n            />\n          </BootstrapButton>\n        </div>\n      </Tooltip>\n      <MessageSnackbar\n        open={open}\n        setOpen={setOpen}\n        message={message}\n        setMessage={setMessage}\n        autoHideDuration={null}\n        horizontal={\"right\"}\n        vertical={\"bottom\"}\n        handleClose={handleClose}\n      />\n    </React.Fragment>\n  )\n}\n\nexport default withStyles(styles)(OpenInCytoscapeButton)\n","import React from \"react\"\nimport \"./style.css\"\n\nimport Button from \"@material-ui/core/Button\"\nimport Tooltip from \"@material-ui/core/Tooltip\"\nimport { withStyles } from \"@material-ui/core\"\n\nimport logo from \"../../../assets/images/zoom-logo.svg\"\nimport disabledLogo from \"../../../assets/images/zoom-logo-mono.svg\"\n\nconst styles = theme => ({\n  buttonIcon: {\n    height: \"1.75em\"\n  }\n})\n\nconst BootstrapButton = withStyles({\n  root: {\n    height: \"3em\",\n    width: \"4.3em\",\n    minWidth: \"4.3em\",\n    marginLeft: \"0.5em\",\n    borderColor: \"#212121\",\n    color: \"#212121\",\n    \"&:active\": {\n      borderColor: \"#212121\",\n      color: \"#212121\"\n    }\n  }\n})(Button)\n\nconst ResetZoomButton = props => {\n  const { classes } = props\n\n  const disabled = !(props.network.uuid && props.network.uuid.length > 0)\n\n  const handleClick = () => {\n    props.networkActions.fitNetworkView(true)\n  }\n\n  return (\n    <Tooltip title=\"Fit network to panel\" placement=\"bottom\">\n      <div>\n        <BootstrapButton\n          variant=\"outlined\"\n          disabled={disabled}\n          onClick={handleClick}\n        >\n          <img\n            alt=\"Zoom logo\"\n            src={disabled ? disabledLogo : logo}\n            className={classes.buttonIcon}\n          />\n        </BootstrapButton>\n      </div>\n    </Tooltip>\n  )\n}\n\nexport default withStyles(styles)(ResetZoomButton)\n","import React from \"react\"\n\nimport HighlightIcon from \"@material-ui/icons/WbIncandescent\"\nimport Button from \"@material-ui/core/Button\"\nimport { withStyles } from \"@material-ui/core\"\nimport Tooltip from \"@material-ui/core/Tooltip\"\n\nconst styles = theme => ({\n  buttonIcon: {\n    textAlign: \"center\",\n    lignHeight: \"50%\",\n    position: \"relative\",\n    top: \"1px\"\n  },\n  button: {\n    height: \"3em\",\n    width: \"4.3em\",\n    marginLeft: \"0.5em\"\n  }\n})\n\nconst Highlighter = props => {\n  const { classes } = props\n  const disabled = !(props.network.uuid && props.network.uuid.length > 0)\n\n  let highlight = props.uiState.highlights\n\n  const handleChange = evt => {\n    if (props.network.uuid && props.network.uuid.length > 0) {\n      highlight = !highlight\n      props.uiStateActions.setHighlights(highlight)\n    }\n  }\n\n  return (\n    <Tooltip title=\"Highlight genes\" placement=\"bottom\">\n      <div>\n        <Button\n          className={classes.button}\n          variant=\"outlined\"\n          color={highlight ? \"secondary\" : \"default\"}\n          onClick={handleChange}\n          disabled={disabled}\n        >\n          <HighlightIcon\n            className={classes.buttonIcon}\n            color={highlight && !disabled ? \"secondary\" : \"disabled\"}\n          />\n        </Button>\n      </div>\n    </Tooltip>\n  )\n}\n\n\n\nexport default withStyles(styles)(Highlighter)\n","import React from \"react\"\nimport \"./style.css\"\n\nimport Button from \"@material-ui/core/Button\"\nimport logo from \"../../../assets/images/ndex-logo.svg\"\nimport logoDisabled from \"../../../assets/images/ndex-logo-mono-light.svg\"\nimport { withStyles } from \"@material-ui/core\"\nimport Tooltip from \"@material-ui/core/Tooltip\"\nimport { fade } from \"@material-ui/core/styles/colorManipulator\"\n\n\nconst styles = theme => ({\n  buttonIcon: {\n    height: \"2em\"\n  },\n  button: {\n    height: \"3em\",\n    width: \"4.3em\",\n    minWidth: \"4.3em\",\n    marginLeft: \"0.5em\",\n    color: \"#4DA1DE\"\n    \n  }\n})\n\nconst BootstrapButton = withStyles({\n  root: {\n    width: \"4.3em\",\n    borderColor: \"#4DA1DE\",\n    color: \"#4DA1DE\",\n    \"&:active\": {\n      borderColor: \"#4DA1DE\",\n      color: \"#4DA1DE\"\n    },\n    \"&:hover\": {\n      backgroundColor: fade(\"#4DA1DE\", 0.08)\n    }\n  },\n})(Button)\n\nconst OpenInNDExButton = props => {\n  const { classes } = props\n\n  const handleImportNetwork = () => {\n    props.ndexSaveActions.setNDExModalOpen(true)\n  }\n\n  const disabled = !(props.network.uuid && props.network.uuid.length > 0)\n\n  return (\n    <Tooltip title=\"Save this network to your NDEx account\" placement=\"bottom\">\n      <div>\n        <BootstrapButton\n          className={classes.button}\n          variant=\"outlined\"\n          disabled={disabled}\n          onClick={handleImportNetwork}\n        >\n          <img alt=\"NDEx logo\" src={disabled ? logoDisabled: logo} className={classes.buttonIcon} />\n        </BootstrapButton>\n      </div>\n    </Tooltip>\n  )\n}\n\nexport default (withStyles(styles)(OpenInNDExButton))","import React from \"react\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { DialogContentText, DialogActions, Button } from \"@material-ui/core\"\n\nimport \"./style.css\"\n\nconst styles = theme => ({\n  button: {\n    \"text-transform\": \"none\"\n  }\n})\n\nclass NDExSave extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      networkUrl: \"\"\n    }\n  }\n\n  saveToNDEx = (cx, token) => {\n    this.props.ndexSaveActions.saveToNDEx({ cx: cx, token: token })\n  }\n\n  handleClose = () => {\n    this.props.ndexSaveActions.setNDExModalOpen(false)\n  }\n\n  render() {\n    const { classes, ndexSave, network } = this.props\n    console.log(ndexSave)\n    const token = ndexSave.profile ? ndexSave.profile.authorization.token : null\n    const cx = network.originalCX\n\n    const networkUrl = ndexSave.networkUrl\n\n    return ndexSave && ndexSave.profile ? (\n      <div className=\"ndex-save\">\n        <DialogContentText>\n          Now that you're logged in, you can save the network to your NDEx\n          account\n        </DialogContentText>\n        <DialogActions>\n          {networkUrl ? (\n            <Button\n              href={networkUrl}\n              className={classes.button}\n              target=\"_blank\"\n            >\n              OPEN IN NDEx\n            </Button>\n          ) : (\n            <Button\n              onClick={() => {\n                this.saveToNDEx(cx, token)\n              }}\n            >\n              Save to my account\n            </Button>\n          )}\n        </DialogActions>\n      </div>\n    ) : null\n  }\n}\n\nexport default (withStyles(styles)(NDExSave))\n","const config = {\n  NDEX_USER_VALIDATION: \"http://ndexbio.org/v2/user?valid=true\",\n  // testing\n  // googleClientId: '802839698598-mrrd3iq3jl06n6c2fo1pmmc8uugt9ukq.apps.googleusercontent.com',\n  // public\n  googleClientId: \"802839698598-8rsr8va0bd0e6lmi0ghemtrvldk9rnla.apps.googleusercontent.com\",\n}\n\nexport default config","import React from \"react\"\n\nimport {\n  DialogContent,\n  Dialog,\n  DialogTitle,\n  Button,\n  Grid,\n  Paper,\n  TextField,\n  FormControl,\n  Typography,\n  Avatar\n} from \"@material-ui/core\"\nimport GoogleLogin from \"react-google-login\"\n\nimport GoogleLogo from \"./assets/images/google-logo.svg\"\nimport GoogleLogoDisabled from \"./assets/images/google-logo-disabled.svg\"\n\nimport NDExSave from \"../NDExSave\"\n\nimport \"./style.css\"\n\nimport config from \"./assets/config\"\n\nclass GoogleSignOn extends React.Component {\n  onFailure = err => {\n    const message =\n      (err.details &&\n        err.details.startsWith(\n          \"Not a valid origin for the client: http://localhost:\"\n        )) ||\n      (err.error && err[\"error\"]) ||\n      JSON.stringify(err)\n    this.props.onError(message, false)\n  }\n\n  render() {\n    const { googleSSO, onSuccess } = this.props\n\n    const clsName = googleSSO\n      ? \"google-sign-in-button\"\n      : \"google-sign-in-button googleButtonDisabled\"\n    const title = googleSSO\n      ? \"Sign in with your Google account\"\n      : \"Google Sign In is currently unavailable because the 'BLOCK THIRD-PARTY COOKIES' option is enabled in your web browser.\" +\n        \"To use the Google Sign In feature you can do one of two things:\" +\n        \"1. Add 'accounts.google.com' to the list of websites allowed to write / read THIRD - PARTY COOKIES, or\" +\n        \"2. Disable the 'BLOCK THIRD-PARTY COOKIES' option in your browser settings.\"\n    const logo = googleSSO ? GoogleLogo : GoogleLogoDisabled\n\n    return (\n      <div className=\"google-button\">\n        <GoogleLogin\n          clientId={config.googleClientId}\n          render={renderProps => (\n            <Button\n              id=\"googleSignInButtonId\"\n              disabled={!googleSSO}\n              className={clsName}\n              title={title}\n              onClick={renderProps.onClick}\n            >\n              <span className=\"google-sign-in-button-span\">\n                <img src={logo} alt=\"\" className=\"googleLogo\" />\n                <div className=\"googleSignInText\">Sign in with Google</div>\n              </span>\n            </Button>\n          )}\n          buttonText=\"Login\"\n          onSuccess={onSuccess}\n          onFailure={this.onFailure}\n        />\n      </div>\n    )\n  }\n}\n\nclass CredentialsSignOn extends React.Component {\n  render() {\n    const { error, handleCredentialsSignOn } = this.props\n\n    const button_cls = error ? \"btn btn-primary disabled\" : \"btn btn-primary\"\n\n    return (\n      <form name=\"basicAuthSignIn\" onSubmit={handleCredentialsSignOn}>\n        <FormControl className=\"form-control\">\n          <TextField\n            name=\"accountName\"\n            type=\"text\"\n            placeholder=\"Account Name\"\n            required\n            title=\"\"\n            autoComplete=\"username\"\n          />\n        </FormControl>\n        <FormControl className=\"form-control\">\n          <TextField\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            required\n            title=\"\"\n            autoComplete=\"password\"\n          />\n        </FormControl>\n\n        <div className=\"ndex-account-links\">\n          {/* <div>\n                        <a href=\"/\"\n                        >Forgot Password?</a>\n                    </div> */}\n          <div>\n            <span>Need an account? </span>\n            <a href=\"http://ndexbio.org\">Click here to sign up!</a>\n          </div>\n        </div>\n\n        {error && (\n          <div className=\"text-danger\">\n            <br />\n            <strong>\n              <span\n              // style=\"font-size: 1.1em\"\n              >\n                {error}\n              </span>\n            </strong>\n          </div>\n        )}\n\n        <div className=\"credentials-button-container\">\n          {this.props.handleClose && (\n            <Button\n              className=\"btn btn-default\"\n              variant=\"contained\"\n              onClick={this.props.handleClose}\n              type=\"button\"\n            >\n              Cancel\n            </Button>\n          )}\n\n          <Button\n            className={button_cls}\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n          >\n            Sign In\n          </Button>\n        </div>\n      </form>\n    )\n  }\n}\n\nexport class NDExSignIn extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      googleSSO: true\n    }\n  }\n\n  onError = (error, googleSSO) => {\n    this.props.handleError(error)\n    this.setState({ googleSSO })\n  }\n\n  render() {\n    const { googleSSO } = this.state\n\n    const {\n      handleClose,\n      onLoginSuccess,\n      onSuccess,\n      handleCredentialsSignOn,\n      handleError,\n      error\n    } = this.props\n\n    return (\n      <div>\n        <DialogTitle id=\"form-dialog-title\">\n          Sign in to your NDEx Account\n        </DialogTitle>\n        <DialogContent>\n          <div className=\"NDExSignInContainer\">\n            <Grid container spacing={8}>\n              <Grid item xs={6} className=\"grid\">\n                <Paper className=\"grid-paper\">\n                  <div className=\"grid-content\">\n                    <GoogleSignOn\n                      onError={this.onError}\n                      googleSSO={googleSSO}\n                      onLoginSuccess={onLoginSuccess}\n                      onSuccess={onSuccess}\n                    />\n                  </div>\n                </Paper>\n              </Grid>\n              <Grid item xs={6} className=\"grid\">\n                <Paper className=\"grid-paper\">\n                  <div className=\"grid-content\">\n                    <CredentialsSignOn\n                      onLoginSuccess={onLoginSuccess}\n                      handleClose={handleClose}\n                      handleCredentialsSignOn={handleCredentialsSignOn}\n                      handleError={handleError}\n                      error={error}\n                    />\n                  </div>\n                </Paper>\n              </Grid>\n            </Grid>\n          </div>\n\n          {/*error && (\n            <div className=\"sign-in-error\">\n              <p>{error}</p>\n            </div>\n          )*/}\n        </DialogContent>\n      </div>\n    )\n  }\n}\n\nclass NDExSignInModal extends React.Component {\n  onLoginSuccess = () => {}\n\n  onLogout = () => {\n    this.props.ndexSaveActions.setProfile(null)\n    //this.handleClose()\n  }\n\n  handleClose = () => {\n    this.props.ndexSaveActions.setNDExModalOpen(false)\n  }\n\n  handleCredentialsSignOn = event => {\n    event.preventDefault()\n    this.props.ndexSaveActions.credentialsSignOn(event)\n  }\n\n  handleOnSuccess = resp => {\n    this.props.ndexSaveActions.googleSignOn(resp)\n  }\n\n  handleError = error => {\n    this.props.ndexSaveActions.setErrorMessage(error)\n  }\n\n  render() {\n    const { ...props } = this.props\n    const onLogout = this.onLogout\n    const onLoginSuccess = this.onLoginSuccess\n    const handleClose = this.handleClose\n    const handleCredentialsSignOn = this.handleCredentialsSignOn\n    const handleOnSuccess = this.handleOnSuccess\n    const handleError = this.handleError\n\n    return (\n      <div>\n        <Dialog\n          className=\"sign-in-container\"\n          open={this.props.ndexSave.ndexModal}\n          onClose={handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          {this.props.ndexSave.profile ? (\n            <div className=\"sign-in-header\">\n              <Avatar\n                className=\"ndex-account-avatar\"\n                src={this.props.ndexSave.profile.image}\n              >\n                U\n              </Avatar>\n              <Typography variant=\"h4\" className=\"ndex-account-greeting\">\n                Hi, {this.props.ndexSave.profile.name}\n              </Typography>\n              <Button onClick={onLogout}>Logout</Button>\n            </div>\n          ) : (\n            <NDExSignIn\n              handleClose={handleClose}\n              onLoginSuccess={onLoginSuccess}\n              onLogout={onLogout}\n              handleCredentialsSignOn={handleCredentialsSignOn}\n              onSuccess={handleOnSuccess}\n              handleError={handleError}\n              error={this.props.ndexSave.errorMessage}\n            />\n          )}\n          <NDExSave {...props} />\n        </Dialog>\n      </div>\n    )\n  }\n}\n\nexport default (NDExSignInModal)\n\n\n","import React from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport { withStyles } from \"@material-ui/core\"\nimport Tooltip from \"@material-ui/core/Tooltip\"\nimport OpenInBrowserIcon from \"@material-ui/icons/OpenInBrowser\"\n\nimport { SERVICE_SERVER_URL } from \"../../../api/apiConstants\"\n\nconst styles = theme => ({\n  buttonIcon: {\n    padding: 0,\n    margin: 0,\n    paddingBottom: \"0.1em\"\n  },\n  button: {\n    height: \"3em\",\n    width: \"4.3em\",\n    minWidth: \"4.3em\",\n    marginLeft: \"0.5em\"\n  }\n})\n\n/**\n * Simply open the parent network\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst OpenOriginalNetworkButton = props => {\n  const { classes } = props\n\n  const disabled = !(props.network.uuid && props.network.uuid.length > 0)\n\n  const BootstrapButton = withStyles({\n    root: {\n      width: \"4.3em\",\n      borderColor: \"#212121\",\n      color: \"#212121\",\n      \"&:active\": {\n        borderColor: \"#212121\",\n        color: \"#212121\"\n      }\n    }\n  })(Button)\n\n  return (\n    <Tooltip\n      disableFocusListener\n      title=\"Open original network in new browser window\"\n      placement=\"bottom\"\n    >\n      <div>\n        <BootstrapButton\n          className={classes.button}\n          variant=\"outlined\"\n          disabled={disabled}\n          onClick={() => handleOpen(props.network.uuid)}\n        >\n          <OpenInBrowserIcon\n            color={disabled ? \"disabled\" : \"inherit\"}\n            fontSize=\"large\"\n            className={classes.buttonIcon}\n          />\n        </BootstrapButton>\n      </div>\n    </Tooltip>\n  )\n}\n\nconst handleOpen = uuid => {\n  const url = SERVICE_SERVER_URL + \"#/network/\" + uuid\n  console.log(SERVICE_SERVER_URL)\n  console.log(url)\n\n  console.log(\"Opening original network entry:\", url)\n  window.open(url, \"_blank\")\n}\n\nexport default withStyles(styles)(OpenOriginalNetworkButton)\n","import \"./style.css\"\nimport React, {useState, useEffect} from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport Typography from \"@material-ui/core/Typography\"\nimport { fade } from \"@material-ui/core/styles/colorManipulator\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { Tooltip } from \"@material-ui/core\"\nimport FormControl from \"@material-ui/core/FormControl\"\nimport Select from \"@material-ui/core/Select\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport InputLabel from \"@material-ui/core/InputLabel\"\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\"\n\n\nimport OpenInCytoscapeButton from \"./OpenInCytoscapeButton\"\nimport ResetZoomButton from \"./ResetZoomButton\"\nimport Highlighter from \"./Highlighter\"\nimport OpenInNDExButton from \"./OpenInNDExButton\"\nimport NDExSignInModal from \"../../NDExSignInModal\"\nimport NDExSave from \"../../NDExSave\"\nimport OpenOriginalNetworkButton from \"./OpenOriginalNetworkButton\"\nimport { camelCaseToTitleCase } from \"../TableBrowser/camel-case-util\"\n\nconst styles = theme => ({\n  toolbar: {\n    background: \"#EFEFEF\",\n    height: \"4em\",\n    paddingTop: \"0\",\n    paddingBottom: \"0\",\n    paddingLeft: \"0.5em\",\n    paddingRight: \"0.5em\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  grow: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20\n  },\n  title: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\"\n    }\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing.unit,\n      width: \"auto\"\n    }\n  },\n  searchIcon: {\n    width: theme.spacing.unit * 9,\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputRoot: {\n    color: \"inherit\",\n    width: \"100%\"\n  },\n  inputInput: {\n    paddingTop: theme.spacing.unit,\n    paddingRight: theme.spacing.unit,\n    paddingBottom: theme.spacing.unit,\n    paddingLeft: theme.spacing.unit * 10,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      width: 120,\n      \"&:focus\": {\n        width: 200\n      }\n    }\n  },\n  buttonIcon: {\n    height: \"2.5em\",\n    paddingLeft: \"0.5em\"\n  },\n  buttons: {\n    padding: \"0.3em\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    border: \"solid 1px #999999\"\n  },\n  openIcon: {\n    marginRight: \"0.5em\"\n  },\n  formControl: {\n    position: \"relative\",\n    top: \"1.5px\",\n    marginLeft: \"0.3em\"\n  },\n  input: {\n    padding: \"8px 26px 8px 12px\",\n    backgroundColor: \"rgba(0, 0, 0, 0)\",\n    borderRadius: 4,\n    \"&:focus\": {\n      backgroundColor: \"rgba(0, 0, 0, 0)\",\n      borderRadius: 4\n    },\n    \"&:hover\": {\n      backgroundColor: fade(\"rgb(65, 84, 178)\", 0.08)\n    }\n  },\n  root: {\n    borderColor: \"#ced4da\",\n    \"& $notchedOutline\": {\n      borderColor: \"rgb(65, 84, 178)\",\n    },\n    \"&:hover $notchedOutline\": {\n      borderColor: \"rgb(65, 84, 178)\"\n    },\n    \"&$focused $notchedOutline\": {\n      borderColor: \"rgb(65, 84, 178)\",\n      borderWidth: \"1px\"\n    }\n  },\n  focused: {},\n  notchedOutline: {}\n})\n\nconst NetworkToolbar = props => {\n  const { classes, ...other } = props\n  let [prefix, name] = [\"\", \"\"]\n\n  if (props.search.actualResults.length !== 0) {\n    [prefix, name] = props.network.networkName.replace(\":\", \"&\").split(\"&\")\n  }\n\n  const inputLabel = React.useRef(null)\n  const [labelWidth, setLabelWidth] = React.useState(0)\n  React.useEffect(() => {\n    setLabelWidth(inputLabel.current.offsetWidth)\n  }, [])\n\n  const menuItems = props.network.layouts\n  const [value, setValue] = useState(props.network.layout)\n\n  const handleChange = (event) => {\n    setValue(event.target.value)\n    props.networkActions.setLayout(event.target.value)\n  }\n\n  useEffect(() => {\n    setValue(props.network.layout)\n  }, [props.network.layout])\n\n  return (\n    <div className={classes.toolbar}>\n      <Tooltip title={name ? camelCaseToTitleCase(prefix) + \":\" + name : props.network.networkName}>\n        <Typography\n          className={classes.title}\n          variant=\"subtitle1\"\n          color=\"inherit\"\n          noWrap\n        >\n          {name ? camelCaseToTitleCase(prefix) + \":\" + name : props.network.networkName}\n        </Typography>\n      </Tooltip>\n    \n      <div className={classes.grow} />\n\n      <div className={classes.formControl}>\n        <FormControl variant=\"outlined\">\n          <InputLabel ref={inputLabel} htmlFor=\"outlined\">\n            <font color=\"#4154b2\">\n              Layout\n            </font>\n          </InputLabel>\n          <Select\n            value={value}\n            onChange={handleChange}\n            input={<OutlinedInput labelWidth={labelWidth} name=\"layout\" id=\"outlined-layout\" classes={classes}/>}\n          >\n            {menuItems.map((item) => (\n              <MenuItem value={item}>\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                  {item}\n                </Typography>\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </div>\n\n      <ResetZoomButton {...other} />\n      <Highlighter {...other} />\n      <NDExSignInModal {...other}>\n        <NDExSave {...props} />\n      </NDExSignInModal>\n      <OpenInNDExButton {...other} />\n      <OpenInCytoscapeButton {...other} />\n      <OpenOriginalNetworkButton {...other} />\n    </div>\n  )\n}\n\nNetworkToolbar.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(NetworkToolbar)\n","import React, { useState } from \"react\"\nimport \"./style.css\"\nimport Split from \"react-split\"\n\nimport NetworkViewer from \"./NetworkViewer\"\nimport MemoTableBrowser from \"../TableBrowser\"\nimport NetworkToolbar from \"./NetworkToolbar\"\n\nconst DEFAULT_RATIO = [50, 50]\n\n/**\n * Top page for the application\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst NetworkView = props => {\n  const [resized, setResize] = useState(null)\n\n  const handleResizeEnd = e => {\n    setResize(e)\n  }\n\n  return (\n    <div className={\"network-view-top\"}>\n      <NetworkToolbar {...props} />\n      <Split\n        sizes={DEFAULT_RATIO}\n        direction=\"vertical\"\n        gutterSize={7}\n        className={\"nv-container\"}\n        onDragEnd={handleResizeEnd}\n      >\n        <NetworkViewer\n          resized={resized}\n          {...props}\n        />\n        <MemoTableBrowser {...props}/>\n      </Split>\n    </div>\n  )\n}\n\nexport default NetworkView\n","import React, { useState } from \"react\"\n\nimport { withStyles } from \"@material-ui/styles\"\nimport Typography from \"@material-ui/core/Typography\"\nimport FormControl from \"@material-ui/core/FormControl\"\nimport Select from \"@material-ui/core/Select\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport InputBase from \"@material-ui/core/InputBase\"\n\nconst BootstrapInput = withStyles(theme => ({\n  root: {\n    \"label + &\": {\n      marginTop: \"0\",\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: \"relative\",\n    backgroundColor: \"#FFFFFF\",\n    border: \"1px solid #ced4da\",\n    textColor: \"#757575\",\n    padding: \"5px 26px 5px 12px\",\n    \"&:focus\": {\n      borderRadius: 4,\n      backgroundColor: \"#FFFFFF\"\n    },\n  },\n}))(InputBase)\n\nconst formStyle = {\n  position: \"relative\",\n  left: \"11px\",\n  marginTop: \"8px\",\n  marginBottom: \"8px\"\n}\n\nconst divStyle = {\n  paddingLeft: \"16px\",\n  borderBottom: \"1px solid rgba(239, 239, 239, 1)\",\n}\n\nconst typeStyle = {\n  position: \"relative\",\n  top: \"14.5px\"\n}\n\nconst selectStyle = {\n  color: \"secondary\"\n}\n\nconst SortPanel = props => {\n  const [sortPValueOn, setSortPValueOn] = useState(true)\n\n  const handleChange = event => {\n    if (event.target.value === \"p-Value\") {\n      setSortPValueOn(true)\n      props.uiStateActions.setSortOrder([\"p-Value\", \"Overlap\"])\n    } else {\n      setSortPValueOn(false)\n      props.uiStateActions.setSortOrder([\"Overlap\", \"p-Value\"])\n    }\n  }\n  \n  if (props.uiState.selectedSource === \"enrichment\") {\n    return (\n      <div style={divStyle}>\n        <Typography \n          variant='body2'\n          display='inline'\n          style={typeStyle}\n          color='textSecondary'\n        >\n          Sort by\n        </Typography>\n        <FormControl style={formStyle}>\n          <Select\n            value={sortPValueOn ? \"p-Value\" : \"Overlap\"}\n            onChange={handleChange}\n            displayEmpty\n            name=\"Sort by\"\n            style={selectStyle}\n            input={<BootstrapInput name=\"age\" id=\"age-customized-select\" />}\n          >\n            <MenuItem value={\"p-Value\"}>\n              <Typography variant=\"body2\" color='textSecondary'>\n                p-Value\n              </Typography>\n            </MenuItem>\n            <MenuItem value={\"Overlap\"}>\n              <Typography variant=\"body2\" color='textSecondary'>\n                Overlap\n              </Typography>\n            </MenuItem>\n          </Select>\n        </FormControl>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default (SortPanel)\n            ","import React, { useEffect } from \"react\"\n\nimport { withStyles } from \"@material-ui/core/styles\"\n\nimport MenuList from \"@material-ui/core/MenuList\"\nimport Typography from \"@material-ui/core/Typography\"\n\nimport SortPanel from \"./SortPanel\"\n\nimport \"./style.css\"\nimport { callbackify } from \"util\"\n\nconst styles = theme => ({\n  inline: {\n    display: \"inline\"\n  },\n  subtitle: {\n    marginLeft: \"1em\",\n    marginTop: \"0.5em\"\n  },\n  networkAvatar: {\n    margin: 5,\n    color: \"#fff\",\n    backgroundColor: \"#FAFAFA\"\n  },\n  menuItem: {\n    \"&:focus\": {\n      backgroundColor: \"rgba(230,230,230,0.6)\"\n    }\n  },\n  menuText: {\n    \"&:focus\": {}\n  },\n  secondary: {\n    width: \"15em\",\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: \"0.2em\"\n  },\n  plot: {\n    width: \"80%\",\n    background: \"teal\"\n  },\n  noPadding: {\n    paddingTop: \"0\",\n    paddingBottom: \"0\"\n  },\n  center: {\n    justifyContent: \"center\",\n    position: \"relative\",\n    top: \"25%\",\n    display: \"flex\",\n    width: \"100%\",\n    height: \"100%\"\n  }\n})\n\nconst findSort = sortOrder => {\n  if (sortOrder[0] === \"p-Value\") {\n    return (a, b) => {\n      if (a.details.PValue > b.details.PValue) {\n        return 1\n      } else if (a.details.PValue < b.details.PValue) {\n        return -1\n      } else {\n        if (a.hitGenes.length < b.hitGenes.length) {\n          return 1\n        } else {\n          return -1\n        }\n      }\n    }\n  } else {\n    return (a, b) => {\n      if (a.hitGenes.length < b.hitGenes.length) {\n        return 1\n      } else if (a.hitGenes.length > b.hitGenes.length) {\n        return -1\n      } else {\n        if (a.details.PValue > b.details.PValue) {\n          return 1\n        } else {\n          return -1\n        }\n      }\n    }\n  }\n}\n\nconst NetworkList = props => {\n  let hits = props.hits\n\n  const openFirst = first => {\n    if (first != null) {\n      props.handleFetch(\n        first.networkUUID,\n        first.description,\n        first.nodes,\n        first.edges,\n        first.hitGenes\n      )\n    }\n  }\n\n  //Sort hits\n  useEffect(() => {\n    if (props.uiState.selectedSource === \"enrichment\") {\n      const sortFunction = findSort(props.uiState.sortOrder)\n      hits = hits.sort(sortFunction)\n    }\n    props.searchActions.setActualResults(hits)\n    openFirst(hits[0])\n    props.networkActions.changeListIndex(1)\n  }, [props.uiState.sortOrder, props.uiState.selectedSource])\n\n  if (!hits) {\n    return <div className=\"network-list-wrapper\" />\n  }\n\n  let index = 1\n\n  function handleListItemClick(event, index) {\n    props.networkActions.changeListIndex(index)\n  }\n\n  const selectedIndex = props.network.listIndex\n\n  let enrichmentStyle\n  if (props.uiState.selectedSource === \"enrichment\") {\n    enrichmentStyle = {\n      height: \"calc(100% - 49px)\"\n    }\n  } else {\n    enrichmentStyle = {}\n  }\n\n  if (props.search.actualResults.length > 0) {\n    return (\n      <div className=\"network-list-wrapper\">\n        <SortPanel {...props} />\n        <div className=\"network-list\" style={enrichmentStyle}>\n          <MenuList className={props.classes.noPadding}>\n            {props.search.actualResults.map(entry =>\n              props.renderNetworkListItem(\n                props.search.queryList.length,\n                entry,\n                props.classes,\n                handleListItemClick,\n                selectedIndex,\n                index++\n              )\n            )}\n          </MenuList>\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"network-list-wrapper\">\n        <div className=\"network-list\">\n          <Typography\n            variant={\"subtitle1\"}\n            color={\"textSecondary\"}\n            className={props.classes.center}\n          >\n            No results found\n          </Typography>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withStyles(styles)(NetworkList)\n","import React from \"react\"\nimport \"./style.css\"\n\nimport Split from \"react-split\"\n\nimport NetworkView from \"./NetworkView\"\nimport NetworkList from \"./NetworkList\"\n\nimport { camelCaseToTitleCase } from \"../TableBrowser/camel-case-util\"\n\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { ListItem } from \"@material-ui/core\"\n\nconst titleStyle = {\n  lineHeight: \"1.33\",\n  wordBreak: \"break-word\"\n}\n\nconst subtitleStyle = {\n  lineHeight: \"1\",\n  wordBreak: \"break-word\"\n}\n\nconst infoStyle = {\n  display: \"inline\",\n  lineHeight: \"1\",\n}\n\n/**\n * Top page for the application\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst Ndex = props => {\n  const handleFetch = (\n    networkUUID,\n    networkName,\n    nodeCount,\n    edgeCount,\n    hitGenes\n  ) => {\n    //checkCytoscapeConnection(props)\n    const geneList = props.search.queryList\n    const sourceUUID = props.sourceUUID\n    const id = props.search.results.jobId\n\n    // Reset selection\n    props.searchActions.clearSelectedGenes()\n    props.uiStateActions.setHighlights(true)\n    props.networkActions.networkFetchStarted({\n      id,\n      sourceUUID,\n      networkUUID,\n      networkName,\n      geneList,\n      hitGenes,\n      nodeCount,\n      edgeCount\n    })\n    updateHistory(networkUUID)\n  }\n\n  const updateHistory = networkUUID => {\n    // Update URL\n    const jobId = props.search.results.jobId\n    const searchResults = props.search.searchResults\n    const sourceName = props.uiState.selectedSource\n\n    if (searchResults !== undefined && searchResults !== null) {\n      console.log(\"** network changed:\", jobId, sourceName)\n      props.history.push(`/${jobId}/${sourceName}/${networkUUID}`)\n    }\n  }\n\n  const handleImportNetwork = () => {\n    // Reset the UI state (hilight)\n    props.uiStateActions.setHighlights(true)\n\n    props.cyrestActions.importNetworkStarted({\n      cx: props.network.originalCX,\n      source: props.network.sourceId,\n      uuid: props.network.uuid\n    })\n  }\n\n  const renderNetworkListItem = (\n    querySize,\n    networkEntry,\n    classes,\n    handleListItemClick,\n    selectedIndex,\n    index\n  ) => {\n    const {\n      description,\n      networkUUID,\n      nodes,\n      edges,\n      imageURL,\n      hitGenes,\n      details\n    } = networkEntry\n\n    const genes = (\n      <div style={infoStyle}>\n        <Typography display=\"inline\" color={props.uiState.sortOrder[0] === \"Overlap\" ? \"textPrimary\" : \"textSecondary\"}>\n          <strong>{hitGenes.length}</strong>{\" \"}\n        </Typography>\n        <Typography\n          variant=\"caption\"\n          display=\"inline\"\n          style={{ lineHeight: \"1\" }}\n          color={props.uiState.sortOrder[0] === \"Overlap\" ? \"textPrimary\" : \"textSecondary\"}        \n        >\n          genes\n        </Typography>\n      </div>\n    )\n\n    const icon = (\n      <ListItemIcon style={{ width: \"20px\" }}>\n        <img className=\"list-icon\" src={imageURL} alt=\"list icon\" />\n      </ListItemIcon>\n    )\n\n    if (props.uiState.selectedSource === \"enrichment\") {\n      let pVal = details.PValue\n      if (pVal !== undefined) {\n        if (pVal < 1e-15) {\n          pVal = \"< 1e-15\"\n        } else { \n          pVal = pVal.toExponential(2)\n        }\n      }\n\n      const pv = (\n        <div style={infoStyle}>\n          <Typography display=\"inline\" color={props.uiState.sortOrder[0] === \"p-Value\" ? \"textPrimary\" : \"textSecondary\"}>\n            <strong>{pVal}{\" \"}</strong>\n          </Typography>\n          <Typography\n            variant=\"caption\"\n            display=\"inline\"\n            style={{ lineHeight: \"1\" }}\n            color={props.uiState.sortOrder[0] === \"p-Value\" ? \"textPrimary\" : \"textSecondary\"}          \n          >\n            pv\n          </Typography>\n        </div>\n      )\n\n      const title = (\n        <Typography style={titleStyle}>\n          {description.split(\":\").slice(1)}\n        </Typography>\n      )\n\n      const subtitle = (\n        <Typography\n          variant=\"caption\"\n          color=\"textSecondary\"\n          style={subtitleStyle}\n        >\n          Nodes: {nodes}, Edges: {edges}, Source:{\" \"}\n          {camelCaseToTitleCase(description.split(\":\")[0])}\n        </Typography>\n      )\n\n      return (\n        <ListItem\n          button\n          key={networkUUID}\n          onClick={event => {\n            handleFetch(networkUUID, description, nodes, edges, hitGenes)\n            handleListItemClick(event, index)\n          }}\n          selected={selectedIndex === index}\n        >\n          <table style={{ tableLayout: \"fixed\", wordBreak: \"breakWord\" }}>\n            <tbody>\n              <tr height=\"50%\">\n                <td rowSpan=\"2\" align=\"center\" valign=\"middle\">\n                  {icon}\n                </td>\n                <td width=\"90px\" align=\"left\" valign=\"bottom\">\n                  {genes}\n                </td>\n                <td align=\"left\" valign=\"bottom\">\n                  {title}\n                </td>\n              </tr>\n              <tr>\n                <td align=\"left\" valign=\"baseline\">\n                  {pv}\n                </td>\n                <td align=\"left\" valign=\"baseline\">\n                  {subtitle}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </ListItem>\n      )\n    } else {\n      const node = (\n        <div display=\"inline\">\n          <Typography display=\"inline\" style={{ lineHeight: \"1\" }}>\n            <strong>{nodes}</strong>{\" \"}\n          </Typography>\n          <Typography\n            variant=\"caption\"\n            display=\"inline\"\n            color=\"textSecondary\"\n            style={{ lineHeight: \"1\" }}\n          >\n            {\"nodes \"}\n          </Typography>\n        </div>\n      )\n\n      const edge = (\n        <div display=\"inline\">\n          <Typography display=\"inline\" style={{ lineHeight: \"1\" }}>\n            <strong>{edges}</strong>{\" \"}\n          </Typography>\n          <Typography\n            variant=\"caption\"\n            display=\"inline\"\n            color=\"textSecondary\"\n            style={{ lineHeight: \"1\" }}\n          >\n            {\"edges\"}\n          </Typography>\n        </div>\n      )\n\n      const title = (\n        <React.Fragment>\n          <Typography color=\"textPrimary\" style={titleStyle}>\n            {description}\n          </Typography>\n        </React.Fragment>\n      )\n\n      const subtitle = (\n        <Typography variant=\"caption\" color=\"textSecondary\" style={subtitleStyle}>\n          Parent: {details.parent_network_nodes} nodes,{\" \"}\n          {details.parent_network_edges} edges\n        </Typography>\n      )\n\n      return (\n        <ListItem\n          button\n          key={networkUUID}\n          onClick={event => {\n            handleFetch(networkUUID, description, nodes, edges, hitGenes)\n            handleListItemClick(event, index)\n          }}\n          selected={selectedIndex === index}\n        >\n          <table style={{ tableLayout: \"fixed\", wordBreak: \"break-word\" }}>\n            <tbody>\n              <tr height=\"50%\">\n                <td rowSpan=\"2\" align=\"center\" valign=\"middle\" width=\"50px\">\n                  {icon}\n                </td>\n                <td colSpan=\"2\" align=\"left\" valign=\"bottom\" width=\"150px\">\n                  {genes}\n                </td>\n                <td align=\"left\" valign=\"bottom\">\n                  {title}\n                </td>\n              </tr>\n              <tr>\n                <td align=\"left\" valign=\"baseline\" width=\"75px\">\n                  {node}\n                </td>\n                <td align=\"left\" valign=\"baseline\" width=\"80px\">\n                  {edge}\n                </td>\n                <td align=\"left\" valign=\"baseline\">\n                  {subtitle}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </ListItem>\n      )\n    }\n  }\n\n  return (\n    <Split sizes={[40, 60]} gutterSize={7} className=\"ndex-base\">\n      <NetworkList\n        renderNetworkListItem={renderNetworkListItem}\n        handleFetch={handleFetch}\n        hits={props.hits}\n        {...props}\n      />\n      <NetworkView handleImportNetwork={handleImportNetwork} {...props} />\n    </Split>\n  )\n}\n\n/*const MemoNdex = React.memo(Ndex, (oldProps, newProps) => {\n  \n})*/\n\nexport default Ndex\n","import React from \"react\"\n\nimport Ndex from \"./Ndex\"\nimport LoadingPanel from \"../LoadingPanel\"\n\nconst TabContent = props => {\n  const results = props.results\n\n  if (results === null || results === undefined) {\n    return (\n      <LoadingPanel\n        title={\"Loading results\"}\n        message={<div style={{ color: \"black\" }}>Please wait...</div>}\n      />\n    )\n  } else {\n    return (\n      <Ndex hits={results.results} sourceUUID={results.sourceUUID} {...props} />\n    )\n  }\n}\n\nexport default TabContent\n","import React, { useState, useEffect } from \"react\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport HoverTab from \"./HoverTab\"\nimport Empty from \"./Empty\"\nimport TabContent from \"./TabContent\"\n\n// Conversion table from tab ID to human-readable labels\nconst TAB_LABELS = {\n  \"enrichment\": {\n    label: \"Pathway Enrichment\"\n  },\n  \"interactome-ppi\": {\n    label: \"Protein Interactions\"\n  },\n  \"interactome-association\": {\n    label: \"Gene Association\"\n  }\n}\n\nconst backgroundColor = \"rgb(235, 235, 235)\"\n\nconst styles = theme => ({\n  tabs: {},\n  grow: {\n    flexGrow: 1\n  }\n})\n\nconst Results = props => {\n  const { classes, ...others } = props\n\n  // For tab selection\n  const [idx, setSelectedTabIndex] = useState(0)\n\n  useEffect(() => {\n    updateHistory(0)\n  }, [])\n\n  const handleChange = (event, idx) => {\n    setSelectedTabIndex(idx)\n    updateHistory(idx)\n    props.networkActions.networkClear()\n    props.networkActions.changeListIndex(0)\n  }\n\n  const updateHistory = newValue => {\n    // Update URL\n    const results = props.search.results\n    if (results === null || results === undefined) {\n      return\n    }\n\n    const jobId = results.jobId\n    const searchResults = props.search.searchResults\n    if (searchResults !== undefined && searchResults !== null) {\n      const sourceName = getSourceName(sources, newValue)\n      console.log(\"* Tab change:\", jobId, sourceName)\n      props.uiStateActions.setSelectedSource(sourceName)\n      props.history.push(`/${jobId}/${sourceName}`)\n    }\n  }\n\n  // Source list is not available.  Just return empty result\n  const { sources } = props.source\n  if (sources === null || sources === undefined || sources.length === 0) {\n    return <Empty />\n  }\n\n  const searchResults = props.search.searchResults\n  const selectedSourceName = getSourceName(sources, idx)\n\n  const results = findResult(selectedSourceName, searchResults)\n\n  // Get current tab selection\n  return (\n    <div className=\"results-container\">\n      <div className=\"results-wrapper\">\n        <Tabs value={idx} onChange={handleChange} className={classes.tabs}>\n          {sources.map(source => (\n            <HoverTab key={source.uuid} label={TAB_LABELS[source.name].label} backgroundColor={backgroundColor}/>\n          ))}\n        </Tabs>\n        <TabContent results={results} {...others} />\n      </div>\n    </div>\n  )\n}\n\nconst getSourceName = (sources, idx) => {\n  return sources[idx].name\n}\n\nconst findResult = (sourceName, results) => {\n  if (results === null || results === undefined) {\n    return null\n  }\n\n  const resultArray = results.sources\n  let idx = resultArray.length\n\n  while (idx--) {\n    const currentResult = resultArray[idx]\n    if (currentResult.sourceName === sourceName) {\n      return currentResult\n    }\n  }\n  return null\n}\n\nexport default withStyles(styles)(Results)\n","import React, { useState, useEffect, useRef } from \"react\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Paper from \"@material-ui/core/Paper\"\nimport InputBase from \"@material-ui/core/InputBase\"\nimport Divider from \"@material-ui/core/Divider\"\n\nimport { loadCSS } from \"fg-loadcss/src/loadCSS\"\nimport Icon from \"@material-ui/core/Icon\"\nimport Tooltip from \"@material-ui/core/Tooltip\"\nimport classNames from \"classnames\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SearchIcon from \"@material-ui/icons/Search\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport Menu from \"@material-ui/core/Menu\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\n\nimport MessageSnackbar from \"./MessageSnackbar\"\n\nimport * as examples from \"../TopPage/example-genes\"\n\nconst EXAMPLES = examples.default.examples\n\nconst styles = {\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: \"60vmin\",\n    padding: \"0.3em\",\n    background: \"#f1f1f1\",\n    marginLeft: \"1em\"\n  },\n  input: {\n    marginLeft: 8,\n    flex: 1\n  },\n  iconButton: {\n    padding: 10\n  },\n  divider: {\n    width: 1,\n    height: 28,\n    margin: 4\n  }\n}\n\nconst ORIGINAL_GENE_TEXT = \"original-gene-text\"\n\nconst GeneTextBox = props => {\n  const { classes } = props\n  const geneTextRef = useRef()\n\n  const [state, setState] = useState({anchorEl: null, query: props.search.queryGenes})\n  const [open, setOpen] = useState(false)\n\n  const menuOpen = Boolean(state.anchorEl)\n\n  useEffect(() => {\n    loadCSS(\n      \"https://use.fontawesome.com/releases/v5.1.0/css/all.css\",\n      document.querySelector(\"#insertion-point-jss\")\n    )\n    return () => {}\n  }, [])\n\n  const handleCopy = () => {\n    // This is a hack...\n    const copyText = document.getElementById(ORIGINAL_GENE_TEXT)\n    copyText.select()\n    document.execCommand(\"copy\")\n\n    // Show message\n    setOpen(true)\n  }\n\n  const handleSearch = evt => {\n    const genes = state.query\n    const sources = props.source.sources\n\n    if (genes.length === 0 || sources === null || sources.length === 0) {\n      // TODO: add better error message\n      return\n    }\n\n    const sourceNames = sources.map(source => source.name)\n\n    const geneListString = genes.replace(\",\", \" \")\n    const geneList = geneListString.split(/\\s*,\\s*|\\s+/)\n\n    props.searchActions.clearAll()\n    props.uiStateActions.setSelectedSource(\"enrichment\")\n    props.history.push(\"/\")\n    props.searchActions.setQuery(genes)\n    props.searchActions.searchStarted({ geneList, sourceNames })\n  }\n\n  const handleChange = name => event => {\n    setState({\n      ...props,\n      [name]: event.target.value\n    })\n  }\n\n  const handleClear = () => {\n    setState({ ...state, query: \"\" })\n  }\n\n  const handleKeyPress = event => {\n    if (event.key === \"Enter\") {\n      handleSearch()\n    }\n  }\n\n  const handleMenu = event => {\n    setState({ ...state, anchorEl: event.currentTarget })\n  }\n\n  const handleClose = () => {\n    setState({ ...state, anchorEl: null })\n  }\n\n  const handleExample = exampleIdx => {\n    setState({\n      ...props,\n      query: EXAMPLES[exampleIdx].genes,\n      anchorEl: null\n    })\n  }\n\n  return (\n    <div>\n      <MessageSnackbar\n        open={open}\n        setOpen={setOpen}\n        message={\"Genes are copied to clipboard!\"}\n        autoHideDuration={4000}\n        horizontal={\"left\"}\n        vertical={\"bottom\"}\n      />\n      <Paper className={classes.root} elevation={0}>\n        <Tooltip title=\"Query gene set examples\" placement=\"bottom\">\n          <div>\n            <IconButton\n              className={classes.iconButton}\n              aria-label=\"Menu\"\n              onClick={handleMenu}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Menu\n              anchorEl={state.anchorEl}\n              anchorOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\"\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\"\n              }}\n              open={menuOpen}\n              onClose={handleClose}\n            >\n              {EXAMPLES.map((example, idx) => {\n                return (\n                  <MenuItem key={idx} onClick={() => handleExample(idx)}>\n                    {example.name}\n                  </MenuItem>\n                )\n              })}\n            </Menu>\n          \n          </div>\n        </Tooltip>\n        <Divider className={classes.divider} />\n        <Tooltip title=\"Copy\" placement=\"bottom\">\n          <IconButton\n            color=\"default\"\n            className={classes.iconButton}\n            aria-label=\"Copy\"\n            onClick={handleCopy}\n          >\n            <Icon className={classNames(classes.icon, \"far fa-clipboard\")} />\n          </IconButton>\n        </Tooltip>\n        <Divider className={classes.divider} />\n        <Tooltip title=\"Clear gene list\" placement=\"bottom\">\n          <IconButton\n            color=\"default\"\n            className={classes.iconButton}\n            aria-label=\"Clear\"\n            onClick={handleClear}\n          >\n            <DeleteIcon />\n          </IconButton>\n        </Tooltip>\n        <Divider className={classes.divider} />\n        <InputBase\n          id={ORIGINAL_GENE_TEXT}\n          className={classes.input}\n          placeholder=\"Genes entered\"\n          value={state.query}\n          onChange={handleChange(\"query\")}\n          onKeyDown={handleKeyPress}\n          ref={geneTextRef}\n        />\n\n        <Tooltip title=\"Start new search\" placement=\"bottom\">\n          <IconButton\n            color=\"primary\"\n            className={classes.iconButton}\n            aria-label=\"Directions\"\n            onClick={handleSearch}\n          >\n            <SearchIcon />\n          </IconButton>\n        </Tooltip>\n      </Paper>\n    </div>\n  )\n}\n\nexport default withStyles(styles)(GeneTextBox)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { withStyles } from \"@material-ui/core/styles\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport Typography from \"@material-ui/core/Typography\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport HelpIcon from \"@material-ui/icons/Help\"\nimport Tooltip from \"@material-ui/core/Tooltip\"\nimport Button from \"@material-ui/core/Button\"\n\n\nimport classNames from \"classnames\"\n\nimport logo from \"../../assets/images/ndex-logo.svg\"\nimport cytoLogo from \"../../assets/images/cytoscape-logo-mono-dark.svg\"\nimport nrnbLogo from \"../../assets/images/nrnb-logo-mono-dark.svg\"\nimport wpLogo from \"../../assets/images/wp-logo-mono-dark.svg\"\nimport idekerLogo from \"../../assets/images/ideker-logo-mono-dark.svg\"\nimport HomeIcon from \"@material-ui/icons/Home\"\n\nimport GeneTextBox from \"./GeneTextBox\"\n\nconst drawerWidth = 240\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1\n  },\n  grow: {\n    flexGrow: 1\n  },\n  hide: {\n    display: \"none\"\n  },\n  menuButton: {\n    marginLeft: 12,\n    marginRight: 10\n  },\n  logo: {\n    height: \"1em\",\n    width: \"1.5em\"\n  },\n  homeLogo: {\n    height: \"1em\",\n    width: \"1em\",\n    marginRight: \"0.5em\"\n  },\n  appBar: {\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  textBox: {\n    paddingLeft: \"1em\",\n    paddingRight: \"1em\"\n  },\n  noWrap: {\n    display: \"inline-block\",\n    whiteSpace: \"nowrap\"\n  }\n})\n\nconst titleStyle = {\n  position: \"relative\",\n  left: \"1em\",\n  textTransform: \"none\",\n}\n\nclass TitleBar extends React.Component {\n  handleMenu = () => {\n    this.props.uiStateActions.setSettingsOpen(\n      !this.props.uiState.isSettingsOpen\n    )\n  }\n\n  handleHomeButton = () => {\n    this.props.searchActions.clearAll()\n    this.props.uiStateActions.setSelectedSource(\"enrichment\")\n    this.props.networkActions.networkClear()\n    this.props.history.push(\"/\")\n  }\n\n  render() {\n    const { classes, ...others } = this.props\n    const open = this.props.uiState.isSettingsOpen\n\n    return (\n      <AppBar\n        position=\"fixed\"\n        color=\"inherit\"\n        className={classNames(classes.appBar, {\n          [classes.appBarShift]: open\n        })}\n      >\n        <div className={classes.noWrap}>\n          <Toolbar disableGutters={!open}>\n            <Tooltip title=\"Search by Pathway Enrichment / Protein-Protein Interactions / Gene Association\" aria-label=\"NDEx_tooltip\">\n              <div>\n                <Button style={titleStyle} onClick={this.handleHomeButton}>\n                  <HomeIcon fontSize=\"default\" className={classes.homeLogo}/>\n                  <Typography variant=\"h6\" color=\"inherit\" noWrap={true}>\n                     NDEx Integrated Query\n                  </Typography>\n                </Button>\n              </div>\n            </Tooltip>\n\n            {this.props.search.results === null ? (\n              <div />\n            ) : (\n              <div className={classes.textBox}>\n                <GeneTextBox {...others} />\n              </div>\n            )}\n\n            <div className={classes.grow} />\n          \n            <div>\n              <Tooltip title=\"NDEx\" placement=\"bottom\">\n                <IconButton\n                  color=\"default\"\n                  aria-label=\"Home\"\n                  onClick={() => openLink(NDEX_URL)}\n                >\n                  <img alt=\"NDEx logo\" src={logo} className={classes.logo} />\n                </IconButton>\n              </Tooltip>\n\n              <Tooltip title=\"Help\" placement=\"bottom\" style={{marginRight: \"1em\"}}>\n                <Typography color=\"textPrimary\" noWrap={true} display=\"inline\">\n                  <IconButton\n                    aria-haspopup=\"true\"\n                    onClick={() => openLink(HELP_URL)}\n                    color=\"inherit\"\n                  >  \n                    <HelpIcon className={classes.logo}/> \n                  </IconButton>\n                </Typography>\n              </Tooltip>\n              {/*}\n            <Tooltip title=\"Ideker Lab\" placement=\"bottom\">\n              <IconButton\n                color='default'\n                onClick={() => openLink(IL_URL)}\n              >\n                <img alt=\"Ideker Lab Logo\" src={idekerLogo} className={classes.logo} />\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip title=\"Cytoscape\" placement=\"bottom\">\n              <IconButton\n                color=\"default\"\n                onClick={() => openLink(CYTOSCAPE_URL)}\n              >\n                <img alt=\"Cytoscape Logo\" src={cytoLogo} className={classes.logo}/>\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip title=\"NRNB\" placement=\"bottom\">\n              <IconButton\n                color=\"default\"\n                aria-label=\"Home\"\n                onClick={() => openLink(NRNB_URL)}\n              >\n                <img alt=\"NRNB logo\" src={nrnbLogo} className={classes.logo} />\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip title=\"WikiPathways\" placement=\"bottom\">\n              <IconButton\n                color='default'\n                onClick={()=> openLink(WP_URL)}\n              >\n                <img alt=\"WikiPathways Logo\" src={wpLogo} className={classes.logo}/>\n              </IconButton>\n          </Tooltip>*/}\n            </div>\n          </Toolbar>\n        </div>\n      </AppBar>\n    )\n  }\n}\n\n// TODO: replace this to the actual help page\nconst HELP_URL = \"https://github.com/idekerlab/search-portal/wiki\"\nconst NDEX_URL = \"https://www.ndexbio.org/\"\nconst CYTOSCAPE_URL = \"https://cytoscape.org/\"\nconst NRNB_URL = \"https://nrnb.org/\"\nconst WP_URL = \"https://www.wikipathways.org/\"\nconst IL_URL = \"http://idekerlab.ucsd.edu/\"\n\nconst openLink = url => {\n  window.open(url, \"_blank\")\n}\n\nTitleBar.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default (withStyles(styles, { withTheme: true})(TitleBar))","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport List from \"@material-ui/core/List\"\nimport Divider from \"@material-ui/core/Divider\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\"\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport SettingIcon from \"@material-ui/icons/Settings\"\nimport CloudIcon from \"@material-ui/icons/Cloud\"\nimport ExpandLess from \"@material-ui/icons/ExpandLess\"\nimport ExpandMore from \"@material-ui/icons/ExpandMore\"\nimport Tooltip from \"@material-ui/core/Tooltip\"\n\nimport github from \"../../assets/images/github.svg\"\n\nimport \"./style.css\"\n\nconst drawerWidth = 240\n\nconst styles = theme => ({\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  nested: {\n    paddingLeft: theme.spacing.unit * 4\n  }\n})\n\nclass SettingsPanel extends React.Component {\n  handleServicesItemClick = () => {\n    const servicesListOpen = this.props.uiState.servicesListOpen\n    this.props.uiStateActions.setServicesListOpen(!servicesListOpen)\n  }\n\n  handleDrawerClose = () => {\n    const isOpen = this.props.uiState.isSettingsOpen\n    this.props.uiStateActions.setSettingsOpen(!isOpen)\n  }\n\n  render() {\n    const { classes, theme } = this.props\n    const isOpen = this.props.uiState.isSettingsOpen\n    const sources = this.props.source.sources\n    const servicesListOpen = this.props.uiState.servicesListOpen\n\n    return (\n      <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={isOpen}\n        classes={{\n          paper: classes.drawerPaper\n        }}\n      >\n        <div className=\"drawerHeader\">\n          <IconButton onClick={this.handleDrawerClose}>\n            {theme.direction === \"ltr\" ? (\n              <ChevronLeftIcon />\n            ) : (\n              <ChevronRightIcon />\n            )}\n          </IconButton>\n        </div>\n        <Divider />\n        <List className={classes.root}>\n          <ListItem button onClick={this.handleServicesItemClick}>\n            <ListItemIcon>\n              <CloudIcon />\n            </ListItemIcon>\n            <ListItemText inset primary=\"Services\" />\n            {servicesListOpen ? <ExpandLess /> : <ExpandMore />}\n          </ListItem>\n          <Collapse in={servicesListOpen} timeout=\"auto\" unmountOnExit>\n            <List component=\"div\">\n              {sources.map(sourceEntry => (\n                <Tooltip\n                  title={\"Version: \" + sourceEntry.version}\n                  placement=\"right\"\n                  key={sourceEntry.uuid}\n                >\n                  <ListItem\n                    button\n                    key={sourceEntry.uuid}\n                    className={classes.nested}\n                  >\n                    <ListItemIcon>\n                      <CloudIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={sourceEntry.name}\n                      secondary={\" Status: \" + sourceEntry.status}\n                    />\n                  </ListItem>\n                </Tooltip>\n              ))}\n            </List>\n          </Collapse>\n        </List>\n        <Divider />\n        <List>\n          {[\"Settings\"].map((text, index) => (\n            <ListItem button key={text}>\n              <ListItemIcon>\n                <SettingIcon />\n              </ListItemIcon>\n              <ListItemText primary={text} />\n            </ListItem>\n          ))}\n        </List>\n        <Divider />\n        <List>\n          {LINKS.map(link => (\n            <ListItem button key={link.name} onClick={() => openLink(link.url)}>\n              <ListItemIcon>\n                <img src={link.src} height=\"24px\" width=\"24px\" alt='list item icon'/>\n              </ListItemIcon>\n              <ListItemText primary={link.name} />\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n    )\n  }\n}\n\nconst LINKS = [\n  {\n    name: \"Source Code\",\n    url: \"https://github.com/idekerlab/search-portal\",\n    src: github\n  }\n]\n\nconst openLink = url => {\n  window.open(url, \"_blank\")\n}\n\nSettingsPanel.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired\n}\n\nexport default (withStyles(styles, {withTheme: true})(SettingsPanel))\n","import React, { useEffect } from \"react\"\nimport \"./style.css\"\n\nimport TitleBar from \"./TitleBar\"\nimport SettingsPanel from \"../SettingsPanel\"\n\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\nimport { withStyles } from \"@material-ui/core/styles\"\n\nimport classNames from \"classnames\"\n\nconst drawerWidth = 240\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    height: \"100vmin\"\n  },\n  drawerHeader: {\n    display: \"flex\",\n    padding: \"0 0.5em\",\n    alignItems: \"center\",\n    ...theme.mixins.toolbar,\n    justifyContent: \"flex-end\"\n  },\n  content: {\n    flexGrow: 1,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginLeft: -drawerWidth\n  },\n  contentShift: {\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  }\n})\n\nconst AppShell = props => {\n  useEffect(() => {\n    const urlParams = new URLSearchParams(props.history.location.search)\n    const cyrestport = urlParams.get(\"cyrestport\")\n    if (cyrestport) {\n      props.cyrestActions.setPort(cyrestport)\n    }\n    return () => {}\n  }, [])\n  const { classes, ...others } = props\n\n  const open = props.uiState.isSettingsOpen\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <TitleBar {...others} />\n      <SettingsPanel {...others} />\n\n      <div\n        className={classNames(classes.content, {\n          [classes.contentShift]: open\n        })}\n      />\n      {props.children}\n    </div>\n  )\n}\n\nexport default withStyles(styles, { withTheme: true })(AppShell)\n","import React, { useEffect } from \"react\"\nimport \"./style.css\"\n\nimport InputPanel from \"../InputPanel\"\nimport Results from \"../Results\"\nimport AppShell from \"../AppShell\"\nimport LoadingPanel from \"../LoadingPanel\"\n\nconst HomePanel = props => {\n  useEffect(() => {\n    if (props.search.results !== null) {\n      const jobId = props.search.results.jobId\n      props.searchActions.fetchResultStarted({ jobId })\n    }\n\n    window.onpopstate = onBackButtonEvent\n    return () => {}\n  }, [])\n\n  const onBackButtonEvent = e => {\n    e.preventDefault()\n    props.searchActions.clearAll()\n    props.history.push(\"/\")\n  }\n\n  const isFetching = props.search.isFetching\n  const searchResults = props.search.searchResults\n\n  // Still searching and no result is available\n  if (isFetching && searchResults === null) {\n    return (\n      <AppShell {...props}>\n        <LoadingPanel title=\"Loading Results...\" />\n      </AppShell>\n    )\n  }\n\n  return (\n    <AppShell {...props}>\n      <div className=\"container\">\n        <Results {...props} />\n        <InputPanel {...props} />\n      </div>\n    </AppShell>\n  )\n}\n\nexport default HomePanel\n","import React, { useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\n\nimport * as searchActions from \"../../actions/search\"\nimport * as uiStateActions from \"../../actions/uiState\"\nimport * as networkActions from \"../../actions/network\"\nimport * as sourceActions from \"../../actions/source\"\nimport * as cyrestActions from \"../../actions/cyrest\"\nimport * as ndexSaveActions from \"../../actions/ndexSave\"\n\nimport ReactGA from \"react-ga\"\n\nimport HomePanel from \"../../components/HomePanel\"\n\nconst MainContainer = props => {\n  useEffect(() => {\n    const { history } = props\n\n    history.listen(({ pathname }) => {\n      ReactGA.set({ page: pathname })\n      ReactGA.pageview(pathname)\n    })\n  }, [])\n  return (\n    <HomePanel {...props} />\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    search: state.search,\n    uiState: state.uiState,\n    network: state.network,\n    source: state.source,\n    cyrest: state.cyrest,\n    ndexSave: state.ndexSave\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    searchActions: bindActionCreators(searchActions, dispatch),\n    uiStateActions: bindActionCreators(uiStateActions, dispatch),\n    networkActions: bindActionCreators(networkActions, dispatch),\n    sourceActions: bindActionCreators(sourceActions, dispatch),\n    cyrestActions: bindActionCreators(cyrestActions, dispatch),\n    ndexSaveActions: bindActionCreators(ndexSaveActions, dispatch)\n  }\n}\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(MainContainer)\n)\n","import React, { useState, useEffect, useRef } from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Paper from \"@material-ui/core/Paper\"\nimport InputBase from \"@material-ui/core/InputBase\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { Tooltip } from \"@material-ui/core\"\nimport Button from \"@material-ui/core/Button\"\nimport Link from \"@material-ui/core/Link\"\nimport searchLogo from \"../../assets/images/search-logo.svg\"\n\nimport * as examples from \"./example-genes\"\n\nconst EXAMPLES = examples.default.examples\nconst feedbackURL = \"https://home.ndexbio.org/contact-us/\"\n\nconst styles = {\n  root: {\n    padding: \"0.1em 0.25em\",\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  input: {\n    marginLeft: 8,\n    flex: 1\n  },\n  iconButton: {\n    padding: 10\n  },\n  divider: {\n    width: 1,\n    height: 28,\n    margin: 4\n  }\n}\n\nconst SearchTextBox = props => {\n  const { classes } = props\n  const searchButtonEl = useRef()\n\n  const [state, setState] = useState({ anchorEl: null, query: \"\" })\n\n  useEffect(() => {\n    if (props.search.results !== null) {\n      const jobId = props.search.results.jobId\n      props.history.push(`/${jobId}`)\n    }\n  }, [])\n\n  const open = Boolean(state.anchorEl)\n\n  const handleMenu = event => {\n    setState({ ...state, anchorEl: event.currentTarget })\n  }\n\n  const handleClose = () => {\n    setState({ ...state, anchorEl: null })\n  }\n\n  const handleExample = exampleIdx => {\n    setState({\n      ...props,\n      query: EXAMPLES[exampleIdx].genes,\n      anchorEl: null\n    })\n  }\n\n  const handleChange = name => event => {\n    setState({\n      ...props,\n      [name]: event.target.value\n    })\n  }\n\n  const handleKeyPress = event => {\n    if (event.key === \"Enter\") {\n      // TODO: add validator here\n      handleSearch()\n    }\n  }\n\n  const handleClear = () => {\n    setState({ ...state, query: \"\" })\n  }\n\n  const handleSearch = event => {\n    const genes = state.query\n    const sources = props.source.sources\n\n    if (genes.length === 0 || sources === null || sources.length === 0) {\n      // TODO: add better error message\n      return\n    }\n\n    const sourceNames = sources.map(source => source.name)\n    const geneList = genes.toString().split(/\\s*,\\s*|\\s+/)\n    props.searchActions.setQuery(genes)\n    props.searchActions.searchStarted({ geneList, sourceNames })\n  }\n\n  return (\n    <React.Fragment>\n      <Paper className={\"search-text-box\"} elevation={1}>\n        <IconButton\n          color={\"default\"}\n          className={classes.iconButton}\n          aria-label=\"Directions\"\n          onClick={handleClear}\n        >\n          <DeleteIcon />\n        </IconButton>\n        <InputBase\n          className={classes.input}\n          placeholder=\"Enter gene list (or click an example below)\"\n          onChange={handleChange(\"query\")}\n          onKeyDown={handleKeyPress}\n          value={state.query}\n          autoFocus={true}\n        />\n        <IconButton\n          ref={searchButtonEl}\n          className={classes.iconButton}\n          aria-label=\"Search\"\n          onClick={handleSearch}\n        >\n          <img\n            alt=\"Search icon\"\n            src={searchLogo}\n            style={{ height: \"1.25em\" }}\n          />\n        </IconButton>\n      </Paper>\n      <Link href={feedbackURL} target=\"_blank\" color=\"textSecondary\" underline=\"none\">\n        <Typography\n          variant=\"caption\"\n          style={{ paddingTop: \"0.25em\" }}\n          color=\"textSecondary\"\n        >\n          <em>Try this pre-release version, send us </em>\n          <Link href={feedbackURL} target=\"_blank\">\n            <font color=\"#00A1DE\">\n              <em>feedback</em>\n            </font>\n          </Link>\n        </Typography>\n      </Link>\n      <Typography\n        align=\"left\"\n        style={{ paddingLeft: \"7.25em\", paddingTop: \"1em\" }}\n      >\n        Query gene set examples:\n      </Typography>\n      <Tooltip title=\"Hypoxia description\" open={false}>\n        <Button onClick={() => handleExample(0)}>\n          <font color=\"#00A1DE\">Hypoxia</font>\n        </Button>\n      </Tooltip>\n      <Tooltip title=\"Adenyl cyclase description\" open={false}>\n        <Button color=\"primary\" onClick={() => handleExample(1)}>\n          <font color=\"#00A1DE\">Adenyl Cyclase</font>\n        </Button>\n      </Tooltip>\n      <Tooltip title=\"D4DGI description\" open={false}>\n        <Button color=\"primary\" onClick={() => handleExample(2)}>\n          <font color=\"#00A1DE\">D4DGI</font>\n        </Button>\n      </Tooltip>\n      <Tooltip title=\"Angiotensin description\" open={false}>\n        <Button color=\"primary\" onClick={() => handleExample(3)}>\n          <font color=\"#00A1DE\">Angiotensin</font>\n        </Button>\n      </Tooltip>\n      <Tooltip title=\"Estrogen description\" open={false}>\n        <Button color=\"primary\" onClick={() => handleExample(4)}>\n          <font color=\"#00A1DE\">Estrogen</font>\n        </Button>\n      </Tooltip>\n    </React.Fragment>\n  )\n}\n\nSearchTextBox.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(SearchTextBox)\n","import React from \"react\"\nimport \"./style.css\"\n\n// SVG images for links\nimport cyLogo from \"../../assets/images/cytoscape-logo.svg\"\nimport ndexLogo from \"../../assets/images/ndex-logo.svg\"\nimport ucsdLogo from \"../../assets/images/ucsd-logo.svg\"\n\nimport Typography from \"@material-ui/core/Typography\"\n\nconst Footer = props => (\n  <footer className=\"footer-container\">\n    <Typography variant=\"subtitle1\">\n      &copy; 2019 UC, San Diego Ideker Lab\n    </Typography>\n    <img\n      alt=\"NDEx logo\"\n      src={ndexLogo}\n      className=\"footer-logo\"\n      onClick={() => openLink(NDEX_URL)}\n    />\n    <img\n      alt=\"Cytoscape logo\"\n      src={cyLogo}\n      className=\"footer-logo\"\n      onClick={() => openLink(CY_URL)}\n    />\n    <img\n      alt=\"UCSD logo\"\n      src={ucsdLogo}\n      className=\"footer-logo\"\n      onClick={() => openLink(UCSD_URL)}\n    />\n  </footer>\n)\n\nconst CY_URL = \"https://cytoscape.org/\"\nconst NDEX_URL = \"https://www.ndexbio.org/\"\nconst UCSD_URL =\n  \"https://medschool.ucsd.edu/som/medicine/research/labs/ideker/Pages/default.aspx\"\n\nconst openLink = url => {\n  window.open(url, \"_blank\")\n}\n\nexport default Footer\n","import React, { useEffect } from \"react\"\nimport \"./style.css\"\n\nimport SearchTextBox from \"./SearchTextBox\"\nimport Footer from \"./Footer\"\nimport LoadingPanel from \"../LoadingPanel\"\nimport Typography from \"@material-ui/core/Typography\"\n\nimport ndex from \"../../assets/images/ndex-logo.svg\"\nimport queryString from \"query-string\"\nimport { Tooltip } from \"@material-ui/core\"\nimport Link from \"@material-ui/core/Link\"\n\nconst feedbackURL = \"https://home.ndexbio.org/contact-us/\"\n\nconst StartPanel = props => {\n  useEffect(() => {\n    const params = queryString.parse(props.location.search)\n    const genes = params.genes\n\n    if (genes !== undefined) {\n      const geneList = genes.split(\",\")\n      props.searchActions.setQuery(genes)\n      props.searchActions.searchStarted({ geneList })\n    }\n\n    props.sourceActions.findSourceStarted()\n\n    return () => {}\n  }, [])\n\n  if (props.search.isSearching) {\n    return (\n      <LoadingPanel\n        title={\"Searching Remote Database\"}\n        message={<div style={{ color: \"black\" }}>Please wait...</div>}\n      />\n    )\n  }\n\n  return (\n    <div className=\"start-container\">\n      <div className=\"start-title\">\n        <div\n          style={{\n            position: \"relative\",\n            paddingTop: \"0.1em\",\n            paddingBottom: \"2em\",\n\n            display: \"flex\",\n            flexDirection: \"column\",\n            marginBottom: \"-0.5em\"\n          }}\n        >\n          <Typography align=\"center\" color=\"textSecondary\">\n            One search finds pathways, queries protein interaction networks,\n          </Typography>\n          <Typography align=\"center\" color=\"textSecondary\">\n            and discovers disease, drug, and tissue associations.\n          </Typography>\n          <Typography align=\"center\" color=\"textSecondary\">\n            Powered by NDEx and integrated with Cytoscape.\n          </Typography>\n        </div>\n        <div align=\"center\" className=\"inlineFlex\">\n          <img\n            className=\"start-logo-main\"\n            src={ndex}\n            alt=\"logo\"\n            style={{ height: \"8.75em\", paddingRight: \"1em\" }}\n          />\n          <div className=\"flex\">\n            <Typography\n              variant=\"h3\"\n              align=\"left\"\n              style={{\n                whiteSpace: \"noWrap\",\n                position: \"relative\",\n                top: \"0.1em\"\n              }}\n            >\n              NDEx Integrated Query\n            </Typography>\n            <Typography\n              align=\"left\"\n              style={{ position: \"relative\", left: \"0.25em\", top: \"-0.1em\" }}\n            >\n              v0.2 Pre-Release.\n            </Typography>\n          </div>\n        </div>\n\n        <div align=\"center\" style={{ paddingBottom: \"3em\", paddingTop: \"1em\" }}>\n          <SearchTextBox {...props} />\n        </div>\n      </div>\n      <div className=\"height\">\n        <Link href={feedbackURL} target=\"_blank\" color=\"textSecondary\" underline=\"none\">\n          <div className=\"flex\">\n            <Typography variant=\"caption\" align=\"center\">\n            NDEx Integrated Query uses selected pathway and interactome networks\n            in NDEx to power gene set analysis.\n            </Typography>\n            <Typography variant=\"caption\" align=\"center\">\n            The networks come from many different sources and new networks will\n            be continously added.\n            </Typography>\n            <Typography variant=\"caption\" align=\"center\">\n            Do you have a pathway or an interaction network that you would like\n            to include in these queries? Click{\" \"}\n              <Link href={feedbackURL} target=\"_blank\">\n                <font color=\"#00A1DE\">\n                  <em>here</em>\n                </font>\n              </Link>{\" \"}\n            to find out how.\n            </Typography>\n          \n          </div>\n        </Link>\n      </div>\n      <Footer />\n    </div>\n  )\n}\n\nexport default StartPanel\n","import React from \"react\"\n\nimport AppShell from \"../AppShell\"\nimport StartPanel from \"./StartPanel\"\n\nconst TopPage = props => (\n  <AppShell \n    {...props}\n  >\n    <StartPanel\n      {...props}\n    />\n  </AppShell>\n)\n\nexport default TopPage\n","import React, { useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\n\nimport * as searchActions from \"../../actions/search\"\nimport * as uiStateActions from \"../../actions/uiState\"\nimport * as networkActions from \"../../actions/network\"\nimport * as sourceActions from \"../../actions/source\"\nimport * as cyrestActions from \"../../actions/cyrest\"\nimport * as ndexSaveActions from \"../../actions/ndexSave\"\nimport ReactGA from \"react-ga\"\n\nimport TopPage from \"../../components/TopPage\"\n\nconst TopPageContainer = props => {\n  useEffect(() => {\n    const { pathname } = props.location\n    ReactGA.set({ page: pathname })\n    ReactGA.pageview(pathname)\n\n    const { history } = props\n    history.listen(({ pathname }) => {\n      ReactGA.set({ page: pathname })\n      ReactGA.pageview(pathname)\n    })\n  }, [])\n  return (\n    <TopPage\n      {...props}\n    />\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    search: state.search,\n    uiState: state.uiState,\n    network: state.network,\n    source: state.source,\n    cyrest: state.cyrest,\n    ndexSave: state.ndexSave\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    searchActions: bindActionCreators(searchActions, dispatch),\n    uiStateActions: bindActionCreators(uiStateActions, dispatch),\n    networkActions: bindActionCreators(networkActions, dispatch),\n    sourceActions: bindActionCreators(sourceActions, dispatch),\n    cyrestActions: bindActionCreators(cyrestActions, dispatch),\n    ndexSaveActions: bindActionCreators(ndexSaveActions, dispatch)\n  }\n}\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(TopPageContainer)\n)\n","import React from \"react\"\n\nimport MainContainer from \"./containers/MainContainer\"\nimport TopPageContainer from \"./containers/TopPageContainer\"\n\nconst Top = props => <TopPageContainer {...props} />\nconst App = props => <MainContainer {...props} />\n\nexport { App, Top }\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\")\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\")\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      )\n    })\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import { handleActions } from \"redux-actions\"\nimport {\n  setQuery,\n  clearQuery,\n  searchStarted,\n  searchSucceeded,\n  searchFailed,\n  clearAll,\n  setSelectedGenes,\n  clearSelectedGenes,\n  fetchResultStarted,\n  fetchResultSucceeded,\n  fetchResultFailed,\n  setSearchResult,\n  setActualResults\n} from \"../actions/search\"\n\nconst EMPTY_STATE = {\n  isSearching: false,\n  isFetching: false,\n  queryGenes: \"\",\n  queryList: [],\n  results: null,\n  searchStatus: null,\n  searchResults: null,\n  selectedGenes: [],\n  resultList: [],\n  actualResults: []\n}\n\nconst search = handleActions(\n  {\n    [setQuery]: (state, payload) => {\n      return { ...state, queryGenes: payload.payload }\n    },\n    [clearQuery]: (state, payload) => {\n      return { ...state, queryGenes: \"\", queryList: [] }\n    },\n    [clearAll]: (state, payload) => {\n      return EMPTY_STATE\n    },\n    [searchStarted]: (state, payload) => {\n      return {\n        ...state,\n        isSearching: true,\n        resultList: [],\n        queryList: state.queryGenes.split(\" \")\n      }\n    },\n    [searchSucceeded]: (state, payload) => {\n      return { ...state, results: payload.payload, isSearching: false }\n    },\n    [searchFailed]: (state, payload) => {\n      return { ...state, isSearching: false }\n    },\n    [setSelectedGenes]: (state, payload) => {\n      return { ...state, selectedGenes: [payload.payload] }\n    },\n    [clearSelectedGenes]: (state, payload) => {\n      return {\n        ...state,\n        selectedGenes: []\n      }\n    },\n    [fetchResultStarted]: (state, payload) => {\n      return {\n        ...state,\n        isFetching: true,\n        searchStatus: null,\n        searchResults: null\n      }\n    },\n    [fetchResultSucceeded]: (state, payload) => {\n      return {\n        ...state,\n        isFetching: false\n      }\n    },\n    [fetchResultFailed]: (state, payload) => {\n      return { ...state, isFetching: false }\n    },\n    [setSearchResult]: (state, payload) => {\n      const singleResult = payload.payload.singleResult\n      return {\n        ...state,\n        searchResults: singleResult\n      }\n    },\n    [setActualResults]: (state, payload) => {\n      return {\n        ...state,\n        actualResults: payload.payload\n      }\n    }\n  },\n  EMPTY_STATE\n)\n\nexport default search\n","import { handleActions } from \"redux-actions\"\nimport {\n  setSettingsOpen,\n  setServicesListOpen,\n  setHighlights,\n  setSelectedSource,\n  setSortOrder\n} from \"../actions/uiState\"\n\nconst DEF_STATE = {\n  isSettingsOpen: false,\n  servicesListOpen: false,\n  highlights: false,\n  selectedSource: \"enrichment\",\n  sortOrder: [\"p-Value\", \"Overlap\"]\n}\n\nconst uiState = handleActions(\n  {\n    [setSettingsOpen]: (state, payload) => {\n      console.log(\"OPEN = \", payload.payload)\n      return { ...state, isSettingsOpen: payload.payload }\n    },\n    [setServicesListOpen]: (state, payload) => {\n      return { ...state, servicesListOpen: payload.payload }\n    },\n    [setHighlights]: (state, payload) => {\n      return { ...state, highlights: payload.payload }\n    },\n    [setSelectedSource]: (state, payload) => {\n      return { ...state, selectedSource: payload.payload }\n    },\n    [setSortOrder]: (state, payload) => {\n      return {\n        ...state,\n        sortOrder: payload.payload\n      }\n    }\n  },\n  DEF_STATE\n)\n\nexport default uiState\n","import { handleActions } from \"redux-actions\"\nimport { CxToJs, CyNetworkUtils } from \"cytoscape-cx2js\"\nimport { MAX_NETWORK_SIZE } from \"../components/Results/CytoscapeViewer\"\nimport * as vs from \"../assets/data/styles.json\"\n\nimport {\n  networkFetchStarted,\n  networkFetchFailed,\n  networkFetchSucceeded,\n  networkClear,\n  selectNodes,\n  unselectNodes,\n  selectEdges,\n  unselectEdges,\n  deselectAll,\n  changeTab,\n  changeListIndex,\n  fitNetworkView,\n  setAnnotations,\n  setLayout,\n  setLayouts\n} from \"../actions/network\"\n\nconst defaultState = {\n  isFetching: false,\n  uuid: \"\",\n  jobId: \"\",\n  sourceId: \"\",\n  networkName: \"\",\n  queryGenes: [],\n  hitGenes: [],\n  originalCX: null,\n  network: null,\n  nodeCount: 0,\n  edgeCount: 0,\n  isLayoutComplete: false,\n  selectedNodes: [],\n  selectedEdges: [],\n  tableDisplayTab: 0,\n  listIndex: 0,\n  fit: false,\n  annotations: false,\n  layout: \"Preset\",\n  layouts: []\n}\n\nconst utils = new CyNetworkUtils()\nconst cx2js = new CxToJs(utils)\n\nconst PRESET_VS = vs.default[0].style\n\n// Standard selection\nPRESET_VS.push({\n  selector: \"node:selected\",\n  css: {\n    \"background-color\": \"red\",\n    color: \"#FFFFFF\",\n    \"background-opacity\": 1,\n    \"border-width\": 0,\n    width: 100,\n    height: 100\n  }\n})\n\n// For class-based style update\nconst fadedNode = {\n  selector: \"node.faded\",\n  css: {\n    opacity: 0.9\n  }\n}\n\nconst fadedEdge = {\n  selector: \"edge.faded\",\n  css: {\n    opacity: 0.9\n  }\n}\n\nconst highlight = {\n  selector: \".highlight\",\n  css: {\n    opacity: 1.0,\n    \"overlay-color\": \"#C51162\",\n    \"overlay-padding\": 12,\n    \"overlay-opacity\": 0.5\n  }\n}\n\nconst activeObject = {\n  selector: \"node:active\",\n  css: {\n    \"overlay-color\": \"#FFFF66\",\n    \"overlay-padding\": 25,\n    \"overlay-opacity\": 0.3\n  }\n}\n\nconst network = handleActions(\n  {\n    [networkFetchStarted]: (state, payload) => {\n      console.log(\"Query start: genes = \", payload)\n      return {\n        ...state,\n        isFetching: true,\n        nodeCount: payload.payload.nodeCount,\n        edgeCount: payload.payload.edgeCount,\n        jobId: payload.payload.id,\n        sourceId: payload.payload.sourceUUID,\n        uuid: payload.payload.networkUUID,\n        networkName: payload.payload.networkName,\n        queryGenes: payload.payload.geneList,\n        hitGenes: payload.payload.hitGenes,\n        originalCX: null,\n        network: null,\n        isLayoutComplete: false,\n        backgroundColor: \"\",\n        selectedNodes: [],\n        selectedEdges: [],\n        tableDisplayTab: 0,\n        layout: \"Preset\",\n        layouts: []\n      }\n    },\n    [networkFetchSucceeded]: (state, payload) => {\n      const originalCX = payload.cx\n      let network = {}\n      let backgroundColor = {}\n      if (state.nodeCount + state.edgeCount <= MAX_NETWORK_SIZE) {\n        try {\n          const cyjsNetwork = convertCx2cyjs(originalCX, state.queryGenes)\n          network = cyjsNetwork\n        } catch (err) {\n          // This is an error state\n          console.warn(\"Could not convert given CX to CYJS:\", err)\n          throw new Error(\"Could not convert given CX to CYJS:\", err)\n        }\n\n        backgroundColor = getBackGround(originalCX)\n      }\n\n      return {\n        ...state,\n        originalCX,\n        network,\n        backgroundColor,\n        isFetching: false\n      }\n    },\n    [networkFetchFailed]: (state, payload) => {\n      return {\n        ...state,\n        network: null,\n        originalCX: null,\n        isFetching: false,\n        nodeCount: undefined,\n        edgeCount: undefined\n      }\n    },\n    [networkClear]: (state, payload) => {\n      return {\n        ...state,\n        uuid: \"\",\n        networkName: \"\",\n        originalCX: null,\n        network: null,\n        backgroundColor: null,\n        isFetching: false,\n        nodeCount: undefined,\n        edgeCount: undefined,\n        layout: \"Default\"\n      }\n    },\n    [selectNodes]: (state, payload) => {\n      return {\n        ...state,\n        tableDisplayTab: 1,\n        selectedNodes: payload.payload\n      }\n    },\n    [unselectNodes]: (state, payload) => {\n      return {\n        ...state,\n        selectedNodes: []\n      }\n    },\n    [selectEdges]: (state, payload) => {\n      return {\n        ...state,\n        tableDisplayTab: 2,\n        selectedEdges: payload.payload\n      }\n    },\n    [unselectEdges]: (state, payload) => {\n      return {\n        ...state,\n        selectedEdges: []\n      }\n    },\n    [deselectAll]: (state, payload) => {\n      return {\n        ...state,\n        tableDisplayTab: 0,\n        selectedNodes: [],\n        selectedEdges: []\n      }\n    },\n    [changeTab]: (state, payload) => {\n      return {\n        ...state,\n        tableDisplayTab: payload.payload\n      }\n    },\n    [changeListIndex]: (state, payload) => {\n      return {\n        ...state,\n        listIndex: payload.payload\n      }\n    },\n    [fitNetworkView]: (state, payload) => {\n      return {\n        ...state,\n        fit: payload.payload\n      }\n    },\n    [setAnnotations]: (state, payload) => {\n      return {\n        ...state,\n        annotations: payload.payload\n      }\n    },\n    [setLayout]: (state, payload) => {\n      return {\n        ...state,\n        layout: payload.payload\n      }\n    },\n    [setLayouts]: (state, payload) => {\n      return {\n        ...state,\n        layouts: payload.payload\n      }\n    }\n  },\n  defaultState\n)\n\nconst convertCx2cyjs = (cx, queryGenes) => {\n  const niceCX = utils.rawCXtoNiceCX(cx)\n  const attributeNameMap = {}\n  const elementsObj = cx2js.cyElementsFromNiceCX(niceCX, attributeNameMap)\n\n  // This contains original style.\n  const style = cx2js.cyStyleFromNiceCX(niceCX, attributeNameMap)\n\n  const newStyle = styleUpdater(style)\n\n  // const updatedStyle = styleUpdater(PRESET_VS, queryGenes)\n  const updatedNodes = adjustLayout(elementsObj.nodes, queryGenes)\n  const elements = [...updatedNodes, ...elementsObj.edges]\n  return {\n    elements,\n    style: newStyle,\n    isLayout: checkLayout(elementsObj.nodes)\n  }\n}\n\nconst VS_TAG = \"cyVisualProperties\"\nconst getBackGround = cx => {\n  let color = \"#FFFFFF\"\n\n  const vps = cx.filter(entry => entry[VS_TAG])\n  if (vps !== undefined && vps !== null && vps.length !== 0) {\n    const vp = vps[0]\n    const allVp = vp[VS_TAG]\n    const networkVp = allVp.filter(p => p[\"properties_of\"] === \"network\")\n    return networkVp[0].properties[\"NETWORK_BACKGROUND_PAINT\"]\n  } else {\n    return color\n  }\n}\n\n// Utility function to get better results\nconst adjustLayout = (nodes, queryGenes) => {\n  let len = nodes.length\n\n  const upperQuery = new Set(queryGenes.map(gene => gene.toUpperCase()))\n\n  while (len--) {\n    const node = nodes[len]\n\n    const name = node.data.name ? node.data.name.toUpperCase() : null\n    if (upperQuery.has(name)) {\n      node.data[\"query\"] = \"true\"\n    }\n  }\n  return nodes\n}\n\nconst checkLayout = nodes => {\n  // Just checks first node only!\n  const node = nodes[0]\n  if (node.position === undefined) {\n    return false\n  } else {\n    return true\n  }\n}\n\nconst styleUpdater = style => {\n  style.push(fadedNode)\n  style.push(fadedEdge)\n  style.push(highlight)\n  style.push(activeObject)\n  return style\n}\n\nexport default network\n","import { handleActions } from \"redux-actions\"\nimport {\n  findSourceFailed,\n  findSourceStarted,\n  findSourceSucceeded,\n  setCurrentSource\n} from \"../actions/source\"\n\nconst defaultState = {\n  isFetchingSource: false,\n  sources: [],\n  error: null,\n  currentSource: null\n}\n\nconst source = handleActions(\n  {\n    [findSourceStarted]: (state, payload) => {\n      return {\n        ...state,\n        isFetchingSource: true,\n        error: null,\n        sources: []\n      }\n    },\n    [findSourceSucceeded]: (state, payload) => {\n      return {\n        ...state,\n        sources: payload.sources,\n        isFetchingSource: false,\n        error: null\n      }\n    },\n    [findSourceFailed]: (state, payload) => {\n      console.warn(\"Error:\", payload.error)\n      return {\n        ...state,\n        isFetchingSource: false,\n        error: payload.error,\n        sources: []\n      }\n    },\n    [setCurrentSource]: (state, payload) => {\n      return {\n        ...state,\n        currentSource: payload.payload\n      }\n    }\n  },\n  defaultState\n)\n\nexport default source\n","import { handleActions } from \"redux-actions\"\nimport {\n  importNetworkFailed,\n  importNetworkStarted,\n  importNetworkSucceeded,\n  fetchAvailable,\n  setAvailable,\n  startCyRestPolling,\n  stopCyRestPolling,\n  setPort,\n} from \"../actions/cyrest\"\n\nconst defaultState = {\n  isFetchingAvailable: false,\n  available: false,\n  isPollingAvailable: false,\n  port: 1234,\n  error: null,\n  lastResponse: null,\n  isLoadingNetwork: false\n}\n\nconst cyrest = handleActions(\n  {\n    [importNetworkStarted]: (state, payload) => {\n      return {\n        ...state,\n        lastResponse: null,\n        isLoadingNetwork: true,\n        error: null\n      }\n    },\n    [importNetworkSucceeded]: (state, payload) => {\n      return {\n        ...state,\n        lastResponse: payload,\n        isLoadingNetwork: false,\n        error: null\n      }\n    },\n    [importNetworkFailed]: (state, payload) => {\n      console.warn(\"Error===\", payload.error)\n      return {\n        ...state,\n        lastResponse: payload,\n        error: payload.error,\n        isLoadingNetwork: false,\n      }\n    },\n    [setPort]: (state, payload) => {\n      console.log(\"CyREST port = \", payload.payload)\n      return { ...state, port: payload.payload }\n    },\n    [fetchAvailable]: (state, payload) => {\n      return { ...state, available: null, isFetchingAvailable: true }\n    },\n    [setAvailable]: (state, payload) => {\n      return {\n        ...state,\n        available: payload.payload,\n        isFetchingAvailable: false\n      }\n    },\n    [startCyRestPolling]: (state, payload) => {\n      return { ...state }\n    },\n    [stopCyRestPolling]: (state, payload) => {\n      return { ...state }\n    },\n  },\n  defaultState\n)\n\nexport default cyrest\n","import { handleActions } from \"redux-actions\"\nimport {\n  setNDExModalOpen,\n  setProfile,\n  credentialsSignOn,\n  googleSignOn,\n  saveToNDEx,\n  setErrorMessage,\n  setNetworkUrl\n} from \"../actions/ndexSave\"\n\nconst DEF_STATE = {\n  ndexModal: false,\n  profile: null,\n  errorMessage: null,\n  networkUrl: null\n}\n\nconst ndexSave = handleActions(\n  {\n    [setNDExModalOpen]: (state, payload) => {\n      //console.log('OPEN = ', payload.payload)\n      return {\n        ...state,\n        ndexModal: payload.payload,\n        errorMessage: null,\n        networkUrl: null\n      }\n    },\n    [setProfile]: (state, payload) => {\n      return { ...state, profile: payload.payload }\n    },\n    [credentialsSignOn]: (state, payload) => {\n      return {\n        ...state\n      }\n    },\n    [googleSignOn]: (state, payload) => {\n      return {\n        ...state\n      }\n    },\n    [saveToNDEx]: (state, payload) => {\n      return {\n        ...state\n      }\n    },\n    [setErrorMessage]: (state, payload) => {\n      return {\n        ...state,\n        errorMessage: payload.payload\n      }\n    },\n    [setNetworkUrl]: (state, payload) => {\n      return {\n        ...state,\n        networkUrl: payload.payload\n      }\n    }\n  },\n  DEF_STATE\n)\n\nexport default ndexSave\n","import { combineReducers } from \"redux\"\n\nimport search from \"./search\"\nimport uiState from \"./uiState\"\nimport network from \"./network\"\nimport source from \"./source\"\nimport cyrest from \"./cyrest\"\nimport ndexSave from \"./ndexSave\"\n\nconst rootReducer = combineReducers({\n  source,\n  search,\n  uiState,\n  network,\n  cyrest,\n  ndexSave\n})\n\nexport default rootReducer\n","import { METHOD_GET, BASE_URL } from \"./apiConstants\"\n\nconst fetchNetwork = (id, sourceUUID, networkUUID) => {\n  const headers = {\n    \"Content-Type\": \"application/json\"\n  }\n  const fetchUrl =\n    BASE_URL +\n    id +\n    \"/overlaynetwork?sourceUUID=\" +\n    sourceUUID +\n    \"&networkUUID=\" +\n    networkUUID\n\n  console.log(\"Calling CX API:\", fetchUrl)\n\n  return fetch(fetchUrl, {\n    method: METHOD_GET,\n    headers\n  })\n}\n\nexport { fetchNetwork }\n","import { METHOD_POST } from \"./apiConstants\"\n\nconst MYGENE_BASE_URL = \"http://mygene.info/v3/query\"\n\n/**\n * Client for MyGene.info\n *\n * @param geneList\n * @returns {Promise<Response>}\n */\nconst searchGenes = geneList => {\n  const fields =\n    \"fields=symbol,name,taxid,entrezgene,summary,genomic_pos,go,pathway\"\n  const searchUrl =\n    MYGENE_BASE_URL + \"?q=\" + geneList + \"&scopes=symbol&\" + fields\n\n  return fetch(searchUrl, {\n    method: METHOD_POST\n  })\n}\n\nexport { searchGenes }\n","import { METHOD_GET, METHOD_POST, BASE_URL } from \"./apiConstants\"\n\n/**\n * Check the status of the services.\n *\n * @returns {Promise<Response | never | {error: any}>}\n */\nconst getSource = () => {\n  const searchUrl = BASE_URL + \"source\"\n  return fetch(searchUrl, {\n    method: METHOD_GET,\n    mode: \"cors\"\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw Error(\"Failed to fetch source list:\" + response.status)\n      }\n      return response\n    })\n    .catch(error => ({ error }))\n}\n\nconst checkStatus = jobId => {\n  const checkJobStatusUrl = BASE_URL + jobId + \"/status\"\n\n  return fetch(checkJobStatusUrl, {\n    method: METHOD_GET\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw Error(\"Failed to fetch source list:\" + response.status)\n      }\n      return response\n    })\n    .catch(error => ({ error }))\n}\n\nconst getResult = (jobId, sourceName = null) => {\n  const url = BASE_URL + jobId\n\n  const resultUrl = new URL(url)\n\n  if (sourceName !== null) {\n    resultUrl.searchParams.append(\"source\", sourceName)\n  }\n\n  return fetch(resultUrl, {\n    method: METHOD_GET\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw Error(\"Failed to fetch search result:\" + response.status)\n      }\n      return response\n    })\n    .catch(error => ({ error }))\n}\n\nconst postQuery = (geneList, sourceList) => {\n  const searchUrl = BASE_URL\n\n  const queryObject = {\n    geneList,\n    sourceList\n  }\n\n  const header = new Headers({\n    \"Content-Type\": \"application/json\"\n  })\n\n  return fetch(searchUrl, {\n    method: METHOD_POST,\n    headers: header,\n    body: JSON.stringify(queryObject)\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw Error(\"Failed to send query:\" + response.status)\n      }\n      return response\n    })\n    .catch(error => ({ error }))\n}\n\nexport { getResult, getSource, postQuery, checkStatus }\n","import { all, call, put, takeLatest } from \"redux-saga/effects\"\nimport * as api from \"../api/ndex\"\nimport * as myGeneApi from \"../api/mygene\"\nimport * as cySearchApi from \"../api/search\"\n\nimport {\n  SEARCH_STARTED,\n  SEARCH_FAILED,\n  SEARCH_SUCCEEDED,\n  FETCH_RESULT_STARTED,\n  FETCH_RESULT_SUCCEEDED,\n  FETCH_RESULT_FAILED,\n  SET_SEARCH_RESULT\n} from \"../actions/search\"\n\nimport {\n  FIND_SOURCE_STARTED,\n  FIND_SOURCE_FAILED,\n  FIND_SOURCE_SUCCEEDED\n} from \"../actions/source\"\n\nimport {\n  NETWORK_FETCH_STARTED,\n  NETWORK_FETCH_SUCCEEDED,\n  NETWORK_FETCH_FAILED\n} from \"../actions/network\"\n\nconst API_CALL_INTERVAL = 500\n\nexport default function* rootSaga() {\n  yield takeLatest(SEARCH_STARTED, watchSearch)\n  yield takeLatest(FETCH_RESULT_STARTED, watchSearchResult)\n  yield takeLatest(NETWORK_FETCH_STARTED, fetchNetwork)\n  yield takeLatest(FIND_SOURCE_STARTED, fetchSource)\n}\n\n/**\n * Calls Cytoscape Search service and set state\n *\n * @param action\n * @returns {IterableIterator<*>}\n */\nfunction* watchSearch(action) {\n  const geneList = action.payload.geneList\n  let sourceNames = action.payload.sourceNames\n\n  // If source names are missing, find them:\n  if (\n    sourceNames === undefined ||\n    sourceNames === null ||\n    sourceNames.length === 0\n  ) {\n    const sources = yield call(cySearchApi.getSource, null)\n    const sourceJson = yield call([sources, \"json\"])\n    const sourceList = sourceJson.results\n    sourceNames = sourceList.map(source => source.name)\n    sourceNames = sourceNames.filter(name => name !== \"keyword\")\n  }\n  const geneListString = geneList.join()\n\n  try {\n    // Call 1: Send query and get JobID w/ gene props from MyGene\n    const [geneRes, searchRes] = yield all([\n      call(myGeneApi.searchGenes, geneListString),\n      call(cySearchApi.postQuery, geneList, sourceNames)\n    ])\n\n    const geneJson = yield call([geneRes, \"json\"])\n    const resultLocation = searchRes.headers.get(\"Location\")\n    const parts = resultLocation.split(\"/\")\n    const jobId = parts[parts.length - 1]\n    const filtered = filterGenes(geneJson)\n\n    yield put({\n      type: SEARCH_SUCCEEDED,\n      payload: {\n        genes: filtered.uniqueGeneMap,\n        notFound: filtered.notFound,\n        resultLocation,\n        jobId\n      }\n    })\n  } catch (e) {\n    console.warn(\"NDEx search error:\", e)\n    yield put({\n      type: SEARCH_FAILED,\n      payload: {\n        message: \"NDEx network search error\",\n        query: geneListString,\n        error: e.message\n      }\n    })\n  }\n}\n\n// Simple sleep function using Promise\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms))\n\nfunction* watchSearchResult(action) {\n  const jobId = action.payload.jobId\n\n  const resultList = []\n  const finishedSourceNames = new Set()\n\n  try {\n    while (true) {\n      // Check overall status\n      const statusRes = yield call(cySearchApi.checkStatus, jobId)\n      const statusJson = yield call([statusRes, \"json\"])\n\n      const status = statusJson.sources\n      let idx = status.length\n\n      while (idx--) {\n        const src = status[idx]\n        const { progress, sourceName } = src\n        if (progress === 100) {\n          const resultRes = yield call(cySearchApi.getResult, jobId, sourceName)\n          const json = yield call([resultRes, \"json\"])\n\n          if(finishedSourceNames.has(sourceName) === false) {\n            // Need to add this new result.\n            resultList.push(json.sources[0])\n            finishedSourceNames.add(sourceName)\n          }\n          json.sources = resultList\n\n          yield put({\n            type: SET_SEARCH_RESULT,\n            payload: {\n              singleResult: json\n            }\n          })\n          // console.log(idx + ': Individual check finished:', src, json)\n        }\n      }\n\n      idx = status.length\n      let finishCount = 0\n      while (idx--) {\n        if (status[idx].progress === 100) {\n          finishCount++\n        }\n      }\n      if (finishCount === status.length) {\n        console.log(\"!! Search & fetch finished:\", finishCount, resultList)\n        break\n      }\n\n      // Wait 1 sec. and try API call again.\n      yield call(sleep, API_CALL_INTERVAL)\n    }\n\n    yield put({\n      type: FETCH_RESULT_SUCCEEDED,\n      payload: {}\n    })\n  } catch (e) {\n    console.warn(\"NDEx search error:\", e)\n    yield put({\n      type: FETCH_RESULT_FAILED,\n      payload: {\n        message: \"Failed to fetch search result\",\n        jobId,\n        error: e.message\n      }\n    })\n  }\n}\n\nfunction* fetchNetwork(action) {\n  try {\n    const params = action.payload\n    const id = params.id\n    const sourceUUID = params.sourceUUID\n    const networkUUID = params.networkUUID\n\n    const cx = yield call(api.fetchNetwork, id, sourceUUID, networkUUID)\n    const json = yield call([cx, \"json\"])\n\n    yield put({ type: NETWORK_FETCH_SUCCEEDED, cx: json })\n  } catch (error) {\n    yield put({ type: NETWORK_FETCH_FAILED, error })\n  }\n}\n\nfunction* fetchSource(action) {\n  try {\n    const sources = yield call(cySearchApi.getSource, null)\n    const json = yield call([sources, \"json\"])\n    const orderedSources = json.results\n    yield put({ type: FIND_SOURCE_SUCCEEDED, sources: orderedSources })\n  } catch (error) {\n    yield put({ type: FIND_SOURCE_FAILED, error })\n  }\n}\n\nconst filterGenes = resultList => {\n  const uniqueGeneMap = new Map()\n  const notFound = []\n\n  let len = resultList.length\n  while (len--) {\n    const entry = resultList[len]\n    if (entry.notfound) {\n      notFound.push(entry.query)\n    } else {\n      uniqueGeneMap.set(entry.query, entry)\n    }\n  }\n\n  return {\n    uniqueGeneMap,\n    notFound\n  }\n}\n","import { call, put, takeLatest, select } from \"redux-saga/effects\"\nimport * as cyrest from \"../api/cyrest\"\n\nimport {\n  IMPORT_NETWORK_STARTED,\n  IMPORT_NETWORK_FAILED,\n  IMPORT_NETWORK_SUCCEEDED,\n} from \"../actions/cyrest\"\n\nexport default function* cyrestSaga() {\n  yield takeLatest(IMPORT_NETWORK_STARTED, watchImportNetwork)\n}\n\nexport const getCyRESTPort = state => state.cyrest.port\n\n/**\n * Calling CyREST network import\n *\n * @param action\n * @returns {IterableIterator<*>}\n */\nfunction* watchImportNetwork(action) {\n  const originalCX = action.payload.cx\n  try {\n    const cyrestport = yield select(getCyRESTPort)\n\n    let addNumberVerification = true\n\n    originalCX.forEach(aspect => {\n      if (aspect[\"numberVerification\"]) {\n        addNumberVerification = false\n      }\n    })\n    // Add number verification to fool old versions of CyNDEx-2\n    // remove this step if numberVerification is added elsewhere\n    // or ignored in later versions of CyNDEx-2\n    const patchedCX = (addNumberVerification\n      ? [{ numberVerification: [{ longNumber: 281474976710655 }] }]\n      : []\n    ).concat(originalCX)\n\n    //console.log('CX', patchedCX)\n\n    const response = yield call(cyrest.importNetwork, cyrestport, patchedCX)\n    const responseJson = yield call([response, \"json\"])\n\n    console.log(\"CyREST response:\", response)\n\n    yield put({\n      type: IMPORT_NETWORK_SUCCEEDED,\n      payload: responseJson\n    })\n  } catch (e) {\n    console.warn(\"CyREST import network error:\", e)\n    yield put({\n      type: IMPORT_NETWORK_FAILED,\n      payload: {\n        message: \"CyREST import network error\",\n        error: e.message\n      }\n    })\n  }\n}\n","import { METHOD_GET, METHOD_POST } from \"./apiConstants\"\n\nconst NDEX_USER_VALIDATION = \"http://ndexbio.org/v2/user?valid=true\"\nconst NDEX_SAVE = \"http://ndexbio.org/v2/network\"\n\nconst ndexValidation = headers => {\n  //console.log('Calling NDEx validation with headers: ', headers)\n\n  return fetch(NDEX_USER_VALIDATION, {\n    method: METHOD_GET,\n    headers: headers\n  })\n}\n\nconst saveToNDEx = (cx, headers) => {\n  //console.log('Calling Save-to-NDEx')\n\n  return fetch(NDEX_SAVE, {\n    method: METHOD_POST,\n    headers: headers,\n    body: JSON.stringify(cx)\n  })\n}\n\nexport { ndexValidation, saveToNDEx }\n","import { call, put, takeLatest, select } from \"redux-saga/effects\"\nimport * as ndexSave from \"../api/ndexSave\"\n\nimport {\n  SET_NDEX_MODAL_OPEN,\n  SET_PROFILE,\n  CREDENTIALS_SIGN_ON,\n  GOOGLE_SIGN_ON,\n  SAVE_TO_NDEX,\n  SET_ERROR_MESSAGE,\n  SET_NETWORK_URL\n} from \"../actions/ndexSave\"\n\nexport default function* ndexSaveSaga() {\n  yield takeLatest(GOOGLE_SIGN_ON, watchGoogleSignOn)\n  yield takeLatest(CREDENTIALS_SIGN_ON, watchCredentialsSignOn)\n  yield takeLatest(SAVE_TO_NDEX, watchSaveToNDEx)\n}\n\n/**\n * Calling GoogleSignOn\n *\n * @param action\n * @returns {IterableIterator<*>}\n */\nfunction* watchGoogleSignOn(action) {\n  const resp = action.payload\n  const token = resp.tokenObj.token_type + \" \" + resp.tokenObj.id_token\n  const profile = {\n    name: resp.profileObj.name,\n    image: resp.profileObj.imageUrl,\n    authorization: {\n      type: \"google\",\n      token\n    }\n  }\n\n  const headers = new Headers({\n    Authorization: profile.authorization.token\n  })\n\n  try {\n    yield call(ndexSave.ndexValidation, headers)\n    yield put({\n      type: SET_PROFILE,\n      payload: profile\n    })\n  } catch (error) {\n    const message =\n      error.response.data.message || \"Failed to verify account. \" + error\n    if (\n      message.startsWith(\"User with email\") &&\n      message.endsWith(\"doesn't exist.\")\n    ) {\n      /*\n      const comp = (\n        <span>\n          {message} Go to{' '}\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"http://ndexbio.org\"\n          >\n            http://ndexbio.org\n          </a>{' '}\n          to create an account\n        </span>\n      )\n      */\n      //this.props.onError(comp, true)\n      return\n    }\n    //this.props.onError(message, true)\n  }\n  /*\n  axios\n    .get(config.NDEX_USER_VALIDATION, {\n      headers: {\n        Authorization: profile.authorization.token\n      }\n    })\n    .then(_ => {\n      this.props.onLoginSuccess(profile)\n    })\n    .catch(error => {\n      const message =\n        error.response.data.message || 'Failed to verify account. ' + error\n      if (\n        message.startsWith('User with email') &&\n        message.endsWith(\"doesn't exist.\")\n      ) {\n        const comp = (\n          <span>\n            {message} Go to{' '}\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href=\"http://ndexbio.org\"\n            >\n              http://ndexbio.org\n            </a>{' '}\n            to create an account\n          </span>\n        )\n        this.props.onError(comp, true)\n        return\n      }\n      this.props.onError(message, true)\n    })*/\n}\n\n/**\n * Calling CredentialsSignOn\n *\n * @param action\n * @returns {IterableIterator<*>}\n */\nfunction* watchCredentialsSignOn(action) {\n  const user = window.basicAuthSignIn.accountName.value\n  const pwd = window.basicAuthSignIn.password.value\n\n  const auth = \"Basic \" + window.btoa(user + \":\" + pwd)\n  const headers = new Headers({\n    Authorization: auth\n  })\n\n  try {\n    const resp = yield call(ndexSave.ndexValidation, headers)\n    //console.log('resp', resp)\n\n    const responseJson = yield call([resp, \"json\"])\n\n    /*\n    console.log('responseJson', responseJson)\n    for (const key of resp.headers.keys()) {\n      console.log('header ', key)\n    }*/\n\n    if (resp.status != 200) {\n      yield put({\n        type: SET_ERROR_MESSAGE,\n        payload: responseJson.message\n      })\n    } else {\n      const profile = {\n        name: responseJson.firstName,\n        image: responseJson.image,\n        authorization: {\n          type: \"ndex\",\n          token: auth\n        }\n      }\n      yield put({\n        type: SET_PROFILE,\n        payload: profile\n      })\n    }\n    //this.props.onLoginSuccess(profile)\n  } catch (err) {\n    console.log(err)\n    yield put({\n      type: SET_ERROR_MESSAGE,\n      payload: \"Unknown error\"\n    })\n    //this.setState({ error: 'Unknown error' })\n  }\n\n  /*\n    axios\n      .get(config.NDEX_USER_VALIDATION, headers)\n      .then(resp => {\n        const profile = {\n          name: resp.data.firstName,\n          image: resp.data.image,\n          authorization: {\n            type: 'ndex',\n            token: resp.config.headers['Authorization']\n          }\n        }\n        this.props.onLoginSuccess(profile)\n      })\n      .catch(err => {\n        console.log(err)\n        if ('response' in err) {\n          this.setState({ error: err.response.data.message })\n        } else {\n          this.setState({ error: 'Unknown error' })\n        }\n      })*/\n}\n\n/**\n * Calling saveToNDEx\n *\n * @param action\n * @returns {IterableIterator<*>}\n */\nfunction* watchSaveToNDEx(action) {\n  const token = action.payload.token\n  const cx = action.payload.cx\n\n  const headers = new Headers({\n    \"Content-Type\": \"application/json\",\n    Authorization: token\n  })\n\n  const resp = yield call(ndexSave.saveToNDEx, cx, headers)\n  console.log(\"resp\", resp)\n  console.log(\"resp.body\" + resp.body)\n\n  const responseText = yield call([resp, \"text\"])\n\n  const networkURL = responseText.replace(\"/v2/\", \"/#/\")\n\n  console.log(\"networkURL\", networkURL)\n\n  yield put({\n    type: SET_NETWORK_URL,\n    payload: networkURL\n  })\n  /*\n  axios\n    .post(config.save_to_ndex, cx, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: token\n      }\n    })\n    .then(resp => {\n      const networkUrl = resp.data.replace('/v2/', '/#/')\n      this.setState({ networkUrl })\n    })\n    .catch(err => {\n      alert('Failed to save network to NDEx: ' + err)\n    })\n    */\n}\n","import React, { useEffect } from \"react\"\nimport { createStore, applyMiddleware, compose } from \"redux\"\nimport { Provider } from \"react-redux\"\nimport \"typeface-roboto\"\nimport { render } from \"react-dom\"\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\"\n\nimport createSagaMiddleware from \"redux-saga\"\nimport { composeWithDevTools } from \"redux-devtools-extension\"\n\nimport \"./index.css\"\nimport { App, Top } from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\n\n// Import root reducers\nimport rootReducer from \"./reducers\"\nimport rootSaga from \"./sagas/ndexSaga\"\nimport cyRestSaga from \"./sagas/cyRestSaga\"\nimport cyRestStatusSaga from \"./sagas/cyRestStatusSaga\"\nimport ndexSaveSaga from \"./sagas/ndexSaveSaga\"\nimport ReactGA from \"react-ga\"\n\nimport { SET_QUERY } from \"./actions/search\"\n\nimport { GA_DEV_ID, GA_STAGING_ID, GA_PRODUCTION } from \"./analytics\"\n\nReactGA.initialize(GA_PRODUCTION, {\n  gaOptions: {\n    siteSpeedSampleRate: 100\n  }\n})\n\nconst EventActions = {\n  SetQuery: SET_QUERY,\n  OpenInCytoscape: \"OPEN_IN_CYTOSCAPE\",\n  NetworkSelected: \"NETWORK_FETCH_STARTED\"\n}\n\nconst gaMiddleware = store => next => action => {\n  handleEvent(action)\n  return next(action)\n}\n\nconst handleEvent = event => {\n  const eventType = event.type\n  if (eventType === SET_QUERY) {\n    ReactGA.event({\n      category: \"User Action\",\n      action: EventActions.SetQuery,\n      label: event.payload\n    })\n  } else if (eventType === \"IMPORT_NETWORK_STARTED\") {\n    ReactGA.event({\n      category: \"User Action\",\n      action: EventActions.OpenInCytoscape,\n      label: event.payload.uuid\n    })\n  } else if (\"NETWORK_FETCH_STARTED\") {\n    if (event.payload === undefined || event.payload == null) {\n      return\n    }\n    ReactGA.event({\n      category: \"User Action\",\n      action: EventActions.NetworkSelected,\n      label: `${event.payload.sourceUUID}/${event.payload.networkUUID}`\n    })\n  }\n}\n\nconst sagaMiddleware = createSagaMiddleware()\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(\n    applyMiddleware(sagaMiddleware),\n    applyMiddleware(gaMiddleware)\n  )\n)\n\nsagaMiddleware.run(rootSaga)\nsagaMiddleware.run(cyRestSaga)\nsagaMiddleware.run(cyRestStatusSaga)\nsagaMiddleware.run(ndexSaveSaga)\n\nconst Root = ({ store }) => (\n  <Provider store={store}>\n    <Router basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route exact path=\"/\" component={Top} />\n        <Route path=\"/:jobid/:sourceId/:networkId\" component={App} />\n        <Route path=\"/:jobid/:sourceId\" component={App} />\n        <Route path=\"/:jobid\" component={App} />\n      </Switch>\n    </Router>\n  </Provider>\n)\n\nrender(<Root store={store} />, document.getElementById(\"root\"))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","// For Google Analygtics\nexport const GA_DEV_ID = \"UA-62588031-6\" // Dev server\nexport const GA_STAGING_ID = \"UA-62588031-7\" // For staging server\nexport const GA_PRODUCTION = \"UA-62588031-8\" // For Production server\n","module.exports = __webpack_public_path__ + \"static/media/ndex-logo.04d7bf44.svg\";","module.exports = __webpack_public_path__ + \"static/media/cytoscape-logo.4aa4c296.svg\";"],"sourceRoot":""}