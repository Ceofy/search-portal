(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,n){e.exports=n.p+"static/media/cytoscape-logo.4aa4c296.svg"},180:function(e,t,n){},194:function(e,t,n){},204:function(e,t,n){e.exports=n.p+"static/media/github.617870e4.svg"},211:function(e,t,n){e.exports=n.p+"static/media/ucsd-logo.5838f23e.svg"},213:function(e){e.exports=[{format_version:"1.0",generated_by:"cytoscape-3.7.1",target_cytoscapejs_version:"~2.1",title:"dark4",style:[{selector:"node",css:{"background-opacity":1,shape:"ellipse",height:70,"text-opacity":1,"font-size":18,"border-opacity":1,color:"rgb(255,255,255)","border-width":0,"text-valign":"center","text-halign":"center","font-family":"SFProText-Medium","font-weight":"normal","background-color":"rgb(0,102,102)",width:110,"border-color":"rgb(255,102,102)",content:"data(name)"}},{selector:"node[type = 'phenotype']",css:{"background-opacity":.39215686274509803,shape:"roundrectangle","background-color":"rgb(255,255,255)",width:220}},{selector:"node[type = 'smallmolecule']",css:{width:20}},{selector:"node[type = 'complex']",css:{width:180}},{selector:"node[type = 'smallmolecule']",css:{shape:"octagon"}},{selector:"node[type = 'proteinfamily']",css:{shape:"rectangle"}},{selector:"node[type = 'smallmolecule']",css:{height:20}},{selector:"node[type = 'complex']",css:{height:180}},{selector:"node[type = 'proteinfamily']",css:{color:"rgb(153,153,153)"}},{selector:"node[type = 'smallmolecule']",css:{"background-color":"rgb(255,255,255)"}},{selector:"node[type = 'complex']",css:{"background-color":"rgb(0,153,204)"}},{selector:"node[type = 'proteinfamily']",css:{"background-color":"rgb(255,255,255)"}},{selector:"node[querynode]",css:{"border-width":20}},{selector:"node[type = 'smallmolecule']",css:{"text-valign":"bottom"}},{selector:"edge",css:{"curve-style":"bezier","line-style":"solid","target-arrow-color":"#FFFFFF","line-color":"#FFFFFF",width:2,opacity:.39215686274509803}},{selector:"edge[directed]",css:{"target-arrow-shape":"triangle"}},{selector:"node:selected",css:{"background-color":"rgb(255,102,102)"}},{selector:"edge:selected",css:{"target-arrow-shape":"triangle","line-color":"rgb(255,0,0)"}}]}]},274:function(e,t,n){e.exports=n(470)},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},342:function(e,t,n){},352:function(e,t,n){},380:function(e,t,n){},382:function(e,t,n){},454:function(e,t,n){},462:function(e,t,n){},470:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"SET_QUERY",function(){return Nn}),n.d(a,"CLEAR_QUERY",function(){return Tn}),n.d(a,"SEARCH_STARTED",function(){return xn}),n.d(a,"SEARCH_SUCCEEDED",function(){return An}),n.d(a,"SEARCH_FAILED",function(){return Ln}),n.d(a,"SET_SEARCH_RESULT",function(){return Fn}),n.d(a,"FETCH_RESULT_STARTED",function(){return _n}),n.d(a,"FETCH_RESULT_SUCCEEDED",function(){return Rn}),n.d(a,"FETCH_RESULT_FAILED",function(){return In}),n.d(a,"CLEAR_ALL",function(){return Dn}),n.d(a,"SET_SELECTED_GENES",function(){return Un}),n.d(a,"setQuery",function(){return Gn}),n.d(a,"clearQuery",function(){return Pn}),n.d(a,"searchStarted",function(){return Hn}),n.d(a,"searchSucceeded",function(){return Bn}),n.d(a,"searchFailed",function(){return qn}),n.d(a,"setSearchResult",function(){return Qn}),n.d(a,"fetchResultStarted",function(){return Wn}),n.d(a,"fetchResultSucceeded",function(){return Kn}),n.d(a,"fetchResultFailed",function(){return Mn}),n.d(a,"clearAll",function(){return zn}),n.d(a,"setSelectedGenes",function(){return Xn});var r={};n.r(r),n.d(r,"SET_SETTINGS_OPEN",function(){return Vn}),n.d(r,"setSettingsOpen",function(){return Yn}),n.d(r,"SET_CYTOSCAPE_STATUS",function(){return Jn}),n.d(r,"setCytoscapeStatus",function(){return $n}),n.d(r,"SET_SERVICES_LIST_OPEN",function(){return Zn}),n.d(r,"setServicesListOpen",function(){return ea}),n.d(r,"SET_HIGHLIGHTS",function(){return ta}),n.d(r,"setHighlights",function(){return na}),n.d(r,"SET_SELECTED_SOURCE",function(){return aa}),n.d(r,"setSelectedSource",function(){return ra});var c={};n.r(c),n.d(c,"NETWORK_FETCH_STARTED",function(){return ca}),n.d(c,"NETWORK_FETCH_SUCCEEDED",function(){return oa}),n.d(c,"NETWORK_FETCH_FAILED",function(){return ia}),n.d(c,"NETWORK_CLEAR",function(){return sa}),n.d(c,"SELECT_NODE",function(){return la}),n.d(c,"SELECT_EDGE",function(){return ua}),n.d(c,"DESELECT_ALL",function(){return da}),n.d(c,"networkFetchStarted",function(){return ma}),n.d(c,"networkFetchSucceeded",function(){return pa}),n.d(c,"networkFetchFailed",function(){return fa}),n.d(c,"networkClear",function(){return ha}),n.d(c,"selectNode",function(){return ga}),n.d(c,"selectEdge",function(){return Ea}),n.d(c,"deselectAll",function(){return ba});var o={};n.r(o),n.d(o,"FIND_SOURCE_STARTED",function(){return ya}),n.d(o,"FIND_SOURCE_SUCCEEDED",function(){return Oa}),n.d(o,"FIND_SOURCE_FAILED",function(){return va}),n.d(o,"findSourceStarted",function(){return ja}),n.d(o,"findSourceSucceeded",function(){return wa}),n.d(o,"findSourceFailed",function(){return Sa});var i={};n.r(i),n.d(i,"IMPORT_NETWORK_STARTED",function(){return Ca}),n.d(i,"IMPORT_NETWORK_SUCCEEDED",function(){return ka}),n.d(i,"IMPORT_NETWORK_FAILED",function(){return Na}),n.d(i,"importNetworkStarted",function(){return Ta}),n.d(i,"importNetworkSucceeded",function(){return xa}),n.d(i,"importNetworkFailed",function(){return Aa}),n.d(i,"SET_PORT",function(){return La}),n.d(i,"setPort",function(){return Fa}),n.d(i,"SET_AVAILABLE",function(){return _a}),n.d(i,"setAvailable",function(){return Ra});var s=n(0),l=n.n(s),u=n(24),d=n(79),m=(n(283),n(29)),p=n(122),f=n(62),h=n(214),g=n(196),E=(n(284),n(285),n(11)),b=(n(286),n(23)),y=n.n(b),O=n(20),v=Object(O.withStyles)(function(e){return Object(E.a)({},e,{button:{padding:"0.3em"}})})(function(e){e.classes;return l.a.createElement("div",{className:"gene-list-header"},l.a.createElement(y.a,{variant:"subtitle1"},"Query Genes"))}),j=(n(342),n(51)),w=n(59),S=n.n(w),C=n(93),k=n.n(C),N=function(e,t){t.searchActions.setSelectedGenes([e])},T=function(e,t,n,a,r){var c="default";return r.has(e.symbol)&&(c="secondary"),t?l.a.createElement(k.a,{className:n.chip,avatar:l.a.createElement(S.a,null,"G"),label:e.symbol,onClick:function(){return N(e.symbol,a)},variant:"outlined",color:c,key:e.symbol}):l.a.createElement(k.a,{avatar:l.a.createElement(S.a,null,"G"),label:"INVALID: "+e,onClick:N,key:e})},x=Object(O.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center"},chip:{margin:e.spacing.unit}}})(function(e){var t=e.classes,n=e.search,a=e.network,r=n.results,c=a.hitGenes,o=new Set(c);if(!r)return l.a.createElement("div",{className:"gene-list-wrapper"});var i=r.genes;if(!i)return l.a.createElement("div",{className:"gene-list-wrapper"});var s=[],u=[],d=!0,m=!1,p=void 0;try{for(var f,h=i.values()[Symbol.iterator]();!(d=(f=h.next()).done);d=!0){var g=f.value;o.has(g.symbol)?s.push(g):u.push(g)}}catch(v){m=!0,p=v}finally{try{d||null==h.return||h.return()}finally{if(m)throw p}}var E=function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0},b=s.sort(E),y=u.sort(E),O=[].concat(Object(j.a)(b),Object(j.a)(y));return l.a.createElement("div",{className:"gene-list-wrapper",onClick:function(e){return function(e){console.log("#### Clear selection",e.target.value)}(e)}},O.map(function(n){return T(n,!0,t,e,o)}))}),A=function(e){return l.a.createElement("div",{className:"input-container"},l.a.createElement("div",{className:"input-wrapper"},l.a.createElement(v,e),l.a.createElement(x,e)))},L=n(60),F=n(37),_=n(114),R=n.n(_),I=n(115),D=n.n(I),U=n(48),G=(n(352),function(e){return l.a.createElement("div",{className:"results-container"},l.a.createElement("div",{className:"message"},l.a.createElement(U.c,{variant:"title"})))}),P=(n(65),n(129)),H=n(197),B=n.n(H),q=(n(180),function(e){return l.a.createElement("div",{className:"warning-container"},l.a.createElement("div",{className:"warning-message-box"},l.a.createElement(U.c,{variant:"h6"},"Network is too big for interactive view"),l.a.createElement(U.c,{variant:"subtitle1"})))}),Q=null,W={name:"preset",padding:6},K={name:"concentric",padding:6,minNodeSpacing:100},M={name:"cose",padding:6,nodeRepulsion:function(e){return 1008e4},nodeOverlap:4e5,idealEdgeLength:function(e){return 10}},z=function(e){var t=e.uiState.highlights;if(Object(s.useEffect)(function(){if(void 0!==Q&&null!==Q)return console.log("@@@@@@@@@@@@@@@@@This should run only once:  CyViewer Mounted:",Q),Q.on("tap",function(t){try{Q.nodes().removeClass("connected"),t.target===Q&&(e.networkActions.deselectAll(),console.log("UNSELECT"))}catch(n){console.warn(n)}}),Q.on("tap","node",function(){try{Q.nodes().removeClass("connected");var t=this.data();e.networkActions.selectNode(t)}catch(n){console.warn(n)}}),Q.on("tap","edge",function(){try{Q.nodes().removeClass("connected");var t=this.data(),n=t.source,a=t.target;Q.$("#"+n+", #"+a).addClass("connected"),e.networkActions.selectEdge(t)}catch(r){console.warn(r)}}),e.uiStateActions.setHighlights(!0),function(){console.log("unmount")}},[]),Object(s.useEffect)(function(){if(void 0!==Q&&null!==Q){var t=e.search.selectedGenes;if(null!==t&&void 0!==t&&0!==t.length){var n=Q.elements('node[name = "'+t[0]+'"]');0!==n.length?Q.animate({zoom:2,center:{eles:n[0]}},{duration:500}):Q.animate({fit:{eles:Q.elements(),padding:10}},{duration:500})}}},[e.search.selectedGenes]),e.network.nodeCount+e.network.edgeCount>5e3)return l.a.createElement(q,null);var n=e.network.network;if(null===n||void 0===n)return null;var a={width:"100%",height:"100%",background:e.network.backgroundColor},r=n.isLayout,c=W;!r&&n.elements.length<500?c=M:r||(c=K),null!==Q&&(Q.resize(),t?(Q.elements().addClass("faded"),Q.filter('node[querynode = "true"]').addClass("highlight")):Q.elements().removeClass("faded").removeClass("highlight"));return l.a.createElement(B.a,{elements:n.elements,layout:c,style:a,stylesheet:n.style,cy:function(e){return Q=e}})},X=(n(380),n(108)),V=n.n(X),Y=function(e){return l.a.createElement("div",{className:"loading-container"},l.a.createElement(y.a,{className:"loading-title",variant:"h5",color:"primary"},e.title),l.a.createElement(y.a,{className:"loading-message",variant:"subtitle1",color:"default"},e.message),l.a.createElement(V.a,{size:100}))},J=function(e){return l.a.createElement("div",{className:"network-view"},e.network.isFetching?l.a.createElement(Y,{title:"Loading Network..."}):l.a.createElement(z,e))},$=n(125),Z=n(33),ee=n.n(Z),te=n(28),ne=n.n(te),ae=n(26),re=n.n(ae),ce=n(7),oe=n(76),ie=n(50),se=n(80),le=n(77),ue=n(81),de=n(91),me=n.n(de),pe=n(36),fe=n.n(pe),he=n(199),ge=n.n(he),Ee=n(25),be=n.n(Ee),ye=n(198),Oe=n.n(ye),ve=n(155),je=n.n(ve),we=n(34),Se=n.n(we),Ce=(n(382),n(38)),ke=n.n(Ce),Ne=n(109),Te=n.n(Ne),xe=n(74),Ae=n.n(xe),Le="https://www.genecards.org/cgi-bin/carddisp.pl?gene=",Fe=function(e){function t(){var e,n;Object(oe.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(se.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleClick=function(e){console.log("OPEN === ",e);var t="pw_"+e,a=n.state[t];void 0===a||null==a?n.setState(function(e){return Object(ce.a)({},t,!0)}):n.setState(function(e){return Object(ce.a)({},t,!a)})},n.getListItem=function(e,t){if(null===e||void 0===e)return null;var a=e.summary;return l.a.createElement(ne.a,{alignItems:"flex-start",key:e._id,onClick:function(t){return n.handleClick(e._id)}},l.a.createElement(me.a,null,l.a.createElement(S.a,{className:t.matched},"G")),l.a.createElement(re.a,{primary:e.symbol,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{component:"span",className:t.inline,color:"textPrimary"},e.name),l.a.createElement(y.a,{variant:"caption"},a))}),l.a.createElement(Te.a,{className:t.linkIcon},l.a.createElement(be.a,{"aria-label":"Link to GeneCards",href:Le+e.symbol,target:"_blank"},l.a.createElement(Se.a,{title:"Open in GeneCards",placement:"bottom"},l.a.createElement(Oe.a,null)))))},n.getListChildren=function(e,t){var a=e.pathway,r=Object.keys(a);return console.log("PW===",a),l.a.createElement(Ae.a,{in:n.state[_e(e._id)],timeout:"auto",unmountOnExit:!0},l.a.createElement(ee.a,{component:"div",disablePadding:!0},r.map(function(e){var n=a[e];return Array.isArray(n)?l.a.createElement(l.a.Fragment,null,n.map(function(n){return l.a.createElement(ne.a,{button:!0,className:t.nested},l.a.createElement(ke.a,null,l.a.createElement(je.a,null)),l.a.createElement(re.a,{inset:!0,primary:e+": "+n.id,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{component:"span",className:t.inline,color:"textPrimary"},n.name))}))})):l.a.createElement(ne.a,{button:!0,className:t.nested},l.a.createElement(ke.a,null,l.a.createElement(je.a,null)),l.a.createElement(re.a,{inset:!0,primary:n.name}))})))},n.getNotFound=function(e,t){return l.a.createElement("div",null,l.a.createElement(fe.a,{variant:"middle"}),l.a.createElement(y.a,{className:t.title,variant:"body1"},"Unmatched: "+e.length),l.a.createElement(ee.a,null,e.map(function(e){return n.getUnmatchedListItem(e,t)})))},n.getUnmatchedListItem=function(e){return l.a.createElement(ne.a,{alignItems:"flex-start",key:e},l.a.createElement(ke.a,null,l.a.createElement(ge.a,null)),l.a.createElement(re.a,{inset:!0,primary:e}))},n}return Object(ue.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.search.results;if(!t)return l.a.createElement("div",{className:"gene-list-wrapper"});var n=t.genes;if(!n)return l.a.createElement("div",{className:"gene-list-wrapper"});var a=this.props.geneSymbol.toLowerCase();return console.log("** LIST = ",a,n),this.getListItem(n.get(a),e)}}]),t}(l.a.Component),_e=function(e){return"pw_"+e},Re=Object(O.withStyles)(function(e){return{inline:{display:"inline"},title:{marginLeft:"0.5em",marginTop:"0.3em"},description:{marginLeft:"1em",marginTop:"0.3em"},matched:{backgroundColor:"teal"},unmatched:{backgroundColor:"red"},linkIcon:{paddingLeft:"1em"},nested:{paddingLeft:4*e.spacing.unit}}})(Fe),Ie=(Object($.a)(function(e){return{container:{width:"100%",height:"100%",padding:"0.2em",backgroundColor:"#FFFFFF",overflow:"auto"},list:{height:"100%",width:"100%"},subtitle:{marginLeft:"1em",marginTop:"0.5em"}}}),function(e){var t=e.node,n=Object.keys(t);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Re,Object.assign({geneSymbol:t.name},e)),n.map(function(e){return l.a.createElement(ne.a,{key:e},l.a.createElement(re.a,{inset:!0,primary:t[e],secondary:e}))}))}),De=function(e){var t=e.edge,n=Object.keys(t);return l.a.createElement(l.a.Fragment,null,n.map(function(e){return l.a.createElement(ne.a,{key:e},l.a.createElement(re.a,{inset:!0,primary:t[e],secondary:e}))}))},Ue=function(e){var t=e.d;if(void 0===t&&(t="string"),t.startsWith("list_of"))return"(list not supported)";var n=e.v;return null===n||void 0===n?"":n.replace(/<(?:.|\n)*?>/gm," ")},Ge=function(e){for(var t=e.originalCX,n=t.length,a=null;n--;){var r=t[n];if(r.networkAttributes){a=r.networkAttributes;break}}if(null!==a)return l.a.createElement(l.a.Fragment,null,a.map(function(e){return l.a.createElement(ne.a,{key:Math.random()},l.a.createElement(re.a,{inset:!0,primary:Ue(e),secondary:e.n}))}))},Pe=Object($.a)(function(e){return{container:{padding:"0.2em",backgroundColor:"#FFFFFF",overflow:"auto"},list:{width:"100%"},subtitle:{marginLeft:"1em",marginTop:"0.5em"}}}),He={width:"100%"},Be=function(e){var t=Pe(),n=e.network;if(null===n)return l.a.createElement("div",{style:He});var a=n.originalCX;if(null===a)return l.a.createElement("div",{style:He});var r=n.selectedNode,c=n.selectedEdge;return r||c?l.a.createElement("div",{className:t.container},l.a.createElement(ee.a,{component:"nav",className:t.list},null!==r?l.a.createElement(Ie,Object.assign({node:r},e)):l.a.createElement(De,{edge:c}))):l.a.createElement("div",{className:t.container},l.a.createElement(ee.a,{component:"nav",className:t.list},l.a.createElement(Ge,{originalCX:a})))},qe=n(41),Qe=n(75),We=n.n(Qe),Ke=n(126),Me=n.n(Ke),ze=Object(O.withStyles)(function(e){return{buttonIcon:{height:"2.5em",paddingLeft:"0.5em"}}})(function(e){var t=e.classes,n=e.cyrest,a=e.handleImportNetwork;return l.a.createElement(We.a,{variant:"contained",color:"default",disabled:!n.available,onClick:a},"Open in",l.a.createElement("img",{alt:"Cytoscape logo",src:Me.a,className:t.buttonIcon}))}),Xe=n(110),Ve=n.n(Xe),Ye=n(111),Je=n.n(Ye),$e=n(112),Ze=n.n($e),et=function(e){var t=e.uiState.highlights;return l.a.createElement(Ve.a,{row:!0},l.a.createElement(Je.a,{control:l.a.createElement(Ze.a,{checked:t,onChange:function(t,n){e.uiStateActions.setHighlights(n)}}),label:"Highlight Query Genes"}))},tt=Object(O.withStyles)(function(e){return{toolbar:{background:"#EFEFEF",height:"4em",padding:"0.5em",display:"flex",alignItems:"center",justifyContent:"center"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(ce.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(ce.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(qe.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(qe.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(ce.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),buttonIcon:{height:"2.5em",paddingLeft:"0.5em"}}})(function(e){var t=e.classes,n=Object(L.a)(e,["classes"]);return l.a.createElement("div",{className:t.toolbar},l.a.createElement(U.b,{title:e.network.networkName},l.a.createElement(y.a,{className:t.title,variant:"subtitle1",color:"inherit",noWrap:!0},e.network.networkName)),l.a.createElement("div",{className:t.grow}),l.a.createElement(et,n),l.a.createElement(ze,n))}),nt=[60,40],at=function(e){var t=Object(s.useState)(null),n=Object(F.a)(t,2),a=n[0],r=n[1];return l.a.createElement("div",{className:"network-view-top"},l.a.createElement(tt,e),l.a.createElement(P.a,{sizes:nt,direction:"vertical",gutterSize:6,className:"nv-container",onDragEnd:function(e){r(e)}},l.a.createElement(J,Object.assign({resized:a},e)),l.a.createElement(Be,e)))},rt=n(92),ct=n.n(rt),ot=n(113),it=n.n(ot),st=n(61),lt=n.n(st),ut=[{value:"rank",label:"Rank"},{value:"name",label:"Name"},{value:"numNodes",label:"Number of Nodes"},{value:"numEdges",label:"Number of Edges"},{value:"overlap",label:"% Overlap"}],dt=(Object(O.withStyles)(function(e){return{toolbar:{background:"#FFFFFF"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(ce.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sortBy:{width:"15em"},search:Object(ce.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(qe.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(qe.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(ce.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})(function(e){var t,n=e.classes,a=l.a.useState({sortBy:"rank"}),r=Object(F.a)(a,2),c=r[0],o=r[1];return l.a.createElement(it.a,{select:!0,label:"Sort by:",value:c.sortBy,onChange:(t="sortBy",function(e){o(Object(E.a)({},c,Object(ce.a)({},t,e.target.value)))}),className:n.sortBy},ut.map(function(e){return l.a.createElement(lt.a,{key:e.value,value:e.value},e.label)}))}),Object(O.withStyles)(function(e){return{inline:{display:"inline"},subtitle:{marginLeft:"1em",marginTop:"0.5em"},networkAvatar:{margin:5,color:"#fff",backgroundColor:"#FAFAFA"},menuItem:{"&:focus":{backgroundColor:"rgba(230,230,230,0.6)"}},menuText:{"&:focus":{}},secondary:{width:"15em",display:"flex",alignItems:"center",padding:"0.2em"},plot:{width:"80%",background:"teal"}}})(function(e){var t=e.classes,n=e.hits,a=e.renderNetworkListItem,r=(e.network,e.search);if(!n)return l.a.createElement("div",{className:"network-list-wrapper"});var c=r.results.genes;return l.a.createElement("div",{className:"network-list-wrapper"},l.a.createElement("div",{className:"network-list"},l.a.createElement(ct.a,null,n.map(function(e){return a(c.size,e,t)}))))})),mt="http://dev.ndexbio.org:8290/",pt=function(e,t){var n="http://127.0.0.1:"+e+"/cyndex2/v1/networks/cx";return console.log("Calling CyREST POST:",n),fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})},ft=function(e){var t=e.search.queryList,n=e.sourceUUID,a=e.search.results.jobId,r=function(e){(function(e){var t="http://127.0.0.1:"+e+"/v1";return console.log("Calling CyREST API:",t),fetch(t,{method:"GET"})})(e.cyrest.port).catch(function(e){throw Error(e)}).then(function(e){return c(e)}).then(function(t){e.cyrestActions.setAvailable(!0)}).catch(function(t){e.cyrestActions.setAvailable(!1)})},c=function(e){return void 0!==e},o=function(t){var n=e.search.results.jobId,a=e.search.searchResults,r=e.uiState.selectedSource;void 0!==a&&null!==a&&(console.log("** network changed:",n,r),e.history.push("/".concat(n,"/").concat(r,"/").concat(t)))};return l.a.createElement(P.a,{sizes:[35,65],gutterSize:7,className:"ndex-base"},l.a.createElement(dt,Object.assign({renderNetworkListItem:function(c,i,s){var u=i.description,d=i.networkUUID,m=i.nodes,p=i.edges,f=i.imageURL,h=i.hitGenes,g=i.rank;return l.a.createElement(U.a,{button:!0,className:s.menuItem,key:d,onClick:function(c){return function(c,i,s,l,u){r(e),e.searchActions.setSelectedGenes([]),e.networkActions.networkFetchStarted({id:a,sourceUUID:n,networkUUID:c,networkName:i,geneList:t,hitGenes:u,nodeCount:s,edgeCount:l}),o(c)}(d,u,m,p,h)}},l.a.createElement(ke.a,null,l.a.createElement("img",{className:"list-icon",src:f})),l.a.createElement(re.a,{primary:"Rank "+g+": "+u,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(Se.a,{title:"Number of nodes and edges",placement:"bottom"},l.a.createElement(y.a,{component:"span",className:s.inline},"N: "+m+", E: "+p)),"  Hit/Query = "+h.length+"/"+c)}))}},e)),l.a.createElement(at,Object.assign({handleImportNetwork:function(){e.uiStateActions.setHighlights(!0),e.cyrestActions.importNetworkStarted({cx:e.network.originalCX,source:e.network.sourceId,uuid:e.network.uuid})}},e)))},ht=function(e){var t=e.results;if(null===t||void 0===t)return l.a.createElement(Y,{title:"Loading results",message:"Please wait..."});var n=t.sourceUUID;return l.a.createElement(ft,Object.assign({hits:t.results,sourceUUID:n},e))},gt=function(e,t){return e[t].name},Et=function(e,t){if(null===t||void 0===t)return null;for(var n=t.sources,a=n.length;a--;){var r=n[a];if(r.sourceName===e)return r}return null},bt=Object(O.withStyles)(function(e){return{tabs:{width:"100%",backgroundColor:"#FFFFFF"}}})(function(e){var t=Object(s.useState)(0),n=Object(F.a)(t,2),a=n[0],r=n[1];Object(s.useEffect)(function(){c(0)},[]);var c=function(t){var n=e.search.results;if(null!==n&&void 0!==n){var r=n.jobId,c=e.search.searchResults;if(void 0!==c&&null!==c){var o=gt(i,a);console.log("** Tab change:",r,o),e.uiStateActions.setSelectedSource(o),e.history.push("/".concat(r,"/").concat(o))}}},o=(e.classes,Object(L.a)(e,["classes"])),i=e.source.sources;if(null===i||void 0===i)return l.a.createElement(G,null);var u=e.search.searchResults,d=gt(i,a),m=Et(d,u);return l.a.createElement("div",{className:"results-container"},l.a.createElement("div",{className:"results-wrapper"},l.a.createElement(R.a,{value:a,onChange:function(t,n){r(n),c(n),e.networkActions.networkClear()}},i.map(function(e){return l.a.createElement(D.a,{key:e.uuid,label:e.name})})),l.a.createElement(ht,Object.assign({results:m},o))))}),yt=(n(454),n(118)),Ot=n.n(yt),vt=n(73),jt=n.n(vt),wt=n(94),St=n.n(wt),Ct=n(203),kt=n.n(Ct),Nt=n(6),Tt=n.n(Nt),xt=n(78),At=n.n(xt),Lt=n(45),Ft=n.n(Lt),_t=n(54),Rt=n.n(_t),It=n(200),Dt=n(117),Ut=n.n(Dt),Gt=n(128),Pt=n.n(Gt),Ht=n(127),Bt=n.n(Ht),qt=n(116),Qt=n.n(qt),Wt=n(201),Kt=n.n(Wt),Mt=function(e){var t=function(t,n){"clickaway"!==n&&e.setOpen(!1)};return l.a.createElement(Qt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:e.open,autoHideDuration:4e3,onClose:t,ContentProps:{"aria-describedby":"message-id"},message:l.a.createElement("span",{id:"message-id"},"Genes are copied to clipboard!"),action:[l.a.createElement(be.a,{color:"inherit",key:"close","aria-label":"Close",onClick:t},l.a.createElement(Kt.a,null))]})},zt=Object(O.withStyles)({root:{display:"flex",alignItems:"center",justifyContent:"center",width:"50vmin",padding:"0.3em",background:"#f1f1f1",marginLeft:"1em"},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}})(function(e){var t=e.classes,n=Object(s.useRef)(null),a=Object(s.useState)(e.search.queryGenes),r=Object(F.a)(a,2),c=r[0],o=r[1],i=Object(s.useState)(!1),u=Object(F.a)(i,2),d=u[0],m=u[1];Object(s.useEffect)(function(){return Object(It.loadCSS)("https://use.fontawesome.com/releases/v5.1.0/css/all.css",document.querySelector("#insertion-point-jss")),function(){}},[]);var p=function(t){var n=c,a=e.source.sources;if(0!==n.length&&null!==a&&0!==a.length){var r=a.map(function(e){return e.name}),o=n.replace(","," "),i=o.split(/ /);e.searchActions.clearAll(),e.history.push("/"),e.searchActions.setQuery(o),e.searchActions.searchStarted({geneList:i,sourceNames:r})}};return l.a.createElement("div",null,l.a.createElement(Mt,{open:d,setOpen:m}),l.a.createElement(Ft.a,{className:t.root,elevation:0},l.a.createElement(Se.a,{title:"Copy",placement:"bottom"},l.a.createElement(be.a,{color:"default",className:t.iconButton,"aria-label":"Copy",onClick:function(){document.getElementById("original-gene-text").select(),document.execCommand("copy"),m(!0)}},l.a.createElement(Ut.a,{className:Tt()(t.icon,"far fa-clipboard")}))),l.a.createElement(fe.a,{className:t.divider}),l.a.createElement(Rt.a,{id:"original-gene-text",className:t.input,placeholder:"Genes entered",value:c,onChange:function(e){var t=e.target.value;o(t)},onKeyDown:function(e){"Enter"===e.key&&p()},ref:n}),l.a.createElement(Se.a,{title:"Clear gene list",placement:"bottom"},l.a.createElement(be.a,{color:"default",className:t.iconButton,"aria-label":"Clear",onClick:function(e){o("")}},l.a.createElement(Bt.a,null))),l.a.createElement(fe.a,{className:t.divider}),l.a.createElement(Se.a,{title:"Start new search",placement:"bottom"},l.a.createElement(be.a,{color:"primary",className:t.iconButton,"aria-label":"Directions",onClick:p},l.a.createElement(Pt.a,null)))))}),Xt=n(202),Vt=n.n(Xt),Yt=function(e){function t(){var e,n;Object(oe.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(se.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).handleMenu=function(){n.props.uiStateActions.setSettingsOpen(!n.props.uiState.isSettingsOpen)},n.handleHomeButton=function(){n.props.searchActions.clearAll(),n.props.history.push("/")},n}return Object(ue.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=Object(L.a)(e,["classes"]),a=this.props.uiState.isSettingsOpen;return l.a.createElement(Ot.a,{position:"fixed",color:"inherit",className:Tt()(t.appBar,Object(ce.a)({},t.appBarShift,a))},l.a.createElement(jt.a,{disableGutters:!a},l.a.createElement(be.a,{className:Tt()(t.menuButton,a&&t.hide),color:"inherit","aria-label":"Menu",onClick:this.handleMenu},l.a.createElement(St.a,null)),l.a.createElement(Se.a,{title:"Search by Pathway Enrichment / Gene Neighborhoods / Keywords","aria-label":"NDEx_tooltip"},l.a.createElement("div",null,l.a.createElement(y.a,{variant:"h6",color:"inherit"},"NDEx Network Search"))),null===this.props.search.results?l.a.createElement("div",null):l.a.createElement(zt,n),l.a.createElement("div",{className:t.grow}),l.a.createElement("div",null,l.a.createElement(be.a,{"aria-haspopup":"true",color:"inherit",onClick:this.handleHomeButton},l.a.createElement(Vt.a,{fontSize:"default"})),l.a.createElement(be.a,{"aria-haspopup":"true",color:"inherit",onClick:function(){return Zt(Jt)}},l.a.createElement(kt.a,{fontSize:"default"})),l.a.createElement(We.a,{color:"inherit","aria-label":"Home",onClick:function(){return Zt($t)}},l.a.createElement("img",{alt:"NDEx logo",src:At.a,className:t.homeButton})))))}}]),t}(l.a.Component),Jt="https://cytoscape.org/",$t="https://www.ndexbio.org/",Zt=function(e){window.open(e,"_blank")},en=Object(O.withStyles)(function(e){return{root:{flexGrow:1},grow:{flexGrow:1},hide:{display:"none"},menuButton:{marginLeft:12,marginRight:10},homeButton:{height:"2em"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},logo:{height:"1em"},headerLogo:{height:"1.4em"}}},{withTheme:!0})(Yt),tn=n(119),nn=n.n(tn),an=n(205),rn=n.n(an),cn=n(206),on=n.n(cn),sn=n(209),ln=n.n(sn),un=n(204),dn=n.n(un),mn=n(156),pn=n.n(mn),fn=n(207),hn=n.n(fn),gn=n(208),En=n.n(gn),bn=(n(462),function(e){function t(){var e,n;Object(oe.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(se.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(r)))).handleServicesItemClick=function(){var e=n.props.uiState.servicesListOpen;n.props.uiStateActions.setServicesListOpen(!e)},n.handleDrawerClose=function(){var e=n.props.uiState.isSettingsOpen;n.props.uiStateActions.setSettingsOpen(!e)},n}return Object(ue.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme,a=this.props.uiState.isSettingsOpen,r=this.props.source.sources,c=this.props.uiState.servicesListOpen;return l.a.createElement(nn.a,{className:t.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:t.drawerPaper}},l.a.createElement("div",{className:"drawerHeader"},l.a.createElement(be.a,{onClick:this.handleDrawerClose},"ltr"===n.direction?l.a.createElement(rn.a,null):l.a.createElement(on.a,null))),l.a.createElement(fe.a,null),l.a.createElement(ee.a,{className:t.root},l.a.createElement(ne.a,{button:!0,onClick:this.handleServicesItemClick},l.a.createElement(ke.a,null,l.a.createElement(pn.a,null)),l.a.createElement(re.a,{inset:!0,primary:"Services"}),c?l.a.createElement(hn.a,null):l.a.createElement(En.a,null)),l.a.createElement(Ae.a,{in:c,timeout:"auto",unmountOnExit:!0},l.a.createElement(ee.a,{component:"div"},r.map(function(e){return l.a.createElement(Se.a,{title:"Version: "+e.version,placement:"right",key:e.uuid},l.a.createElement(ne.a,{button:!0,key:e.uuid,className:t.nested},l.a.createElement(ke.a,null,l.a.createElement(pn.a,null)),l.a.createElement(re.a,{primary:e.name,secondary:" Status: "+e.status})))})))),l.a.createElement(fe.a,null),l.a.createElement(ee.a,null,["Settings"].map(function(e,t){return l.a.createElement(ne.a,{button:!0,key:e},l.a.createElement(ke.a,null,l.a.createElement(ln.a,null)),l.a.createElement(re.a,{primary:e}))})),l.a.createElement(fe.a,null),l.a.createElement(ee.a,null,yn.map(function(e){return l.a.createElement(ne.a,{button:!0,key:e.name,onClick:function(){return On(e.url)}},l.a.createElement(ke.a,null,l.a.createElement("img",{src:e.src,height:"24px",width:"24px"})),l.a.createElement(re.a,{primary:e.name}))})))}}]),t}(l.a.Component)),yn=[{name:"Source Code",url:"https://github.com/idekerlab/search-portal",src:dn.a}],On=function(e){window.open(e,"_blank")},vn=Object(O.withStyles)(function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240},nested:{paddingLeft:4*e.spacing.unit}}},{withTheme:!0})(bn),jn=n(120),wn=n.n(jn),Sn=Object(O.withStyles)(function(e){return{root:{display:"flex",height:"100vmin"},drawerHeader:Object(E.a)({display:"flex",padding:"0 8px",alignItems:"center"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},{withTheme:!0})(function(e){Object(s.useEffect)(function(){var t=new URLSearchParams(e.history.location.search).get("cyrestport");return t&&e.cyrestActions.setPort(t),function(){}},[]);var t=e.classes,n=Object(L.a)(e,["classes"]),a=e.uiState.isSettingsOpen;return l.a.createElement("div",{className:t.root},l.a.createElement(wn.a,null),l.a.createElement(en,n),l.a.createElement(vn,n),l.a.createElement("div",{className:Tt()(t.content,Object(ce.a)({},t.contentShift,a))}),e.children)}),Cn=function(e){Object(s.useEffect)(function(){if(null!==e.search.results){var n=e.search.results.jobId;e.searchActions.fetchResultStarted({jobId:n})}return window.onpopstate=t,function(){}},[]);var t=function(t){t.preventDefault(),e.searchActions.clearAll(),e.history.push("/")},n=e.search,a=n.isFetching,r=n.searchResult;return a&&null===r?l.a.createElement(Sn,e,l.a.createElement(Y,{title:"Loading Results..."})):l.a.createElement(Sn,e,l.a.createElement("div",{className:"container"},l.a.createElement(A,Object.assign({className:"input"},e)),l.a.createElement(bt,Object.assign({className:"results"},e))))},kn=n(473),Nn="SET_QUERY",Tn="CLEAR_QUERY",xn="SEARCH_STARTED",An="SEARCH_SUCCEEDED",Ln="SEARCH_FAILED",Fn="SET_SEARCH_RESULT",_n="FETCH_RESULT_STARTED",Rn="FETCH_RESULT_SUCCEEDED",In="FETCH_RESULT_FAILED",Dn="CLEAR_ALL",Un="SET_SELECTED_GENES",Gn=Object(kn.a)(Nn),Pn=Object(kn.a)(Tn),Hn=Object(kn.a)(xn),Bn=Object(kn.a)(An),qn=Object(kn.a)(Ln),Qn=Object(kn.a)(Fn),Wn=Object(kn.a)(_n),Kn=Object(kn.a)(Rn),Mn=Object(kn.a)(In),zn=Object(kn.a)(Dn),Xn=Object(kn.a)(Un),Vn="SET_SETTINGS_OPEN",Yn=Object(kn.a)(Vn),Jn="SET_CYTOSCAPE_STATUS",$n=Object(kn.a)(Jn),Zn="SET_SERVICES_LIST_OPEN",ea=Object(kn.a)(Zn),ta="SET_HIGHLIGHTS",na=Object(kn.a)(ta),aa="SET_SELECTED_SOURCE",ra=Object(kn.a)(aa),ca="NETWORK_FETCH_STARTED",oa="NETWORK_FETCH_SUCCEEDED",ia="NETWORK_FETCH_FAILED",sa="NETWORK_CLEAR",la="SELECT_NODE",ua="SELECT_EDGE",da="DESELECT_ALL",ma=Object(kn.a)(ca),pa=Object(kn.a)(oa),fa=Object(kn.a)(ia),ha=Object(kn.a)(sa),ga=Object(kn.a)(la),Ea=Object(kn.a)(ua),ba=Object(kn.a)(da),ya="FIND_SOURCE_STARTED",Oa="FIND_SOURCE_SUCCEEDED",va="FIND_SOURCE_FAILED",ja=Object(kn.a)(ya),wa=Object(kn.a)(Oa),Sa=Object(kn.a)(va),Ca="IMPORT_NETWORK_STARTED",ka="IMPORT_NETWORK_SUCCEEDED",Na="IMPORT_NETWORK_FAILED",Ta=Object(kn.a)(Ca),xa=Object(kn.a)(ka),Aa=Object(kn.a)(Na),La="SET_PORT",Fa=Object(kn.a)(La),_a="SET_AVAILABLE",Ra=Object(kn.a)(_a),Ia=n(40);var Da=Object(f.f)(Object(d.b)(function(e){return{search:e.search,uiState:e.uiState,network:e.network,source:e.source,cyrest:e.cyrest}},function(e){return{searchActions:Object(u.bindActionCreators)(a,e),uiStateActions:Object(u.bindActionCreators)(r,e),networkActions:Object(u.bindActionCreators)(c,e),sourceActions:Object(u.bindActionCreators)(o,e),cyrestActions:Object(u.bindActionCreators)(i,e)}})(function(e){return Object(s.useEffect)(function(){e.history.listen(function(e){var t=e.pathname;console.log("(((((((((((((MainPathname =  ====",t),Ia.a.set({page:t}),Ia.a.pageview(t)})},[]),l.a.createElement(Cn,e)})),Ua=(n(194),n(121)),Ga=n.n(Ua),Pa=["kras egfr cdk4 tp53","per1 per2 clock","mtor wnt1 igf1"],Ha=Object(O.withStyles)({root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}})(function(e){var t=e.classes,n=Object(s.useState)({anchorEl:null,query:""}),a=Object(F.a)(n,2),r=a[0],c=a[1];Object(s.useEffect)(function(){if(void 0!==e.search&&null!==e.search.results){var t=e.search.results.jobId,n=e;console.log("** Search route:",t,n),e.history.push("/".concat(t))}return function(){console.log("Page unmounted")}},[]);var o,i=Boolean(r.anchorEl),u=function(t){c(Object(E.a)({},e,{query:Pa[t],anchorEl:null}))},d=function(t){var n=r.query,a=e.source.sources;if(0!==n.length&&null!==a&&0!==a.length){var c=a.map(function(e){return e.name}),o=m(n),i=o.split(/ /);e.searchActions.setQuery(o),e.searchActions.searchStarted({geneList:i,sourceNames:c})}},m=function(e){return e.replace(","," ")};return l.a.createElement(Ft.a,{className:"search-text-box",elevation:1},l.a.createElement("div",null,l.a.createElement(be.a,{className:t.iconButton,"aria-label":"Menu",onClick:function(e){c(Object(E.a)({},r,{anchorEl:e.currentTarget}))}},l.a.createElement(St.a,null)),l.a.createElement(Ga.a,{anchorEl:r.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:function(){c(Object(E.a)({},r,{anchorEl:null}))}},l.a.createElement(lt.a,{onClick:function(){return u(0)}},"Gene List 1"),l.a.createElement(lt.a,{onClick:function(){return u(1)}},"Gene List 2"),l.a.createElement(lt.a,{onClick:function(){return u(2)}},"Gene List 3"))),l.a.createElement(Rt.a,{className:t.input,placeholder:"Enter gene list (...or click menu for examples)",onChange:(o="query",function(t){c(Object(E.a)({},e,Object(ce.a)({},o,t.target.value)))}),onKeyDown:function(e){"Enter"===e.key&&d()},value:r.query}),l.a.createElement(be.a,{color:"default",className:t.iconButton,"aria-label":"Directions",onClick:function(){c(Object(E.a)({},r,{query:""}))}},l.a.createElement(Bt.a,null)),l.a.createElement(fe.a,{className:t.divider}),l.a.createElement(be.a,{color:"primary",className:t.iconButton,"aria-label":"Search",onClick:d},l.a.createElement(Pt.a,null)))}),Ba=n(211),qa=n.n(Ba),Qa="https://cytoscape.org/",Wa="https://www.ndexbio.org/",Ka="https://medschool.ucsd.edu/som/medicine/research/labs/ideker/Pages/default.aspx",Ma=function(e){window.open(e,"_blank")},za=function(e){return l.a.createElement("footer",{className:"footer-container"},l.a.createElement(y.a,{variant:"subtitle1"},"\xa9 2019 UC, San Diego Ideker Lab"),l.a.createElement("img",{alt:"NDEx logo",src:At.a,className:"footer-logo",onClick:function(){return Ma(Wa)}}),l.a.createElement("img",{alt:"Cytoscape logo",src:Me.a,className:"footer-logo",onClick:function(){return Ma(Qa)}}),l.a.createElement("img",{alt:"UCSD logo",src:qa.a,className:"footer-logo",onClick:function(){return Ma(Ka)}}))},Xa=n(212),Va=n.n(Xa),Ya=function(e){return Object(s.useEffect)(function(){var t=Va.a.parse(e.location.search).genes;if(void 0!==t){var n=t.split(",");e.searchActions.setQuery(t),console.log("Got genes.  Start search now!",n),e.searchActions.searchStarted({geneList:n})}return e.sourceActions.findSourceStarted(),function(){console.log("Page unmounted")}},[]),e.search.isSearching?l.a.createElement(Y,{title:"Searching Remote Database",message:"Please wait..."}):l.a.createElement("div",{className:"start-container"},l.a.createElement("div",{className:"start-title"},l.a.createElement("img",{className:"start-logo-main",src:At.a,alt:"logo"})),l.a.createElement(Ha,e),l.a.createElement(za,null))},Ja=function(e){return l.a.createElement(Sn,e,l.a.createElement(Ya,e))};var $a=Object(f.f)(Object(d.b)(function(e){return{search:e.search,uiState:e.uiState,network:e.network,source:e.source,cyrest:e.cyrest}},function(e){return{searchActions:Object(u.bindActionCreators)(a,e),uiStateActions:Object(u.bindActionCreators)(r,e),networkActions:Object(u.bindActionCreators)(c,e),sourceActions:Object(u.bindActionCreators)(o,e),cyrestActions:Object(u.bindActionCreators)(i,e)}})(function(e){return Object(s.useEffect)(function(){var t=e.location.pathname;Ia.a.set({page:t}),Ia.a.pageview(t),e.history.listen(function(e){var t=e.pathname;Ia.a.set({page:t}),Ia.a.pageview(t)})},[]),l.a.createElement(Ja,e)})),Za=function(e){return l.a.createElement($a,e)},er=function(e){return l.a.createElement(Da,e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tr,nr,ar,rr=n(472),cr={isSearching:!1,searchFinished:[],isFetching:!1,queryGenes:"",queryList:[],results:null,searchStatus:null,searchResults:null,selectedGenes:[],resultList:[]},or=Object(rr.a)((tr={},Object(ce.a)(tr,Gn,function(e,t){return Object(E.a)({},e,{queryGenes:t.payload})}),Object(ce.a)(tr,Pn,function(e,t){return Object(E.a)({},e,{queryGenes:"",queryList:[]})}),Object(ce.a)(tr,zn,function(e,t){return cr}),Object(ce.a)(tr,Hn,function(e,t){console.log("------------ Start  1 ------------------::");var n=t.payload.sourceNames,a=(n.length,{});return n.forEach(function(e){a[e]=!1}),Object(E.a)({},e,{isSearching:!0,searchFinished:a,resultList:[],queryList:e.queryGenes.split(" ")})}),Object(ce.a)(tr,Bn,function(e,t){return Object(E.a)({},e,{results:t.payload,isSearching:!1})}),Object(ce.a)(tr,qn,function(e,t){return Object(E.a)({},e,{isSearching:!1})}),Object(ce.a)(tr,Xn,function(e,t){return console.log("Setting selected gene:",t),Object(E.a)({},e,{selectedGenes:t.payload})}),Object(ce.a)(tr,Wn,function(e,t){return Object(E.a)({},e,{isFetching:!0,searchStatus:null,searchResults:null})}),Object(ce.a)(tr,Kn,function(e,t){return Object(E.a)({},e,{isFetching:!1})}),Object(ce.a)(tr,Mn,function(e,t){return Object(E.a)({},e,{isFetching:!1})}),Object(ce.a)(tr,Qn,function(e,t){var n=t.payload.singleResult,a=[].concat(Object(j.a)(e.resultList),[n]);return console.log("------------ Setting single ------------------::",a),Object(E.a)({},e,{searchResults:n})}),tr),cr),ir=Object(rr.a)((nr={},Object(ce.a)(nr,Yn,function(e,t){return console.log("OPEN = ",t.payload),Object(E.a)({},e,{isSettingsOpen:t.payload})}),Object(ce.a)(nr,ea,function(e,t){return Object(E.a)({},e,{servicesListOpen:t.payload})}),Object(ce.a)(nr,na,function(e,t){return Object(E.a)({},e,{highlights:t.payload})}),Object(ce.a)(nr,ra,function(e,t){return Object(E.a)({},e,{selectedSource:t.payload})}),nr),{isSettingsOpen:!1,servicesListOpen:!1,highlights:!0,selectedSource:""}),sr=n(159),lr=n(213),ur=new sr.CyNetworkUtils,dr=new sr.CxToJs(ur);lr[0].style.push({selector:"node:selected",css:{"background-color":"red",color:"#FFFFFF","background-opacity":1,"border-width":0,width:100,height:100}});var mr,pr,fr={selector:"node.faded",css:{opacity:.9}},hr={selector:"edge.faded",css:{opacity:.9}},gr={selector:".highlight",css:{opacity:1,"overlay-color":"#C51162","overlay-padding":12,"overlay-opacity":.5}},Er={selector:"node:active",css:{"overlay-color":"#FFFF66","overlay-padding":25,"overlay-opacity":.3}},br=Object(rr.a)((ar={},Object(ce.a)(ar,ma,function(e,t){return console.log("Query start: genes = ",t),Object(E.a)({},e,{isFetching:!0,nodeCount:t.payload.nodeCount,edgeCount:t.payload.edgeCount,jobId:t.payload.id,sourceId:t.payload.sourceUUID,uuid:t.payload.networkUUID,networkName:t.payload.networkName,queryGenes:t.payload.geneList,hitGenes:t.payload.hitGenes,originalCX:null,network:null,isLayoutComplete:!1,backgroundColor:"blue"})}),Object(ce.a)(ar,pa,function(e,t){var n=t.cx,a={},r={};if(e.nodeCount+e.edgeCount<=5e3){try{a=yr(n,e.queryGenes)}catch(c){throw console.warn("Could not convert given CX to CYJS:",c),new Error("Could not convert given CX to CYJS:",c)}r=Or(n)}return Object(E.a)({},e,{originalCX:n,network:a,backgroundColor:r,isFetching:!1})}),Object(ce.a)(ar,fa,function(e,t){return Object(E.a)({},e,{network:null,originalCX:null,isFetching:!1,nodeCount:void 0,edgeCount:void 0})}),Object(ce.a)(ar,ha,function(e,t){return Object(E.a)({},e,{uuid:"",originalCX:null,network:null,backgroundColor:null,isFetching:!1,nodeCount:void 0,edgeCount:void 0})}),Object(ce.a)(ar,ga,function(e,t){return Object(E.a)({},e,{selectedNode:t.payload,selectedEdge:null})}),Object(ce.a)(ar,Ea,function(e,t){return Object(E.a)({},e,{selectedNode:null,selectedEdge:t.payload})}),Object(ce.a)(ar,ba,function(e,t){return Object(E.a)({},e,{selectedNode:null,selectedEdge:null})}),ar),{isFetching:!1,uuid:"",jobId:"",sourceId:"",networkName:"",queryGenes:[],hitGenes:[],originalCX:null,network:null,nodeCount:0,edgeCount:0,isLayoutComplete:!1,selectedNode:null,selectedEdge:null}),yr=function(e,t){var n=ur.rawCXtoNiceCX(e),a={},r=dr.cyElementsFromNiceCX(n,a),c=dr.cyStyleFromNiceCX(n,a),o=wr(c),i=vr(r.nodes,t);return{elements:[].concat(Object(j.a)(i),Object(j.a)(r.edges)),style:o,isLayout:jr(r.nodes)}},Or=function(e){var t=e.filter(function(e){return e.cyVisualProperties});return void 0!==t&&null!==t&&0!==t.length?t[0].cyVisualProperties.filter(function(e){return"network"===e.properties_of})[0].properties.NETWORK_BACKGROUND_PAINT:"pink"},vr=function(e,t){for(var n=e.length,a=new Set(t.map(function(e){return e.toUpperCase()}));n--;){var r=e[n],c=(r.position,r.data.name?r.data.name.toUpperCase():null);a.has(c)&&(r.data.query="true")}return e},jr=function(e){return void 0!==e[0].position},wr=function(e){return e.push(fr),e.push(hr),e.push(gr),e.push(Er),e},Sr=br,Cr=Object(rr.a)((mr={},Object(ce.a)(mr,ja,function(e,t){return Object(E.a)({},e,{isFetchingSource:!0,error:null,sources:[]})}),Object(ce.a)(mr,wa,function(e,t){return Object(E.a)({},e,{sources:t.sources,isFetchingSource:!1,error:null})}),Object(ce.a)(mr,Sa,function(e,t){return console.warn("Error:",t.error),Object(E.a)({},e,{isFetchingSource:!1,error:t.error,sources:[]})}),mr),{isFetchingSource:!1,sources:[],error:null}),kr=Object(rr.a)((pr={},Object(ce.a)(pr,Ta,function(e,t){return Object(E.a)({},e,{error:null})}),Object(ce.a)(pr,xa,function(e,t){return Object(E.a)({},e,{error:null})}),Object(ce.a)(pr,Aa,function(e,t){return console.warn("Error===",t.error),Object(E.a)({},e,{error:t.error})}),Object(ce.a)(pr,Fa,function(e,t){return console.log("CyREST port = ",t.payload),Object(E.a)({},e,{port:t.payload})}),Object(ce.a)(pr,Ra,function(e,t){return console.log("CyREST available = ",t.payload),Object(E.a)({},e,{available:t.payload})}),pr),{available:!1,port:1234,error:null}),Nr=Object(u.combineReducers)({source:Cr,search:or,uiState:ir,network:Sr,cyrest:kr}),Tr=n(31),xr=n.n(Tr),Ar=n(13),Lr=function(e,t,n){var a=mt+e+"/overlaynetwork?sourceUUID="+t+"&networkUUID="+n;return console.log("Calling CX API:",a),fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}})},Fr=function(e){return fetch("http://mygene.info/v3/query?q="+e+"&scopes=symbol&fields=symbol,name,taxid,entrezgene,summary,genomic_pos,go,pathway",{method:"POST"})},_r=function(){return fetch("http://dev.ndexbio.org:8290/source",{method:"GET",mode:"cors"}).then(function(e){if(!e.ok)throw Error("Failed to fetch source list:"+e.status);return e}).catch(function(e){return{error:e}})},Rr=function(e){return fetch(mt+e+"/status",{method:"GET"}).then(function(e){if(!e.ok)throw Error("Failed to fetch source list:"+e.status);return e}).catch(function(e){return{error:e}})},Ir=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new URL(mt+e);return null!==t&&n.searchParams.append("source",t),console.log("QQQQQQQQQQQQQQ URL = ",n,t),fetch(n,{method:"GET"}).then(function(e){if(!e.ok)throw Error("Failed to fetch search result:"+e.status);return e}).catch(function(e){return{error:e}})},Dr=function(e,t){var n={geneList:e,sourceList:t};console.log("Sending query to search service:",n);var a=new Headers({"Content-Type":"application/json"});return fetch("http://dev.ndexbio.org:8290/",{method:"POST",headers:a,body:JSON.stringify(n)}).then(function(e){if(!e.ok)throw Error("Failed to send query:"+e.status);return e}).catch(function(e){return{error:e}})},Ur=xr.a.mark(Wr),Gr=xr.a.mark(Kr),Pr=xr.a.mark(zr),Hr=xr.a.mark(Xr),Br=xr.a.mark(Vr),qr=1e3,Qr=["enrichment","interactome"];function Wr(){return xr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ar.e)(xn,Kr);case 2:return e.next=4,Object(Ar.e)(_n,zr);case 4:return e.next=6,Object(Ar.e)(ca,Xr);case 6:return e.next=8,Object(Ar.e)(ya,Vr);case 8:case"end":return e.stop()}},Ur)}function Kr(e){var t,n,a,r,c,o,i,s,l,u,d,m,p,f,h;return xr.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(t=e.payload.geneList,void 0!==(n=e.payload.sourceNames)){g.next=13;break}return g.next=5,Object(Ar.b)(_r,null);case 5:return a=g.sent,g.next=8,Object(Ar.b)([a,"json"]);case 8:r=g.sent,c=r.results,n=(n=c.map(function(e){return e.name})).filter(function(e){return"keyword"!==e}),console.log("Getting source list: ",n);case 13:return o=t.join(),g.prev=14,g.next=17,Object(Ar.a)([Object(Ar.b)(Fr,o),Object(Ar.b)(Dr,t,n)]);case 17:return i=g.sent,s=Object(F.a)(i,2),l=s[0],u=s[1],g.next=23,Object(Ar.b)([l,"json"]);case 23:return d=g.sent,m=u.headers.get("Location"),p=m.split("/"),f=p[p.length-1],h=Yr(d),g.next=30,Object(Ar.c)({type:An,payload:{genes:h.uniqueGeneMap,notFound:h.notFound,resultLocation:m,jobId:f}});case 30:g.next=37;break;case 32:return g.prev=32,g.t0=g.catch(14),console.warn("NDEx search error:",g.t0),g.next=37,Object(Ar.c)({type:Ln,payload:{message:"NDEx network search error",query:o,error:g.t0.message}});case 37:case"end":return g.stop()}},Gr,null,[[14,32]])}var Mr=function(e){return new Promise(function(t){return setTimeout(t,e)})};function zr(e){var t,n,a,r,c,o,i,s,l,u,d,m,p,f,h;return xr.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:t=e.payload.jobId,n={},g.prev=2;case 3:return g.next=6,Object(Ar.b)(Rr,t);case 6:return a=g.sent,g.next=9,Object(Ar.b)([a,"json"]);case 9:if(r=g.sent,100!==r.progress){g.next=23;break}return g.next=14,Object(Ar.b)(Ir,t);case 14:return c=g.sent,g.next=17,Object(Ar.b)([c,"json"]);case 17:return o=g.sent,g.next=20,Object(Ar.c)({type:Fn,payload:{singleResult:o}});case 20:return g.next=22,Object(Ar.c)({type:Rn,payload:{searchResults:o}});case 22:return g.abrupt("return");case 23:i=r.sources,s=i.length;case 25:if(!s--){g.next=40;break}if(l=i[s],u=l.progress,d=l.sourceName,100!==u){g.next=38;break}return g.next=31,Object(Ar.b)(Ir,t,d);case 31:return m=g.sent,g.next=34,Object(Ar.b)([m,"json"]);case 34:return p=g.sent,n[d]=p,g.next=38,Object(Ar.c)({type:Fn,payload:{singleResult:p}});case 38:g.next=25;break;case 40:return g.next=42,Object(Ar.b)(Mr,qr);case 42:g.next=3;break;case 44:return g.next=46,Object(Ar.b)(Ir,t);case 46:return f=g.sent,g.next=49,Object(Ar.b)([f,"json"]);case 49:return h=g.sent,g.next=52,Object(Ar.c)({type:Rn,payload:{searchResults:h}});case 52:g.next=59;break;case 54:return g.prev=54,g.t0=g.catch(2),console.warn("NDEx search error:",g.t0),g.next=59,Object(Ar.c)({type:In,payload:{message:"Failed to fetch search result",jobId:t,error:g.t0.message}});case 59:case"end":return g.stop()}},Pr,null,[[2,54]])}function Xr(e){var t,n,a,r,c,o;return xr.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload,n=t.id,a=t.sourceUUID,r=t.networkUUID,i.next=7,Object(Ar.b)(Lr,n,a,r);case 7:return c=i.sent,i.next=10,Object(Ar.b)([c,"json"]);case 10:return o=i.sent,console.log("Network fetched: ",o),i.next=14,Object(Ar.c)({type:oa,cx:o});case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(0),i.next=20,Object(Ar.c)({type:ia,error:i.t0});case 20:case"end":return i.stop()}},Hr,null,[[0,16]])}function Vr(e){var t,n,a,r;return xr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ar.b)(_r,null);case 3:return t=e.sent,e.next=6,Object(Ar.b)([t,"json"]);case 6:return n=e.sent,a=n.results.filter(function(e){return Qr.includes(e.name)}),r=a.sort(function(e,t){return Qr.indexOf(e.name)-Qr.indexOf(t.name)}),e.next=11,Object(Ar.c)({type:Oa,sources:r});case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),e.next=17,Object(Ar.c)({type:va,error:e.t0});case 17:case"end":return e.stop()}},Br,null,[[0,13]])}var Yr=function(e){for(var t=new Map,n=[],a=e.length;a--;){var r=e[a];r.notfound?n.push(r.query):t.set(r.query,r)}return{uniqueGeneMap:t,notFound:n}},Jr=xr.a.mark(Zr),$r=xr.a.mark(tc);function Zr(){return xr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ar.e)(Ca,tc);case 2:case"end":return e.stop()}},Jr)}var ec=function(e){return e.cyrest.port};function tc(e){var t,n,a,r,c;return xr.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.cx,o.prev=1,o.next=4,Object(Ar.d)(ec);case 4:return n=o.sent,a=!0,t.forEach(function(e){e.numberVerification&&(a=!1)}),r=(a?[{numberVerification:[{longNumber:0xffffffffffff}]}]:[]).concat(t),o.next=10,Object(Ar.b)(pt,n,r);case 10:return c=o.sent,console.log("CyREST response:",c),o.next=14,Object(Ar.c)({type:ka,payload:{}});case 14:o.next=21;break;case 16:return o.prev=16,o.t0=o.catch(1),console.warn("CyREST import network error:",o.t0),o.next=21,Object(Ar.c)({type:Na,payload:{message:"CyREST import network error",error:o.t0.message}});case 21:case"end":return o.stop()}},$r,null,[[1,16]])}Ia.a.initialize("UA-62588031-6",{gaOptions:{siteSpeedSampleRate:100}});var nc={SetQuery:Nn,OpenInCytoscape:"OPEN_IN_CYTOSCAPE",NetworkSelected:"NETWORK_FETCH_STARTED"},ac=function(e){var t=e.type;if(console.log("*** Event handler:::",e),t===Nn)Ia.a.event({category:"User Action",action:nc.SetQuery,label:e.payload});else if("IMPORT_NETWORK_STARTED"===t)Ia.a.event({category:"User Action",action:nc.OpenInCytoscape,label:e.payload.uuid});else{if(void 0===e.payload)return;Ia.a.event({category:"User Action",action:nc.NetworkSelected,label:"".concat(e.payload.sourceUUID,"/").concat(e.payload.networkUUID)})}},rc=Object(h.a)(),cc=Object(u.createStore)(Nr,Object(g.composeWithDevTools)(Object(u.applyMiddleware)(rc),Object(u.applyMiddleware)(function(e){return function(e){return function(t){return ac(t),e(t)}}})));rc.run(Wr),rc.run(Zr);Object(m.render)(l.a.createElement(function(e){var t=e.store;return l.a.createElement(d.a,{store:t},l.a.createElement(p.a,{basename:""},l.a.createElement(f.c,null,l.a.createElement(f.a,{exact:!0,path:"/",component:Za}),l.a.createElement(f.a,{path:"/:jobid/:sourceId/:networkId",component:er}),l.a.createElement(f.a,{path:"/:jobid/:sourceId",component:er}),l.a.createElement(f.a,{path:"/:jobid",component:er}))))},{store:cc}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,t,n){},78:function(e,t,n){e.exports=n.p+"static/media/ndex-logo.04d7bf44.svg"}},[[274,1,2]]]);
//# sourceMappingURL=main.cc0693d8.chunk.js.map